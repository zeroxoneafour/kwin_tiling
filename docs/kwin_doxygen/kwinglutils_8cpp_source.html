<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KWin: /home/vaughanm/other-git/kwin/src/libkwineffects/kwinglutils.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">KWin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_cb0f8542d3c985156b1e4c09e38eaa7f.html">kwin</a></li><li class="navelem"><a class="el" href="dir_1436adf8da9308409df4e1a559fda635.html">src</a></li><li class="navelem"><a class="el" href="dir_cc949d23444d4b2252d53e26413a1799.html">libkwineffects</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">kwinglutils.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="kwinglutils_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">    KWin - the KDE window manager</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">    This file is part of the KDE project.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"></span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">    SPDX-FileCopyrightText: 2006-2007 Rivo Laks &lt;rivolaks@hot.ee&gt;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">    SPDX-FileCopyrightText: 2010, 2011 Martin Gräßlin &lt;mgraesslin@kde.org&gt;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment"></span> </div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">    SPDX-License-Identifier: GPL-2.0-or-later</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">*/</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span> </div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &quot;<a class="code" href="kwinglutils_8h.html">kwinglutils.h</a>&quot;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">// need to call GLTexturePrivate::initStatic()</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="kwingltexture__p_8h.html">kwingltexture_p.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="kwineffects_8h.html">kwineffects.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="kwinglplatform_8h.html">kwinglplatform.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="logging__p_8h.html">logging_p.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;QFile&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;QHash&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;QImage&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;QMatrix4x4&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;QPixmap&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &lt;QVarLengthArray&gt;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &lt;QVector2D&gt;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &lt;QVector3D&gt;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &lt;QVector4D&gt;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &lt;deque&gt;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno"><a class="line" href="kwinglutils_8cpp.html#ad99c0498abe53d2c7889418cdcbcc818">   34</a></span><span class="preprocessor">#define DEBUG_GLFRAMEBUFFER 0</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#ifdef __GNUC__</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#define likely(x) __builtin_expect(!!(x), 1)</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#define unlikely(x) __builtin_expect(!!(x), 0)</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="kwinglutils_8cpp.html#a217a0bd562b98ae8c2ffce44935351e1">   40</a></span><span class="preprocessor">#define likely(x) (x)</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="kwinglutils_8cpp.html#ac6c45889010c1bd68631771b64f18101">   41</a></span><span class="preprocessor">#define unlikely(x) (x)</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span> </div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespace_k_win.html">KWin</a></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>{</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="comment">// Variables</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="comment">// List of all supported GL extensions</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="keyword">static</span> QList&lt;QByteArray&gt; glExtensions;</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="comment">// Functions</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> </div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="keyword">static</span> <span class="keywordtype">void</span> initDebugOutput()</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>{</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <span class="keyword">static</span> <span class="keywordtype">bool</span> enabled = qEnvironmentVariableIntValue(<span class="stringliteral">&quot;KWIN_GL_DEBUG&quot;</span>);</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <span class="keywordflow">if</span> (!enabled) {</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    }</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> have_KHR_debug = <a class="code hl_function" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">hasGLExtension</a>(QByteArrayLiteral(<span class="stringliteral">&quot;GL_KHR_debug&quot;</span>));</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> have_ARB_debug = <a class="code hl_function" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">hasGLExtension</a>(QByteArrayLiteral(<span class="stringliteral">&quot;GL_ARB_debug_output&quot;</span>));</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <span class="keywordflow">if</span> (!have_KHR_debug &amp;&amp; !have_ARB_debug) {</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    }</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    <span class="keywordflow">if</span> (!have_ARB_debug) {</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>        <span class="comment">// if we don&#39;t have ARB debug, but only KHR debug we need to verify whether the context is a debug context</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>        <span class="comment">// it should work without as well, but empirical tests show: no it doesn&#39;t</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>()-&gt;isGLES()) {</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">hasGLVersion</a>(3, 2)) {</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>                <span class="comment">// empirical data shows extension doesn&#39;t work</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>            }</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">hasGLVersion</a>(3, 0)) {</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>        }</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>        <span class="comment">// can only be queried with either OpenGL &gt;= 3.0 or OpenGL ES of at least 3.1</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>        GLint value = 0;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>        glGetIntegerv(GL_CONTEXT_FLAGS, &amp;value);</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>        <span class="keywordflow">if</span> (!(value &amp; GL_CONTEXT_FLAG_DEBUG_BIT)) {</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>        }</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    }</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <span class="comment">// Set the callback function</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <span class="keyword">auto</span> callback = [](GLenum source, GLenum <a class="code hl_variable" href="namespace_k_win.html#a3223e96fea9ab917c25be94e2434013a">type</a>, GLuint id,</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>                       GLenum severity, GLsizei length,</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>                       <span class="keyword">const</span> GLchar *message,</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>                       <span class="keyword">const</span> GLvoid *userParam) {</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>        <span class="keywordflow">while</span> (length &amp;&amp; std::isspace(message[length - 1])) {</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>            --length;</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>        }</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span> </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="namespace_k_win.html#a3223e96fea9ab917c25be94e2434013a">type</a>) {</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>        <span class="keywordflow">case</span> GL_DEBUG_TYPE_ERROR:</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>        <span class="keywordflow">case</span> GL_DEBUG_TYPE_UNDEFINED_BEHAVIOR:</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>            qCWarning(LIBKWINGLUTILS, <span class="stringliteral">&quot;%#x: %.*s&quot;</span>, <span class="keywordtype">id</span>, length, message);</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span> </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>        <span class="keywordflow">case</span> GL_DEBUG_TYPE_OTHER:</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>        <span class="keywordflow">case</span> GL_DEBUG_TYPE_DEPRECATED_BEHAVIOR:</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>        <span class="keywordflow">case</span> GL_DEBUG_TYPE_PORTABILITY:</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>        <span class="keywordflow">case</span> GL_DEBUG_TYPE_PERFORMANCE:</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>            qCDebug(LIBKWINGLUTILS, <span class="stringliteral">&quot;%#x: %.*s&quot;</span>, <span class="keywordtype">id</span>, length, message);</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>        }</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    };</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span> </div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    glDebugMessageCallback(callback, <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="comment">// This state exists only in GL_KHR_debug</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="keywordflow">if</span> (have_KHR_debug) {</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>        glEnable(GL_DEBUG_OUTPUT);</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    }</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span> </div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span><span class="preprocessor">#if !defined(QT_NO_DEBUG)</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="comment">// Enable all debug messages</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    glDebugMessageControl(GL_DONT_CARE, GL_DONT_CARE, GL_DONT_CARE, 0, <span class="keyword">nullptr</span>, GL_TRUE);</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <span class="comment">// Enable error messages</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    glDebugMessageControl(GL_DONT_CARE, GL_DEBUG_TYPE_ERROR, GL_DONT_CARE, 0, <span class="keyword">nullptr</span>, GL_TRUE);</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    glDebugMessageControl(GL_DONT_CARE, GL_DEBUG_TYPE_UNDEFINED_BEHAVIOR, GL_DONT_CARE, 0, <span class="keyword">nullptr</span>, GL_TRUE);</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span> </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="comment">// Insert a test message</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="keyword">const</span> QByteArray message = QByteArrayLiteral(<span class="stringliteral">&quot;OpenGL debug output initialized&quot;</span>);</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    glDebugMessageInsert(GL_DEBUG_SOURCE_APPLICATION, GL_DEBUG_TYPE_OTHER, 0,</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>                         GL_DEBUG_SEVERITY_LOW, message.length(), message.constData());</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>}</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="namespace_k_win.html#abec06cdd3e590929a8ad5afa9b33495e">  131</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespace_k_win.html#abec06cdd3e590929a8ad5afa9b33495e">initGL</a>(<span class="keyword">const</span> std::function&lt;<a class="code hl_typedef" href="namespace_k_win.html#a37f41802e32d865e1ea72146ac49976d">resolveFuncPtr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *)&gt; &amp;resolveFunction)</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>{</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="comment">// Get list of supported OpenGL extensions</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">hasGLVersion</a>(3, 0)) {</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>        <span class="keywordtype">int</span> count;</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>        glGetIntegerv(GL_NUM_EXTENSIONS, &amp;count);</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span> </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; i++) {</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>            <span class="keyword">const</span> QByteArray name = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)glGetStringi(GL_EXTENSIONS, i);</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>            glExtensions &lt;&lt; name;</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>        }</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        glExtensions = QByteArray((<span class="keyword">const</span> <span class="keywordtype">char</span> *)glGetString(GL_EXTENSIONS)).split(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    }</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="comment">// handle OpenGL extensions functions</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <a class="code hl_function" href="namespace_k_win.html#a2f3f6214a4ee208fa2ca5146e2f5dfb4">glResolveFunctions</a>(resolveFunction);</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span> </div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    initDebugOutput();</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span> </div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_texture_private.html#aa5d4fc91f094ca3a0b3755cbc9a1ac68">GLTexturePrivate::initStatic</a>();</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a7fadfe10acf795fbc7fab90e87e9d5d2">GLFramebuffer::initStatic</a>();</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a3c3c111e02755f03956d62be856f5362">GLVertexBuffer::initStatic</a>();</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>}</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno"><a class="line" href="namespace_k_win.html#a0248d00008818b2fc621c7a04283a6a8">  156</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespace_k_win.html#a0248d00008818b2fc621c7a04283a6a8">cleanupGL</a>()</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>{</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#ad3a987dca8efdd872067e944fe95f106">ShaderManager::cleanup</a>();</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    GLTexturePrivate::cleanup();</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    GLFramebuffer::cleanup();</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a430a7471ca688a0cb7e34881563804e4">GLVertexBuffer::cleanup</a>();</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    GLPlatform::cleanup();</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    glExtensions.clear();</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>}</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span> </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno"><a class="line" href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">  167</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">hasGLVersion</a>(<span class="keywordtype">int</span> major, <span class="keywordtype">int</span> minor, <span class="keywordtype">int</span> release)</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>{</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>()-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#ad730001aeda0dd76ad351f7b9536d3d5">glVersion</a>() &gt;= <a class="code hl_function" href="namespace_k_win.html#a8ee4963427035f19f3113135353e274b">kVersionNumber</a>(major, minor, release);</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>}</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span> </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno"><a class="line" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">  172</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">hasGLExtension</a>(<span class="keyword">const</span> QByteArray &amp;extension)</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>{</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <span class="keywordflow">return</span> glExtensions.contains(extension);</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>}</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span> </div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno"><a class="line" href="namespace_k_win.html#a6533ff118367a4134acc9eceba330339">  177</a></span>QList&lt;QByteArray&gt; <a class="code hl_function" href="namespace_k_win.html#a6533ff118367a4134acc9eceba330339">openGLExtensions</a>()</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>{</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <span class="keywordflow">return</span> glExtensions;</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>}</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span> </div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span><span class="keyword">static</span> QString formatGLError(GLenum err)</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>{</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <span class="keywordflow">switch</span> (err) {</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="keywordflow">case</span> GL_NO_ERROR:</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        <span class="keywordflow">return</span> QStringLiteral(<span class="stringliteral">&quot;GL_NO_ERROR&quot;</span>);</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <span class="keywordflow">case</span> GL_INVALID_ENUM:</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>        <span class="keywordflow">return</span> QStringLiteral(<span class="stringliteral">&quot;GL_INVALID_ENUM&quot;</span>);</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <span class="keywordflow">case</span> GL_INVALID_VALUE:</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>        <span class="keywordflow">return</span> QStringLiteral(<span class="stringliteral">&quot;GL_INVALID_VALUE&quot;</span>);</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    <span class="keywordflow">case</span> GL_INVALID_OPERATION:</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>        <span class="keywordflow">return</span> QStringLiteral(<span class="stringliteral">&quot;GL_INVALID_OPERATION&quot;</span>);</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <span class="keywordflow">case</span> GL_STACK_OVERFLOW:</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>        <span class="keywordflow">return</span> QStringLiteral(<span class="stringliteral">&quot;GL_STACK_OVERFLOW&quot;</span>);</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <span class="keywordflow">case</span> GL_STACK_UNDERFLOW:</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>        <span class="keywordflow">return</span> QStringLiteral(<span class="stringliteral">&quot;GL_STACK_UNDERFLOW&quot;</span>);</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <span class="keywordflow">case</span> GL_OUT_OF_MEMORY:</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>        <span class="keywordflow">return</span> QStringLiteral(<span class="stringliteral">&quot;GL_OUT_OF_MEMORY&quot;</span>);</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>        <span class="keywordflow">return</span> QLatin1String(<span class="stringliteral">&quot;0x&quot;</span>) + QString::number(err, 16);</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    }</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>}</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span> </div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno"><a class="line" href="namespace_k_win.html#ad2440ea2da1e281ea9a91cfe53d4d687">  204</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="namespace_k_win.html#ad2440ea2da1e281ea9a91cfe53d4d687">checkGLError</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *txt)</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>{</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    GLenum err = glGetError();</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <span class="keywordflow">if</span> (err == GL_CONTEXT_LOST) {</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        qCWarning(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;GL error: context lost&quot;</span>;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    }</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    <span class="keywordtype">bool</span> hasError = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    <span class="keywordflow">while</span> (err != GL_NO_ERROR) {</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        qCWarning(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;GL error (&quot;</span> &lt;&lt; txt &lt;&lt; <span class="stringliteral">&quot;): &quot;</span> &lt;&lt; formatGLError(err);</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>        hasError = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>        err = glGetError();</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>        <span class="keywordflow">if</span> (err == GL_CONTEXT_LOST) {</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>            qCWarning(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;GL error: context lost&quot;</span>;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>        }</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    }</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <span class="keywordflow">return</span> hasError;</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>}</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span> </div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span><span class="comment">//****************************************</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span><span class="comment">// GLShader</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span><span class="comment">//****************************************</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#ad541f1e0686f484edb51277df0ae164f">  228</a></span><a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#ab84b9566c32bfcfd2f4ad9f00523865e">GLShader::GLShader</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    : mValid(false)</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    , mLocationsResolved(false)</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    , mExplicitLinking(flags &amp; ExplicitLinking)</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>{</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    mProgram = glCreateProgram();</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>}</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span> </div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#ab84b9566c32bfcfd2f4ad9f00523865e">  236</a></span><a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#ab84b9566c32bfcfd2f4ad9f00523865e">GLShader::GLShader</a>(<span class="keyword">const</span> QString &amp;vertexfile, <span class="keyword">const</span> QString &amp;fragmentfile, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    : mValid(false)</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    , mLocationsResolved(false)</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    , mExplicitLinking(flags &amp; ExplicitLinking)</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>{</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    mProgram = glCreateProgram();</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a5392a2d740b8025a9488c38e30fe4b92">loadFromFiles</a>(vertexfile, fragmentfile);</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>}</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span> </div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a4859aa0497a1f22647f79e4edf50916f">  245</a></span><a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a4859aa0497a1f22647f79e4edf50916f">GLShader::~GLShader</a>()</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>{</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <span class="keywordflow">if</span> (mProgram) {</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        glDeleteProgram(mProgram);</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    }</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>}</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> </div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a5392a2d740b8025a9488c38e30fe4b92">  252</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a5392a2d740b8025a9488c38e30fe4b92">GLShader::loadFromFiles</a>(<span class="keyword">const</span> QString &amp;vertexFile, <span class="keyword">const</span> QString &amp;fragmentFile)</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>{</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    QFile vf(vertexFile);</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    <span class="keywordflow">if</span> (!vf.open(QIODevice::ReadOnly)) {</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>        qCCritical(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;Couldn&#39;t open&quot;</span> &lt;&lt; vertexFile &lt;&lt; <span class="stringliteral">&quot;for reading!&quot;</span>;</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    }</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <span class="keyword">const</span> QByteArray vertexSource = vf.readAll();</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span> </div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    QFile ff(fragmentFile);</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="keywordflow">if</span> (!ff.open(QIODevice::ReadOnly)) {</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        qCCritical(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;Couldn&#39;t open&quot;</span> &lt;&lt; fragmentFile &lt;&lt; <span class="stringliteral">&quot;for reading!&quot;</span>;</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    }</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    <span class="keyword">const</span> QByteArray fragmentSource = ff.readAll();</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a0c91ed04128048e79e58fc0342c4b0cc">load</a>(vertexSource, fragmentSource);</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>}</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span> </div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a887095b409a8fc8a3fc0080fbc5f4282">  271</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a887095b409a8fc8a3fc0080fbc5f4282">GLShader::link</a>()</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>{</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    <span class="comment">// Be optimistic</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    mValid = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span> </div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    glLinkProgram(mProgram);</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span> </div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <span class="comment">// Get the program info log</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <span class="keywordtype">int</span> maxLength, length;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    glGetProgramiv(mProgram, GL_INFO_LOG_LENGTH, &amp;maxLength);</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span> </div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    QByteArray log(maxLength, 0);</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    glGetProgramInfoLog(mProgram, maxLength, &amp;length, log.data());</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span> </div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <span class="comment">// Make sure the program linked successfully</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    <span class="keywordtype">int</span> status;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    glGetProgramiv(mProgram, GL_LINK_STATUS, &amp;status);</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span> </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    <span class="keywordflow">if</span> (status == 0) {</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>        qCCritical(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;Failed to link shader:&quot;</span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>                                   &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>                                   &lt;&lt; log;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>        mValid = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (length &gt; 0) {</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        qCDebug(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;Shader link log:&quot;</span> &lt;&lt; log;</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    }</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span> </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    <span class="keywordflow">return</span> mValid;</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>}</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span> </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a53b3632c48af302767cc369a7a964563">  301</a></span><span class="keyword">const</span> QByteArray <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a53b3632c48af302767cc369a7a964563">GLShader::prepareSource</a>(GLenum shaderType, <span class="keyword">const</span> QByteArray &amp;source)<span class="keyword"> const</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    <span class="comment">// Prepare the source code</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    QByteArray ba;</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>()-&gt;isGLES() &amp;&amp; <a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>()-&gt;glslVersion() &lt; <a class="code hl_function" href="namespace_k_win.html#a8ee4963427035f19f3113135353e274b">kVersionNumber</a>(3, 0)) {</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        ba.append(<span class="stringliteral">&quot;precision highp float;\n&quot;</span>);</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    }</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    ba.append(source);</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>()-&gt;isGLES() &amp;&amp; <a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>()-&gt;glslVersion() &gt;= <a class="code hl_function" href="namespace_k_win.html#a8ee4963427035f19f3113135353e274b">kVersionNumber</a>(3, 0)) {</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        ba.replace(<span class="stringliteral">&quot;#version 140&quot;</span>, <span class="stringliteral">&quot;#version 300 es\n\nprecision highp float;\n&quot;</span>);</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    }</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span> </div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    <span class="keywordflow">return</span> ba;</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>}</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span> </div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#aa603e1dfe0d238f5e3e49cb21a58527e">  316</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#aa603e1dfe0d238f5e3e49cb21a58527e">GLShader::compile</a>(GLuint program, GLenum shaderType, <span class="keyword">const</span> QByteArray &amp;source)<span class="keyword"> const</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    GLuint shader = glCreateShader(shaderType);</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    QByteArray preparedSource = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a53b3632c48af302767cc369a7a964563">prepareSource</a>(shaderType, source);</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *src = preparedSource.constData();</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>    glShaderSource(shader, 1, &amp;src, <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span> </div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>    <span class="comment">// Compile the shader</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    glCompileShader(shader);</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    <span class="comment">// Get the shader info log</span></div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>    <span class="keywordtype">int</span> maxLength, length;</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>    glGetShaderiv(shader, GL_INFO_LOG_LENGTH, &amp;maxLength);</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span> </div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    QByteArray log(maxLength, 0);</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    glGetShaderInfoLog(shader, maxLength, &amp;length, log.data());</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span> </div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <span class="comment">// Check the status</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <span class="keywordtype">int</span> status;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    glGetShaderiv(shader, GL_COMPILE_STATUS, &amp;status);</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span> </div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    <span class="keywordflow">if</span> (status == 0) {</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *typeName = (shaderType == GL_VERTEX_SHADER ? <span class="stringliteral">&quot;vertex&quot;</span> : <span class="stringliteral">&quot;fragment&quot;</span>);</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>        qCCritical(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;Failed to compile&quot;</span> &lt;&lt; typeName &lt;&lt; <span class="stringliteral">&quot;shader:&quot;</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>                                   &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>                                   &lt;&lt; log;</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (length &gt; 0) {</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>        qCDebug(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;Shader compile log:&quot;</span> &lt;&lt; log;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    }</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span> </div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    <span class="keywordflow">if</span> (status != 0) {</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>        glAttachShader(program, shader);</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    }</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span> </div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    glDeleteShader(shader);</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    <span class="keywordflow">return</span> status != 0;</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>}</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span> </div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a0c91ed04128048e79e58fc0342c4b0cc">  355</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a0c91ed04128048e79e58fc0342c4b0cc">GLShader::load</a>(<span class="keyword">const</span> QByteArray &amp;vertexSource, <span class="keyword">const</span> QByteArray &amp;fragmentSource)</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>{</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <span class="comment">// Make sure shaders are actually supported</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    <span class="keywordflow">if</span> (!(<a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>()-&gt;supports(<a class="code hl_enumvalue" href="namespace_k_win.html#a1a835bd09f64ab02e1dcc305149e52c0adbc4e01328e25c40ce2753a86d8151fb">GLSL</a>) &amp;&amp;</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>          <span class="comment">// we lack shader branching for Texture2DRectangle everywhere - and it&#39;s probably not worth it</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>          <a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>()-&gt;supports(<a class="code hl_enumvalue" href="namespace_k_win.html#a1a835bd09f64ab02e1dcc305149e52c0aad342f061e5658653454947703274e65">TextureNPOT</a>))) {</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        qCCritical(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;Shaders are not supported&quot;</span>;</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    }</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span> </div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    mValid = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span> </div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    <span class="comment">// Compile the vertex shader</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <span class="keywordflow">if</span> (!vertexSource.isEmpty()) {</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>        <span class="keywordtype">bool</span> success = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#aa603e1dfe0d238f5e3e49cb21a58527e">compile</a>(mProgram, GL_VERTEX_SHADER, vertexSource);</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span> </div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>        <span class="keywordflow">if</span> (!success) {</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>        }</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    }</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    <span class="comment">// Compile the fragment shader</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    <span class="keywordflow">if</span> (!fragmentSource.isEmpty()) {</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>        <span class="keywordtype">bool</span> success = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#aa603e1dfe0d238f5e3e49cb21a58527e">compile</a>(mProgram, GL_FRAGMENT_SHADER, fragmentSource);</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span> </div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>        <span class="keywordflow">if</span> (!success) {</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>        }</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    }</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span> </div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <span class="keywordflow">if</span> (mExplicitLinking) {</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    }</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <span class="comment">// link() sets mValid</span></div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a887095b409a8fc8a3fc0080fbc5f4282">link</a>();</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>}</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span> </div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a96bad8743855d33a234b3564319baf05">  393</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a96bad8743855d33a234b3564319baf05">GLShader::bindAttributeLocation</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> index)</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>{</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    glBindAttribLocation(mProgram, index, name);</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>}</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span> </div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a9d22d9f09c2693766f08e4a93c8d4b16">  398</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a9d22d9f09c2693766f08e4a93c8d4b16">GLShader::bindFragDataLocation</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> index)</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>{</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>()-&gt;isGLES() &amp;&amp; (<a class="code hl_function" href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">hasGLVersion</a>(3, 0) || <a class="code hl_function" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">hasGLExtension</a>(QByteArrayLiteral(<span class="stringliteral">&quot;GL_EXT_gpu_shader4&quot;</span>)))) {</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>        glBindFragDataLocation(mProgram, index, name);</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    }</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>}</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span> </div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#ae87d13e503040008ccf350ff9002186a">  405</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#ae87d13e503040008ccf350ff9002186a">GLShader::bind</a>()</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>{</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    glUseProgram(mProgram);</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>}</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span> </div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#aad72b9ce7cfb9f76cad3ed605072c30c">  410</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#aad72b9ce7cfb9f76cad3ed605072c30c">GLShader::unbind</a>()</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>{</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    glUseProgram(0);</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>}</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span> </div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a8ada3016c868b5b2c48ff2c15940c17a">  415</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a8ada3016c868b5b2c48ff2c15940c17a">GLShader::resolveLocations</a>()</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>{</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>    <span class="keywordflow">if</span> (mLocationsResolved) {</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    }</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span> </div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    mMatrixLocation[<a class="code hl_enumvalue" href="class_k_win_1_1_g_l_shader.html#addc060b05ab7be82009d1944e1e77a31aee52173b65eb07cc2b2da5522fda8e9a">TextureMatrix</a>] = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(<span class="stringliteral">&quot;textureMatrix&quot;</span>);</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    mMatrixLocation[<a class="code hl_enumvalue" href="class_k_win_1_1_g_l_shader.html#addc060b05ab7be82009d1944e1e77a31ac7b5f47a9a889ca259405fa0718d1808">ProjectionMatrix</a>] = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(<span class="stringliteral">&quot;projection&quot;</span>);</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    mMatrixLocation[<a class="code hl_enumvalue" href="class_k_win_1_1_g_l_shader.html#addc060b05ab7be82009d1944e1e77a31a3173e7e6d1b61ea65146329f85accb2e">ModelViewMatrix</a>] = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(<span class="stringliteral">&quot;modelview&quot;</span>);</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    mMatrixLocation[<a class="code hl_enumvalue" href="class_k_win_1_1_g_l_shader.html#addc060b05ab7be82009d1944e1e77a31aa2b7e4fb767ddbdfaf3f2cf5374b2de1">ModelViewProjectionMatrix</a>] = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(<span class="stringliteral">&quot;modelViewProjectionMatrix&quot;</span>);</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    mMatrixLocation[<a class="code hl_enumvalue" href="class_k_win_1_1_g_l_shader.html#addc060b05ab7be82009d1944e1e77a31ae4d0131bbf42ae0c9a43a86227cfedf2">WindowTransformation</a>] = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(<span class="stringliteral">&quot;windowTransformation&quot;</span>);</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>    mMatrixLocation[<a class="code hl_enumvalue" href="class_k_win_1_1_g_l_shader.html#addc060b05ab7be82009d1944e1e77a31a0c37fd30c2dc85c080966275c0c446ed">ScreenTransformation</a>] = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(<span class="stringliteral">&quot;screenTransformation&quot;</span>);</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span> </div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>    mVec2Location[<a class="code hl_enumvalue" href="class_k_win_1_1_g_l_shader.html#a9c9d1d6b08c0bd51be06a3f4e4b75d2da4b23e487b4e5cce6aff65b8d0fbc53e6">Offset</a>] = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(<span class="stringliteral">&quot;offset&quot;</span>);</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    mVec4Location[<a class="code hl_enumvalue" href="class_k_win_1_1_g_l_shader.html#a6d59cea8f85957921c86729db6a84b9ba16bd8d79e76c1c9c0584cf3e1e940d46">ModulationConstant</a>] = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(<span class="stringliteral">&quot;modulation&quot;</span>);</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span> </div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>    mFloatLocation[<a class="code hl_enumvalue" href="class_k_win_1_1_g_l_shader.html#a4ca07b55f39418655f237df9b679faf8a98ba339073d9d515269095b5a4570fbf">Saturation</a>] = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(<span class="stringliteral">&quot;saturation&quot;</span>);</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span> </div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    mColorLocation[<a class="code hl_enumvalue" href="class_k_win_1_1_g_l_shader.html#a5cd975ed881a6c02777c28ff85e3bf9ba2887c21e3dce079c11775ed702292b2b">Color</a>] = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(<span class="stringliteral">&quot;geometryColor&quot;</span>);</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span> </div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    mIntLocation[<a class="code hl_enumvalue" href="class_k_win_1_1_g_l_shader.html#a722159dac6e0dc4c4dab9a7efaa59617a555f12e3924efa8b836ac779ca95cca1">TextureWidth</a>] = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(<span class="stringliteral">&quot;textureWidth&quot;</span>);</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>    mIntLocation[<a class="code hl_enumvalue" href="class_k_win_1_1_g_l_shader.html#a722159dac6e0dc4c4dab9a7efaa59617a2b24100551202b299609d20ad220c2de">TextureHeight</a>] = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(<span class="stringliteral">&quot;textureHeight&quot;</span>);</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span> </div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    mLocationsResolved = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>}</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span> </div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">  442</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">GLShader::uniformLocation</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>{</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> location = glGetUniformLocation(mProgram, name);</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    <span class="keywordflow">return</span> location;</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>}</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span> </div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#adaf38fc55082441cdad90ebc6334a650">  448</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<a class="code hl_enumeration" href="class_k_win_1_1_g_l_shader.html#addc060b05ab7be82009d1944e1e77a31">GLShader::MatrixUniform</a> uniform, <span class="keyword">const</span> QMatrix4x4 &amp;matrix)</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>{</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a8ada3016c868b5b2c48ff2c15940c17a">resolveLocations</a>();</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">setUniform</a>(mMatrixLocation[uniform], matrix);</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>}</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span> </div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a846281833c8628463437fe058764bcff">  454</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<a class="code hl_enumeration" href="class_k_win_1_1_g_l_shader.html#a9c9d1d6b08c0bd51be06a3f4e4b75d2d">GLShader::Vec2Uniform</a> uniform, <span class="keyword">const</span> QVector2D &amp;value)</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>{</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a8ada3016c868b5b2c48ff2c15940c17a">resolveLocations</a>();</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">setUniform</a>(mVec2Location[uniform], value);</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>}</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span> </div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a4db07c5fadbcc3dfd12634d63b4855f8">  460</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<a class="code hl_enumeration" href="class_k_win_1_1_g_l_shader.html#a6d59cea8f85957921c86729db6a84b9b">GLShader::Vec4Uniform</a> uniform, <span class="keyword">const</span> QVector4D &amp;value)</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>{</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a8ada3016c868b5b2c48ff2c15940c17a">resolveLocations</a>();</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">setUniform</a>(mVec4Location[uniform], value);</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>}</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span> </div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#aa7a9f8a2771ecf84eab4310ede97c71b">  466</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<a class="code hl_enumeration" href="class_k_win_1_1_g_l_shader.html#a4ca07b55f39418655f237df9b679faf8">GLShader::FloatUniform</a> uniform, <span class="keywordtype">float</span> value)</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>{</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a8ada3016c868b5b2c48ff2c15940c17a">resolveLocations</a>();</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">setUniform</a>(mFloatLocation[uniform], value);</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>}</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span> </div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a8eaa6a79b44302446fa34dbbb63619dc">  472</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<a class="code hl_enumeration" href="class_k_win_1_1_g_l_shader.html#a722159dac6e0dc4c4dab9a7efaa59617">GLShader::IntUniform</a> uniform, <span class="keywordtype">int</span> value)</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>{</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a8ada3016c868b5b2c48ff2c15940c17a">resolveLocations</a>();</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">setUniform</a>(mIntLocation[uniform], value);</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>}</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span> </div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a841ebf6ccbb0c9e0051c7c4971955f3a">  478</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<a class="code hl_enumeration" href="class_k_win_1_1_g_l_shader.html#a5cd975ed881a6c02777c28ff85e3bf9b">GLShader::ColorUniform</a> uniform, <span class="keyword">const</span> QVector4D &amp;value)</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>{</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a8ada3016c868b5b2c48ff2c15940c17a">resolveLocations</a>();</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">setUniform</a>(mColorLocation[uniform], value);</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>}</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span> </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a9b025de07a16a1be01cd6b5808a8955d">  484</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<a class="code hl_enumeration" href="class_k_win_1_1_g_l_shader.html#a5cd975ed881a6c02777c28ff85e3bf9b">GLShader::ColorUniform</a> uniform, <span class="keyword">const</span> QColor &amp;value)</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>{</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a8ada3016c868b5b2c48ff2c15940c17a">resolveLocations</a>();</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">setUniform</a>(mColorLocation[uniform], value);</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>}</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span> </div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">  490</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keywordtype">float</span> value)</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>{</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> location = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(name);</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">setUniform</a>(location, value);</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>}</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span> </div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a3ebb9912280954764058e55f36c2ae4b">  496</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> value)</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>{</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> location = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(name);</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">setUniform</a>(location, value);</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>}</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span> </div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a4ac5bd3d5a3ce07ff78fe99fe94cde77">  502</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> QVector2D &amp;value)</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>{</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> location = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(name);</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">setUniform</a>(location, value);</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>}</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span> </div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a6daf28b2fe3ea03645a5fafb1674f4e6">  508</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> QVector3D &amp;value)</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>{</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> location = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(name);</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">setUniform</a>(location, value);</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>}</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span> </div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#ae29176e7073ba318f6c05a0e39c1d273">  514</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> QVector4D &amp;value)</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>{</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> location = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(name);</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">setUniform</a>(location, value);</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>}</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span> </div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a6429d862d7b9f9151e1b2d8feef8357a">  520</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> QMatrix4x4 &amp;value)</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>{</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> location = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(name);</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">setUniform</a>(location, value);</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>}</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span> </div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a465b485fd7a19541f757b2402093fbd3">  526</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> QColor &amp;color)</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>{</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> location = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(name);</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">setUniform</a>(location, color);</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>}</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span> </div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a2d14a593b2f856cd2ce07a6fad10c113">  532</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<span class="keywordtype">int</span> location, <span class="keywordtype">float</span> value)</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>{</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    <span class="keywordflow">if</span> (location &gt;= 0) {</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>        glUniform1f(location, value);</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    }</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>    <span class="keywordflow">return</span> (location &gt;= 0);</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>}</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span> </div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a254087bf1041071ee0a24645c7203c44">  540</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<span class="keywordtype">int</span> location, <span class="keywordtype">int</span> value)</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>{</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    <span class="keywordflow">if</span> (location &gt;= 0) {</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>        glUniform1i(location, value);</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>    }</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    <span class="keywordflow">return</span> (location &gt;= 0);</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>}</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span> </div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a14818977dd81415b06e2f3db4478acf5">  548</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<span class="keywordtype">int</span> location, <span class="keyword">const</span> QVector2D &amp;value)</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>{</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    <span class="keywordflow">if</span> (location &gt;= 0) {</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>        glUniform2fv(location, 1, (<span class="keyword">const</span> GLfloat *)&amp;value);</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>    }</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>    <span class="keywordflow">return</span> (location &gt;= 0);</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>}</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span> </div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#afbf4a1cc8c7f4bf51cb2a491a79f2653">  556</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<span class="keywordtype">int</span> location, <span class="keyword">const</span> QVector3D &amp;value)</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>{</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>    <span class="keywordflow">if</span> (location &gt;= 0) {</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>        glUniform3fv(location, 1, (<span class="keyword">const</span> GLfloat *)&amp;value);</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>    }</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>    <span class="keywordflow">return</span> (location &gt;= 0);</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>}</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span> </div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a205934d06cfa0086a36546dff6baaa4e">  564</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<span class="keywordtype">int</span> location, <span class="keyword">const</span> QVector4D &amp;value)</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>{</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>    <span class="keywordflow">if</span> (location &gt;= 0) {</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>        glUniform4fv(location, 1, (<span class="keyword">const</span> GLfloat *)&amp;value);</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>    }</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>    <span class="keywordflow">return</span> (location &gt;= 0);</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>}</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span> </div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a242c7914a77602cfd192bff1d58d1b29">  572</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<span class="keywordtype">int</span> location, <span class="keyword">const</span> QMatrix4x4 &amp;value)</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>{</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    <span class="keywordflow">if</span> (location &gt;= 0) {</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>        glUniformMatrix4fv(location, 1, GL_FALSE, value.constData());</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    }</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    <span class="keywordflow">return</span> (location &gt;= 0);</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>}</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span> </div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a36f4fdef0ba8047beab2c233330115bf">  580</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">GLShader::setUniform</a>(<span class="keywordtype">int</span> location, <span class="keyword">const</span> QColor &amp;color)</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>{</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    <span class="keywordflow">if</span> (location &gt;= 0) {</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        glUniform4f(location, color.redF(), color.greenF(), color.blueF(), color.alphaF());</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>    }</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>    <span class="keywordflow">return</span> (location &gt;= 0);</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>}</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span> </div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#ad4cb92cd93a384c74a0e69609f142dbe">  588</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#ad4cb92cd93a384c74a0e69609f142dbe">GLShader::attributeLocation</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>{</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>    <span class="keywordtype">int</span> location = glGetAttribLocation(mProgram, name);</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>    <span class="keywordflow">return</span> location;</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>}</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span> </div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a85be9c40fcc29294d994b7f320f31d39">  594</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a85be9c40fcc29294d994b7f320f31d39">GLShader::setAttribute</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keywordtype">float</span> value)</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>{</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>    <span class="keywordtype">int</span> location = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#ad4cb92cd93a384c74a0e69609f142dbe">attributeLocation</a>(name);</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>    <span class="keywordflow">if</span> (location &gt;= 0) {</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>        glVertexAttrib1f(location, value);</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    }</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>    <span class="keywordflow">return</span> (location &gt;= 0);</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>}</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span> </div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_shader.html#a5d2a9e7f60fb0e5080c7a6777656632c">  603</a></span>QMatrix4x4 <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a5d2a9e7f60fb0e5080c7a6777656632c">GLShader::getUniformMatrix4x4</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>{</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>    <span class="keywordtype">int</span> location = <a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">uniformLocation</a>(name);</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>    <span class="keywordflow">if</span> (location &gt;= 0) {</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>        GLfloat m[16];</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>        <a class="code hl_variable" href="namespace_k_win.html#a2e8b03336885017c7f43b1732adaa4e1">glGetnUniformfv</a>(mProgram, location, <span class="keyword">sizeof</span>(m), m);</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>        QMatrix4x4 matrix(m[0], m[4], m[8], m[12],</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>                          m[1], m[5], m[9], m[13],</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>                          m[2], m[6], m[10], m[14],</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>                          m[3], m[7], m[11], m[15]);</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>        matrix.optimize();</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>        <span class="keywordflow">return</span> matrix;</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>        <span class="keywordflow">return</span> QMatrix4x4();</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>    }</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>}</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span> </div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span><span class="comment">//****************************************</span></div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span><span class="comment">// ShaderManager</span></div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span><span class="comment">//****************************************</span></div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>std::unique_ptr&lt;ShaderManager&gt; ShaderManager::s_shaderManager;</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span> </div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno"><a class="line" href="class_k_win_1_1_shader_manager.html#aaf9c40a0a4f2e72ad6e30fa967dd073c">  625</a></span><a class="code hl_class" href="class_k_win_1_1_shader_manager.html">ShaderManager</a> *<a class="code hl_function" href="class_k_win_1_1_shader_manager.html#aaf9c40a0a4f2e72ad6e30fa967dd073c">ShaderManager::instance</a>()</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>{</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>    <span class="keywordflow">if</span> (!s_shaderManager) {</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>        s_shaderManager.reset(<span class="keyword">new</span> <a class="code hl_class" href="class_k_win_1_1_shader_manager.html">ShaderManager</a>());</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>    }</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    <span class="keywordflow">return</span> s_shaderManager.get();</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>}</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span> </div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno"><a class="line" href="class_k_win_1_1_shader_manager.html#ad3a987dca8efdd872067e944fe95f106">  633</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#ad3a987dca8efdd872067e944fe95f106">ShaderManager::cleanup</a>()</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>{</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>    s_shaderManager.reset();</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>}</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span> </div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>ShaderManager::ShaderManager()</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>{</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>}</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span> </div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno"><a class="line" href="class_k_win_1_1_shader_manager.html#ac458739dd73007f91cccfa95126e751b">  642</a></span><a class="code hl_function" href="class_k_win_1_1_shader_manager.html#ac458739dd73007f91cccfa95126e751b">ShaderManager::~ShaderManager</a>()</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>{</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>    <span class="keywordflow">while</span> (!m_boundShaders.isEmpty()) {</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>        <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a51d84e1d8c0d651b4968afdb3fba96c6">popShader</a>();</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>    }</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>}</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span> </div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>QByteArray ShaderManager::generateVertexSource(ShaderTraits traits)<span class="keyword"> const</span></div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>    QByteArray source;</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>    QTextStream stream(&amp;source);</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span> </div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>    <a class="code hl_class" href="class_k_win_1_1_g_l_platform.html">GLPlatform</a> *<span class="keyword">const</span> gl = <a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>();</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>    QByteArray attribute, varying;</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span> </div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>    <span class="keywordflow">if</span> (!gl-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a910c82647e1ac621be7f6c022f48a103">isGLES</a>()) {</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> glsl_140 = gl-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a8d0797861d55e41af8b99b32c1ae9ad5">glslVersion</a>() &gt;= <a class="code hl_function" href="namespace_k_win.html#a8ee4963427035f19f3113135353e274b">kVersionNumber</a>(1, 40);</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span> </div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>        attribute = glsl_140 ? QByteArrayLiteral(<span class="stringliteral">&quot;in&quot;</span>) : QByteArrayLiteral(<span class="stringliteral">&quot;attribute&quot;</span>);</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>        varying = glsl_140 ? QByteArrayLiteral(<span class="stringliteral">&quot;out&quot;</span>) : QByteArrayLiteral(<span class="stringliteral">&quot;varying&quot;</span>);</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span> </div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>        <span class="keywordflow">if</span> (glsl_140) {</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>            stream &lt;&lt; <span class="stringliteral">&quot;#version 140\n\n&quot;</span>;</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>        }</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> glsl_es_300 = gl-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a8d0797861d55e41af8b99b32c1ae9ad5">glslVersion</a>() &gt;= <a class="code hl_function" href="namespace_k_win.html#a8ee4963427035f19f3113135353e274b">kVersionNumber</a>(3, 0);</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span> </div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>        attribute = glsl_es_300 ? QByteArrayLiteral(<span class="stringliteral">&quot;in&quot;</span>) : QByteArrayLiteral(<span class="stringliteral">&quot;attribute&quot;</span>);</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        varying = glsl_es_300 ? QByteArrayLiteral(<span class="stringliteral">&quot;out&quot;</span>) : QByteArrayLiteral(<span class="stringliteral">&quot;varying&quot;</span>);</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span> </div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>        <span class="keywordflow">if</span> (glsl_es_300) {</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>            stream &lt;&lt; <span class="stringliteral">&quot;#version 300 es\n\n&quot;</span>;</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>        }</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>    }</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span> </div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>    stream &lt;&lt; attribute &lt;&lt; <span class="stringliteral">&quot; vec4 position;\n&quot;</span>;</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    <span class="keywordflow">if</span> (traits &amp; <a class="code hl_enumvalue" href="namespace_k_win.html#a5ea35b6d898ef92e1904522c66efa184a85736ea5bc8da56c443818dfff6ef91f">ShaderTrait::MapTexture</a>) {</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>        stream &lt;&lt; attribute &lt;&lt; <span class="stringliteral">&quot; vec4 texcoord;\n\n&quot;</span>;</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>        stream &lt;&lt; varying &lt;&lt; <span class="stringliteral">&quot; vec2 texcoord0;\n\n&quot;</span>;</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>        stream &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>    }</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span> </div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>    stream &lt;&lt; <span class="stringliteral">&quot;uniform mat4 modelViewProjectionMatrix;\n\n&quot;</span>;</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span> </div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    stream &lt;&lt; <span class="stringliteral">&quot;void main()\n{\n&quot;</span>;</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    <span class="keywordflow">if</span> (traits &amp; <a class="code hl_enumvalue" href="namespace_k_win.html#a5ea35b6d898ef92e1904522c66efa184a85736ea5bc8da56c443818dfff6ef91f">ShaderTrait::MapTexture</a>) {</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>        stream &lt;&lt; <span class="stringliteral">&quot;    texcoord0 = texcoord.st;\n&quot;</span>;</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>    }</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span> </div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>    stream &lt;&lt; <span class="stringliteral">&quot;    gl_Position = modelViewProjectionMatrix * position;\n&quot;</span>;</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>    stream &lt;&lt; <span class="stringliteral">&quot;}\n&quot;</span>;</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span> </div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    stream.flush();</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>    <span class="keywordflow">return</span> source;</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>}</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span> </div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>QByteArray ShaderManager::generateFragmentSource(ShaderTraits traits)<span class="keyword"> const</span></div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    QByteArray source;</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>    QTextStream stream(&amp;source);</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span> </div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>    GLPlatform *<span class="keyword">const</span> gl = <a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>();</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>    QByteArray varying, output, textureLookup;</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span> </div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>    <span class="keywordflow">if</span> (!gl-&gt;isGLES()) {</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> glsl_140 = gl-&gt;glslVersion() &gt;= <a class="code hl_function" href="namespace_k_win.html#a8ee4963427035f19f3113135353e274b">kVersionNumber</a>(1, 40);</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span> </div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>        <span class="keywordflow">if</span> (glsl_140) {</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>            stream &lt;&lt; <span class="stringliteral">&quot;#version 140\n\n&quot;</span>;</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>        }</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span> </div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>        varying = glsl_140 ? QByteArrayLiteral(<span class="stringliteral">&quot;in&quot;</span>) : QByteArrayLiteral(<span class="stringliteral">&quot;varying&quot;</span>);</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>        textureLookup = glsl_140 ? QByteArrayLiteral(<span class="stringliteral">&quot;texture&quot;</span>) : QByteArrayLiteral(<span class="stringliteral">&quot;texture2D&quot;</span>);</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>        output = glsl_140 ? QByteArrayLiteral(<span class="stringliteral">&quot;fragColor&quot;</span>) : QByteArrayLiteral(<span class="stringliteral">&quot;gl_FragColor&quot;</span>);</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> glsl_es_300 = <a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>()-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a8d0797861d55e41af8b99b32c1ae9ad5">glslVersion</a>() &gt;= <a class="code hl_function" href="namespace_k_win.html#a8ee4963427035f19f3113135353e274b">kVersionNumber</a>(3, 0);</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span> </div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>        <span class="keywordflow">if</span> (glsl_es_300) {</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>            stream &lt;&lt; <span class="stringliteral">&quot;#version 300 es\n\n&quot;</span>;</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>        }</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span> </div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>        <span class="comment">// From the GLSL ES specification:</span></div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>        <span class="comment">//</span></div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>        <span class="comment">//     &quot;The fragment language has no default precision qualifier for floating point types.&quot;</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>        stream &lt;&lt; <span class="stringliteral">&quot;precision highp float;\n\n&quot;</span>;</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span> </div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>        varying = glsl_es_300 ? QByteArrayLiteral(<span class="stringliteral">&quot;in&quot;</span>) : QByteArrayLiteral(<span class="stringliteral">&quot;varying&quot;</span>);</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>        textureLookup = glsl_es_300 ? QByteArrayLiteral(<span class="stringliteral">&quot;texture&quot;</span>) : QByteArrayLiteral(<span class="stringliteral">&quot;texture2D&quot;</span>);</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>        output = glsl_es_300 ? QByteArrayLiteral(<span class="stringliteral">&quot;fragColor&quot;</span>) : QByteArrayLiteral(<span class="stringliteral">&quot;gl_FragColor&quot;</span>);</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>    }</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span> </div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>    <span class="keywordflow">if</span> (traits &amp; <a class="code hl_enumvalue" href="namespace_k_win.html#a5ea35b6d898ef92e1904522c66efa184a85736ea5bc8da56c443818dfff6ef91f">ShaderTrait::MapTexture</a>) {</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>        stream &lt;&lt; <span class="stringliteral">&quot;uniform sampler2D sampler;\n&quot;</span>;</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span> </div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>        <span class="keywordflow">if</span> (traits &amp; <a class="code hl_enumvalue" href="namespace_k_win.html#a5ea35b6d898ef92e1904522c66efa184ac870e2fca2609e8077de9470fbb9ab43">ShaderTrait::Modulate</a>) {</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>            stream &lt;&lt; <span class="stringliteral">&quot;uniform vec4 modulation;\n&quot;</span>;</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>        }</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>        <span class="keywordflow">if</span> (traits &amp; <a class="code hl_enumvalue" href="namespace_k_win.html#a5ea35b6d898ef92e1904522c66efa184a21b19a78d7fe5620d542c70f4e1ad07e">ShaderTrait::AdjustSaturation</a>) {</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>            stream &lt;&lt; <span class="stringliteral">&quot;uniform float saturation;\n&quot;</span>;</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>        }</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span> </div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>        stream &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>               &lt;&lt; varying &lt;&lt; <span class="stringliteral">&quot; vec2 texcoord0;\n&quot;</span>;</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span> </div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (traits &amp; <a class="code hl_enumvalue" href="namespace_k_win.html#a5ea35b6d898ef92e1904522c66efa184a7974630d5c51a3472fbe51739f285185">ShaderTrait::UniformColor</a>) {</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>        stream &lt;&lt; <span class="stringliteral">&quot;uniform vec4 geometryColor;\n&quot;</span>;</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>    }</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span> </div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>    <span class="keywordflow">if</span> (output != QByteArrayLiteral(<span class="stringliteral">&quot;gl_FragColor&quot;</span>)) {</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>        stream &lt;&lt; <span class="stringliteral">&quot;\nout vec4 &quot;</span> &lt;&lt; output &lt;&lt; <span class="stringliteral">&quot;;\n&quot;</span>;</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>    }</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span> </div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>    stream &lt;&lt; <span class="stringliteral">&quot;\nvoid main(void)\n{\n&quot;</span>;</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>    <span class="keywordflow">if</span> (traits &amp; <a class="code hl_enumvalue" href="namespace_k_win.html#a5ea35b6d898ef92e1904522c66efa184a85736ea5bc8da56c443818dfff6ef91f">ShaderTrait::MapTexture</a>) {</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>        stream &lt;&lt; <span class="stringliteral">&quot;vec2 texcoordC = texcoord0;\n&quot;</span>;</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span> </div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>        <span class="keywordflow">if</span> (traits &amp; (<a class="code hl_enumvalue" href="namespace_k_win.html#a5ea35b6d898ef92e1904522c66efa184ac870e2fca2609e8077de9470fbb9ab43">ShaderTrait::Modulate</a> | <a class="code hl_enumvalue" href="namespace_k_win.html#a5ea35b6d898ef92e1904522c66efa184a21b19a78d7fe5620d542c70f4e1ad07e">ShaderTrait::AdjustSaturation</a>)) {</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>            stream &lt;&lt; <span class="stringliteral">&quot;    vec4 texel = &quot;</span> &lt;&lt; textureLookup &lt;&lt; <span class="stringliteral">&quot;(sampler, texcoordC);\n&quot;</span>;</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>            <span class="keywordflow">if</span> (traits &amp; <a class="code hl_enumvalue" href="namespace_k_win.html#a5ea35b6d898ef92e1904522c66efa184ac870e2fca2609e8077de9470fbb9ab43">ShaderTrait::Modulate</a>) {</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>                stream &lt;&lt; <span class="stringliteral">&quot;    texel *= modulation;\n&quot;</span>;</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>            }</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>            <span class="keywordflow">if</span> (traits &amp; <a class="code hl_enumvalue" href="namespace_k_win.html#a5ea35b6d898ef92e1904522c66efa184a21b19a78d7fe5620d542c70f4e1ad07e">ShaderTrait::AdjustSaturation</a>) {</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>                stream &lt;&lt; <span class="stringliteral">&quot;    texel.rgb = mix(vec3(dot(texel.rgb, vec3(0.2126, 0.7152, 0.0722))), texel.rgb, saturation);\n&quot;</span>;</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>            }</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span> </div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>            stream &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; output &lt;&lt; <span class="stringliteral">&quot; = texel;\n&quot;</span>;</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>            stream &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; output &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; textureLookup &lt;&lt; <span class="stringliteral">&quot;(sampler, texcoordC);\n&quot;</span>;</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>        }</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (traits &amp; <a class="code hl_enumvalue" href="namespace_k_win.html#a5ea35b6d898ef92e1904522c66efa184a7974630d5c51a3472fbe51739f285185">ShaderTrait::UniformColor</a>) {</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>        stream &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; output &lt;&lt; <span class="stringliteral">&quot; = geometryColor;\n&quot;</span>;</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>    }</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span> </div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    stream &lt;&lt; <span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>    stream.flush();</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>    <span class="keywordflow">return</span> source;</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>}</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span> </div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>std::unique_ptr&lt;GLShader&gt; ShaderManager::generateShader(ShaderTraits traits)</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>{</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#ac6aa576fa0612765a6f1ef565dd355e3">generateCustomShader</a>(traits);</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>}</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span> </div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno"><a class="line" href="class_k_win_1_1_shader_manager.html#ac6aa576fa0612765a6f1ef565dd355e3">  786</a></span>std::unique_ptr&lt;GLShader&gt; <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#ac6aa576fa0612765a6f1ef565dd355e3">ShaderManager::generateCustomShader</a>(ShaderTraits traits, <span class="keyword">const</span> QByteArray &amp;vertexSource, <span class="keyword">const</span> QByteArray &amp;fragmentSource)</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>{</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>    <span class="keyword">const</span> QByteArray vertex = vertexSource.isEmpty() ? generateVertexSource(traits) : vertexSource;</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>    <span class="keyword">const</span> QByteArray fragment = fragmentSource.isEmpty() ? generateFragmentSource(traits) : fragmentSource;</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span> </div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>    qCDebug(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;**************&quot;</span>;</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>    qCDebug(LIBKWINGLUTILS) &lt;&lt; vertex;</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>    qCDebug(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;**************&quot;</span>;</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>    qCDebug(LIBKWINGLUTILS) &lt;&lt; fragment;</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>    qCDebug(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;**************&quot;</span>;</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span> </div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>    std::unique_ptr&lt;GLShader&gt; <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>{<span class="keyword">new</span> <a class="code hl_class" href="class_k_win_1_1_g_l_shader.html">GLShader</a>(<a class="code hl_enumvalue" href="class_k_win_1_1_g_l_shader.html#a3dc6432fcd49e25ad4342a01f2ed15e6ab059d1622f2548b5c7e0f5c8580ab8a2">GLShader::ExplicitLinking</a>)};</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>    <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a0c91ed04128048e79e58fc0342c4b0cc">load</a>(vertex, fragment);</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span> </div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>    <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a96bad8743855d33a234b3564319baf05">bindAttributeLocation</a>(<span class="stringliteral">&quot;position&quot;</span>, <a class="code hl_enumvalue" href="namespace_k_win.html#a4559cf19c26624e384566b9859843499a28ec5128ff65bc7e124bcea51873aa3a">VA_Position</a>);</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>    <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a96bad8743855d33a234b3564319baf05">bindAttributeLocation</a>(<span class="stringliteral">&quot;texcoord&quot;</span>, <a class="code hl_enumvalue" href="namespace_k_win.html#a4559cf19c26624e384566b9859843499acb8706a051627d593d64635f4f9487cd">VA_TexCoord</a>);</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>    <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a9d22d9f09c2693766f08e4a93c8d4b16">bindFragDataLocation</a>(<span class="stringliteral">&quot;fragColor&quot;</span>, 0);</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span> </div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>    <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a887095b409a8fc8a3fc0080fbc5f4282">link</a>();</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>;</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>}</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span> </div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span><span class="keyword">static</span> QString resolveShaderFilePath(<span class="keyword">const</span> QString &amp;filePath)</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>{</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>    QString suffix;</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>    QString extension;</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span> </div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    <span class="keyword">const</span> qint64 coreVersionNumber = <a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>()-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a910c82647e1ac621be7f6c022f48a103">isGLES</a>() ? <a class="code hl_function" href="namespace_k_win.html#a8ee4963427035f19f3113135353e274b">kVersionNumber</a>(3, 0) : <a class="code hl_function" href="namespace_k_win.html#a8ee4963427035f19f3113135353e274b">kVersionNumber</a>(1, 40);</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>()-&gt;glslVersion() &gt;= coreVersionNumber) {</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>        suffix = QStringLiteral(<span class="stringliteral">&quot;_core&quot;</span>);</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>    }</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span> </div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>    <span class="keywordflow">if</span> (filePath.endsWith(QStringLiteral(<span class="stringliteral">&quot;.frag&quot;</span>))) {</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>        extension = QStringLiteral(<span class="stringliteral">&quot;.frag&quot;</span>);</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (filePath.endsWith(QStringLiteral(<span class="stringliteral">&quot;.vert&quot;</span>))) {</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>        extension = QStringLiteral(<span class="stringliteral">&quot;.vert&quot;</span>);</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>        qCWarning(LIBKWINGLUTILS) &lt;&lt; filePath &lt;&lt; <span class="stringliteral">&quot;must end either with .vert or .frag&quot;</span>;</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>        <span class="keywordflow">return</span> QString();</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>    }</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span> </div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>    <span class="keyword">const</span> QString prefix = filePath.chopped(extension.size());</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>    <span class="keywordflow">return</span> prefix + suffix + extension;</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>}</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span> </div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno"><a class="line" href="class_k_win_1_1_shader_manager.html#a3a336f77b008451717f7dbcfd3081ab0">  833</a></span>std::unique_ptr&lt;GLShader&gt; <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a3a336f77b008451717f7dbcfd3081ab0">ShaderManager::generateShaderFromFile</a>(ShaderTraits traits, <span class="keyword">const</span> QString &amp;vertexFile, <span class="keyword">const</span> QString &amp;fragmentFile)</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>{</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>    <span class="keyword">auto</span> loadShaderFile = [](<span class="keyword">const</span> QString &amp;filePath) {</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>        QFile file(filePath);</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>        <span class="keywordflow">if</span> (file.open(QIODevice::ReadOnly)) {</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>            <span class="keywordflow">return</span> file.readAll();</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>        }</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>        qCCritical(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;Failed to read shader &quot;</span> &lt;&lt; filePath;</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>        <span class="keywordflow">return</span> QByteArray();</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>    };</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>    QByteArray vertexSource;</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>    QByteArray fragmentSource;</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>    <span class="keywordflow">if</span> (!vertexFile.isEmpty()) {</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>        vertexSource = loadShaderFile(resolveShaderFilePath(vertexFile));</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>        <span class="keywordflow">if</span> (vertexSource.isEmpty()) {</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>            <span class="keywordflow">return</span> std::unique_ptr&lt;GLShader&gt;(<span class="keyword">new</span> <a class="code hl_class" href="class_k_win_1_1_g_l_shader.html">GLShader</a>());</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>        }</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>    }</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>    <span class="keywordflow">if</span> (!fragmentFile.isEmpty()) {</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>        fragmentSource = loadShaderFile(resolveShaderFilePath(fragmentFile));</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>        <span class="keywordflow">if</span> (fragmentSource.isEmpty()) {</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>            <span class="keywordflow">return</span> std::unique_ptr&lt;GLShader&gt;(<span class="keyword">new</span> <a class="code hl_class" href="class_k_win_1_1_g_l_shader.html">GLShader</a>());</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>        }</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    }</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#ac6aa576fa0612765a6f1ef565dd355e3">generateCustomShader</a>(traits, vertexSource, fragmentSource);</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>}</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span> </div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno"><a class="line" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">  860</a></span><a class="code hl_class" href="class_k_win_1_1_g_l_shader.html">GLShader</a> *<a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">ShaderManager::shader</a>(ShaderTraits traits)</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>{</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    std::unique_ptr&lt;GLShader&gt; &amp;<a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a> = m_shaderHash[traits];</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>) {</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>        <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a> = generateShader(traits);</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>    }</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>.get();</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>}</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span> </div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno"><a class="line" href="class_k_win_1_1_shader_manager.html#a0117859b54b7230de57c064a7019902f">  869</a></span><a class="code hl_class" href="class_k_win_1_1_g_l_shader.html">GLShader</a> *<a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a0117859b54b7230de57c064a7019902f">ShaderManager::getBoundShader</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>    <span class="keywordflow">if</span> (m_boundShaders.isEmpty()) {</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>        <span class="keywordflow">return</span> m_boundShaders.top();</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    }</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>}</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span> </div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno"><a class="line" href="class_k_win_1_1_shader_manager.html#a31b30265685d667445d604b31c3faaf2">  878</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a31b30265685d667445d604b31c3faaf2">ShaderManager::isShaderBound</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    <span class="keywordflow">return</span> !m_boundShaders.isEmpty();</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>}</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span> </div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno"><a class="line" href="class_k_win_1_1_shader_manager.html#aedd0dd423df032415b439a08c6f70fed">  883</a></span><a class="code hl_class" href="class_k_win_1_1_g_l_shader.html">GLShader</a> *<a class="code hl_function" href="class_k_win_1_1_shader_manager.html#aedd0dd423df032415b439a08c6f70fed">ShaderManager::pushShader</a>(ShaderTraits traits)</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>{</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>    <a class="code hl_class" href="class_k_win_1_1_g_l_shader.html">GLShader</a> *<a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a> = this-&gt;<a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>(traits);</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>    <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#aedd0dd423df032415b439a08c6f70fed">pushShader</a>(<a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>);</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>;</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>}</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span> </div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno"><a class="line" href="class_k_win_1_1_shader_manager.html#abfacae3932d52a14f12680b53cc0cb0a">  890</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#aedd0dd423df032415b439a08c6f70fed">ShaderManager::pushShader</a>(<a class="code hl_class" href="class_k_win_1_1_g_l_shader.html">GLShader</a> *shader)</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>{</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>    <span class="comment">// only bind shader if it is not already bound</span></div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a> != <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a0117859b54b7230de57c064a7019902f">getBoundShader</a>()) {</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>        <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#ae87d13e503040008ccf350ff9002186a">bind</a>();</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>    }</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>    m_boundShaders.push(<a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>);</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>}</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span> </div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno"><a class="line" href="class_k_win_1_1_shader_manager.html#a51d84e1d8c0d651b4968afdb3fba96c6">  899</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a51d84e1d8c0d651b4968afdb3fba96c6">ShaderManager::popShader</a>()</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>{</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>    <span class="keywordflow">if</span> (m_boundShaders.isEmpty()) {</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>    }</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>    <a class="code hl_class" href="class_k_win_1_1_g_l_shader.html">GLShader</a> *<a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a> = m_boundShaders.pop();</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>    <span class="keywordflow">if</span> (m_boundShaders.isEmpty()) {</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>        <span class="comment">// no more shader bound - unbind</span></div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>        <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#aad72b9ce7cfb9f76cad3ed605072c30c">unbind</a>();</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a> != m_boundShaders.top()) {</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>        <span class="comment">// only rebind if a different shader is on top of stack</span></div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>        m_boundShaders.top()-&gt;bind();</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>    }</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>}</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span> </div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span><span class="keywordtype">void</span> ShaderManager::bindFragDataLocations(<a class="code hl_class" href="class_k_win_1_1_g_l_shader.html">GLShader</a> *shader)</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>{</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>    <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a9d22d9f09c2693766f08e4a93c8d4b16">bindFragDataLocation</a>(<span class="stringliteral">&quot;fragColor&quot;</span>, 0);</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>}</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span> </div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span><span class="keywordtype">void</span> ShaderManager::bindAttributeLocations(GLShader *shader)<span class="keyword"> const</span></div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>    <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a96bad8743855d33a234b3564319baf05">bindAttributeLocation</a>(<span class="stringliteral">&quot;vertex&quot;</span>, <a class="code hl_enumvalue" href="namespace_k_win.html#a4559cf19c26624e384566b9859843499a28ec5128ff65bc7e124bcea51873aa3a">VA_Position</a>);</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>    <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a96bad8743855d33a234b3564319baf05">bindAttributeLocation</a>(<span class="stringliteral">&quot;texCoord&quot;</span>, <a class="code hl_enumvalue" href="namespace_k_win.html#a4559cf19c26624e384566b9859843499acb8706a051627d593d64635f4f9487cd">VA_TexCoord</a>);</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>}</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span> </div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno"><a class="line" href="class_k_win_1_1_shader_manager.html#ad1641f0d1dc0c4139a3a7ce2a2d5bf68">  925</a></span>std::unique_ptr&lt;GLShader&gt; <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#ad1641f0d1dc0c4139a3a7ce2a2d5bf68">ShaderManager::loadShaderFromCode</a>(<span class="keyword">const</span> QByteArray &amp;vertexSource, <span class="keyword">const</span> QByteArray &amp;fragmentSource)</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>{</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>    std::unique_ptr&lt;GLShader&gt; <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>{<span class="keyword">new</span> <a class="code hl_class" href="class_k_win_1_1_g_l_shader.html">GLShader</a>(<a class="code hl_enumvalue" href="class_k_win_1_1_g_l_shader.html#a3dc6432fcd49e25ad4342a01f2ed15e6ab059d1622f2548b5c7e0f5c8580ab8a2">GLShader::ExplicitLinking</a>)};</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>    <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a0c91ed04128048e79e58fc0342c4b0cc">load</a>(vertexSource, fragmentSource);</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>    bindAttributeLocations(<a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>.get());</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>    bindFragDataLocations(<a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>.get());</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>    <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#a887095b409a8fc8a3fc0080fbc5f4282">link</a>();</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">shader</a>;</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>}</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span> </div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span><span class="comment">/***  GLFramebuffer  ***/</span></div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span><span class="keywordtype">bool</span> GLFramebuffer::sSupported = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span><span class="keywordtype">bool</span> GLFramebuffer::s_blitSupported = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>QStack&lt;GLFramebuffer *&gt; GLFramebuffer::s_fbos = QStack&lt;GLFramebuffer *&gt;();</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span> </div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_framebuffer.html#a7fadfe10acf795fbc7fab90e87e9d5d2">  940</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a7fadfe10acf795fbc7fab90e87e9d5d2">GLFramebuffer::initStatic</a>()</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>{</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>()-&gt;isGLES()) {</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>        sSupported = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>        s_blitSupported = <a class="code hl_function" href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">hasGLVersion</a>(3, 0);</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>        sSupported = <a class="code hl_function" href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">hasGLVersion</a>(3, 0) || <a class="code hl_function" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">hasGLExtension</a>(QByteArrayLiteral(<span class="stringliteral">&quot;GL_ARB_framebuffer_object&quot;</span>)) || <a class="code hl_function" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">hasGLExtension</a>(QByteArrayLiteral(<span class="stringliteral">&quot;GL_EXT_framebuffer_object&quot;</span>));</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span> </div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>        s_blitSupported = <a class="code hl_function" href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">hasGLVersion</a>(3, 0) || <a class="code hl_function" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">hasGLExtension</a>(QByteArrayLiteral(<span class="stringliteral">&quot;GL_ARB_framebuffer_object&quot;</span>)) || <a class="code hl_function" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">hasGLExtension</a>(QByteArrayLiteral(<span class="stringliteral">&quot;GL_EXT_framebuffer_blit&quot;</span>));</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>    }</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>}</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span> </div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span><span class="keywordtype">void</span> GLFramebuffer::cleanup()</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>{</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>    Q_ASSERT(s_fbos.isEmpty());</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>    sSupported = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>    s_blitSupported = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>}</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span> </div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_framebuffer.html#a92f7e983e0f98f4f5911e37f70957189">  959</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a92f7e983e0f98f4f5911e37f70957189">GLFramebuffer::blitSupported</a>()</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>{</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>    <span class="keywordflow">return</span> s_blitSupported;</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>}</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span> </div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_framebuffer.html#a17ecd994c7b3d3874fe969e548e5063c">  964</a></span><a class="code hl_class" href="class_k_win_1_1_g_l_framebuffer.html">GLFramebuffer</a> *<a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a17ecd994c7b3d3874fe969e548e5063c">GLFramebuffer::currentFramebuffer</a>()</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>{</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>    <span class="keywordflow">return</span> s_fbos.isEmpty() ? nullptr : s_fbos.top();</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>}</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span> </div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_framebuffer.html#a7eb3049da73a065dcf8ff137fd9b5e3f">  969</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a7eb3049da73a065dcf8ff137fd9b5e3f">GLFramebuffer::pushFramebuffer</a>(<a class="code hl_class" href="class_k_win_1_1_g_l_framebuffer.html">GLFramebuffer</a> *fbo)</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>{</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>    fbo-&gt;bind();</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    s_fbos.push(fbo);</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>}</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span> </div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_framebuffer.html#a9ee9816ee58b022d460520c286437722">  975</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a9ee9816ee58b022d460520c286437722">GLFramebuffer::pushFramebuffers</a>(QStack&lt;GLFramebuffer *&gt; fbos)</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>{</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>    fbos.top()-&gt;bind();</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>    s_fbos.append(fbos);</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>}</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span> </div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_framebuffer.html#a3f7265ef927c8b0ab82728c5118c7bed">  981</a></span><a class="code hl_class" href="class_k_win_1_1_g_l_framebuffer.html">GLFramebuffer</a> *<a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a3f7265ef927c8b0ab82728c5118c7bed">GLFramebuffer::popFramebuffer</a>()</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>{</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>    <a class="code hl_class" href="class_k_win_1_1_g_l_framebuffer.html">GLFramebuffer</a> *ret = s_fbos.pop();</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>    <span class="keywordflow">if</span> (!s_fbos.isEmpty()) {</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>        s_fbos.top()-&gt;bind();</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>        glBindFramebuffer(GL_FRAMEBUFFER, 0);</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>    }</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span> </div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>}</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span> </div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_framebuffer.html#a98b39eb0540dcd95a07b85ba9e327f4c">  993</a></span><a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a98b39eb0540dcd95a07b85ba9e327f4c">GLFramebuffer::GLFramebuffer</a>()</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>{</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>}</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span> </div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_framebuffer.html#a766af4b0fa5e5dc6684219565226f394">  997</a></span><a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a98b39eb0540dcd95a07b85ba9e327f4c">GLFramebuffer::GLFramebuffer</a>(<a class="code hl_class" href="class_k_win_1_1_g_l_texture.html">GLTexture</a> *colorAttachment)</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>    : mSize(colorAttachment-&gt;size())</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>{</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>    <span class="comment">// Make sure FBO is supported</span></div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>    <span class="keywordflow">if</span> (sSupported &amp;&amp; !colorAttachment-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_texture.html#a4732e9350196f128470ca6a56dd89de9">isNull</a>()) {</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>        <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a19eafe9eb8d07ca817a1caf4cbbcdee0">initFBO</a>(colorAttachment);</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>        qCCritical(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;Framebuffer objects aren&#39;t supported!&quot;</span>;</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>    }</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>}</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span> </div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_framebuffer.html#ac9d795cca28ab7778c20cc3eac9b8642"> 1008</a></span><a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a98b39eb0540dcd95a07b85ba9e327f4c">GLFramebuffer::GLFramebuffer</a>(GLuint handle, <span class="keyword">const</span> QSize &amp;size)</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>    : mFramebuffer(handle)</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>    , mSize(size)</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>    , mValid(true)</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>    , mForeign(true)</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>{</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>}</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span> </div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_framebuffer.html#af1688ccbc82c13d2068ec4fa276d4aca"> 1016</a></span><a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#af1688ccbc82c13d2068ec4fa276d4aca">GLFramebuffer::~GLFramebuffer</a>()</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>{</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>    <span class="keywordflow">if</span> (!mForeign &amp;&amp; mValid) {</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>        glDeleteFramebuffers(1, &amp;mFramebuffer);</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>    }</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>}</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span> </div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span><span class="keywordtype">bool</span> GLFramebuffer::bind()</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>{</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a66c9d3c63c2e5d28cb8b79e2f252043a">valid</a>()) {</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>        qCCritical(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;Can&#39;t enable invalid framebuffer object!&quot;</span>;</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>    }</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span> </div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>    glBindFramebuffer(GL_FRAMEBUFFER, <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a9aee5a6576c020a3e599b21c62bddbbe">handle</a>());</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>    glViewport(0, 0, mSize.width(), mSize.height());</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span> </div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>}</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span> </div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span><span class="keyword">static</span> QString formatFramebufferStatus(GLenum status)</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>{</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>    <span class="keywordflow">switch</span> (status) {</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>    <span class="keywordflow">case</span> GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT:</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>        <span class="comment">// An attachment is the wrong type / is invalid / has 0 width or height</span></div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>        <span class="keywordflow">return</span> QStringLiteral(<span class="stringliteral">&quot;GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT&quot;</span>);</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>    <span class="keywordflow">case</span> GL_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>        <span class="comment">// There are no images attached to the framebuffer</span></div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>        <span class="keywordflow">return</span> QStringLiteral(<span class="stringliteral">&quot;GL_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT&quot;</span>);</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>    <span class="keywordflow">case</span> GL_FRAMEBUFFER_UNSUPPORTED:</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>        <span class="comment">// A format or the combination of formats of the attachments is unsupported</span></div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>        <span class="keywordflow">return</span> QStringLiteral(<span class="stringliteral">&quot;GL_FRAMEBUFFER_UNSUPPORTED&quot;</span>);</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>    <span class="keywordflow">case</span> GL_FRAMEBUFFER_INCOMPLETE_DIMENSIONS_EXT:</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>        <span class="comment">// Not all attached images have the same width and height</span></div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>        <span class="keywordflow">return</span> QStringLiteral(<span class="stringliteral">&quot;GL_FRAMEBUFFER_INCOMPLETE_DIMENSIONS_EXT&quot;</span>);</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>    <span class="keywordflow">case</span> GL_FRAMEBUFFER_INCOMPLETE_FORMATS_EXT:</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>        <span class="comment">// The color attachments don&#39;t have the same format</span></div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>        <span class="keywordflow">return</span> QStringLiteral(<span class="stringliteral">&quot;GL_FRAMEBUFFER_INCOMPLETE_FORMATS_EXT&quot;</span>);</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>    <span class="keywordflow">case</span> GL_FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_EXT:</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>        <span class="comment">// The attachments don&#39;t have the same number of samples</span></div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>        <span class="keywordflow">return</span> QStringLiteral(<span class="stringliteral">&quot;GL_FRAMEBUFFER_INCOMPLETE_MULTISAMPLE&quot;</span>);</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>    <span class="keywordflow">case</span> GL_FRAMEBUFFER_INCOMPLETE_DRAW_BUFFER_EXT:</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>        <span class="comment">// The draw buffer is missing</span></div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>        <span class="keywordflow">return</span> QStringLiteral(<span class="stringliteral">&quot;GL_FRAMEBUFFER_INCOMPLETE_DRAW_BUFFER&quot;</span>);</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>    <span class="keywordflow">case</span> GL_FRAMEBUFFER_INCOMPLETE_READ_BUFFER_EXT:</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>        <span class="comment">// The read buffer is missing</span></div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>        <span class="keywordflow">return</span> QStringLiteral(<span class="stringliteral">&quot;GL_FRAMEBUFFER_INCOMPLETE_READ_BUFFER&quot;</span>);</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>        <span class="keywordflow">return</span> QStringLiteral(<span class="stringliteral">&quot;Unknown (0x&quot;</span>) + QString::number(status, 16) + QStringLiteral(<span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>    }</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>}</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span> </div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_framebuffer.html#a19eafe9eb8d07ca817a1caf4cbbcdee0"> 1068</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a19eafe9eb8d07ca817a1caf4cbbcdee0">GLFramebuffer::initFBO</a>(<a class="code hl_class" href="class_k_win_1_1_g_l_texture.html">GLTexture</a> *colorAttachment)</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>{</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span><span class="preprocessor">#if DEBUG_GLFRAMEBUFFER</span></div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>    GLenum err = glGetError();</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>    <span class="keywordflow">if</span> (err != GL_NO_ERROR)</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>        qCCritical(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;Error status when entering GLFramebuffer::initFBO: &quot;</span> &lt;&lt; formatGLError(err);</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span> </div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>    GLuint prevFbo = 0;</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_k_win_1_1_g_l_framebuffer.html">GLFramebuffer</a> *current = <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a17ecd994c7b3d3874fe969e548e5063c">currentFramebuffer</a>()) {</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>        prevFbo = current-&gt;handle();</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>    }</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span> </div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>    glGenFramebuffers(1, &amp;mFramebuffer);</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span> </div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span><span class="preprocessor">#if DEBUG_GLFRAMEBUFFER</span></div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>    <span class="keywordflow">if</span> ((err = glGetError()) != GL_NO_ERROR) {</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>        qCCritical(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;glGenFramebuffers failed: &quot;</span> &lt;&lt; formatGLError(err);</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>    }</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span> </div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>    glBindFramebuffer(GL_FRAMEBUFFER, mFramebuffer);</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span> </div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span><span class="preprocessor">#if DEBUG_GLFRAMEBUFFER</span></div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>    <span class="keywordflow">if</span> ((err = glGetError()) != GL_NO_ERROR) {</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>        qCCritical(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;glBindFramebuffer failed: &quot;</span> &lt;&lt; formatGLError(err);</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>        glDeleteFramebuffers(1, &amp;mFramebuffer);</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>    }</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span> </div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>    glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0,</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>                           colorAttachment-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_texture.html#ae095181b76e95834bfba13b60cdcb1a2">target</a>(), colorAttachment-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_texture.html#a360a391fa414aca738ddd07dee9c4cbd">texture</a>(), 0);</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span> </div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span><span class="preprocessor">#if DEBUG_GLFRAMEBUFFER</span></div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>    <span class="keywordflow">if</span> ((err = glGetError()) != GL_NO_ERROR) {</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>        qCCritical(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;glFramebufferTexture2D failed: &quot;</span> &lt;&lt; formatGLError(err);</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>        glBindFramebuffer(GL_FRAMEBUFFER, prevFbo);</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>        glDeleteFramebuffers(1, &amp;mFramebuffer);</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>    }</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span> </div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>    <span class="keyword">const</span> GLenum status = glCheckFramebufferStatus(GL_FRAMEBUFFER);</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span> </div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>    glBindFramebuffer(GL_FRAMEBUFFER, prevFbo);</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span> </div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>    <span class="keywordflow">if</span> (status != GL_FRAMEBUFFER_COMPLETE) {</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>        <span class="comment">// We have an incomplete framebuffer, consider it invalid</span></div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>        <span class="keywordflow">if</span> (status == 0) {</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>            qCCritical(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;glCheckFramebufferStatus failed: &quot;</span> &lt;&lt; formatGLError(glGetError());</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>            qCCritical(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;Invalid framebuffer status: &quot;</span> &lt;&lt; formatFramebufferStatus(status);</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>        }</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>        glDeleteFramebuffers(1, &amp;mFramebuffer);</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>    }</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span> </div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>    mValid = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>}</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span> </div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_framebuffer.html#a66bc7510d5b809ffad6cd41b0c507be2"> 1130</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a66bc7510d5b809ffad6cd41b0c507be2">GLFramebuffer::blitFromFramebuffer</a>(<span class="keyword">const</span> QRect &amp;source, <span class="keyword">const</span> QRect &amp;destination, GLenum filter)</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>{</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a66c9d3c63c2e5d28cb8b79e2f252043a">valid</a>()) {</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>    }</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span> </div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_k_win_1_1_g_l_framebuffer.html">GLFramebuffer</a> *top = <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a17ecd994c7b3d3874fe969e548e5063c">currentFramebuffer</a>();</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a7eb3049da73a065dcf8ff137fd9b5e3f">GLFramebuffer::pushFramebuffer</a>(<span class="keyword">this</span>);</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span> </div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>    glBindFramebuffer(GL_DRAW_FRAMEBUFFER, <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a9aee5a6576c020a3e599b21c62bddbbe">handle</a>());</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>    glBindFramebuffer(GL_READ_FRAMEBUFFER, top-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a9aee5a6576c020a3e599b21c62bddbbe">handle</a>());</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span> </div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>    <span class="keyword">const</span> QRect s = source.isNull() ? QRect(QPoint(0, 0), top-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a01c4e5f822e4148e44ae7e03fc9620f9">size</a>()) : source;</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>    <span class="keyword">const</span> QRect d = destination.isNull() ? QRect(QPoint(0, 0), <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a01c4e5f822e4148e44ae7e03fc9620f9">size</a>()) : destination;</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span> </div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>    <span class="keyword">const</span> GLuint srcX0 = s.x();</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>    <span class="keyword">const</span> GLuint srcY0 = top-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a01c4e5f822e4148e44ae7e03fc9620f9">size</a>().height() - (s.y() + s.height());</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>    <span class="keyword">const</span> GLuint srcX1 = s.x() + s.width();</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>    <span class="keyword">const</span> GLuint srcY1 = top-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a01c4e5f822e4148e44ae7e03fc9620f9">size</a>().height() - s.y();</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span> </div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>    <span class="keyword">const</span> GLuint dstX0 = d.x();</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>    <span class="keyword">const</span> GLuint dstY0 = mSize.height() - (d.y() + d.height());</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>    <span class="keyword">const</span> GLuint dstX1 = d.x() + d.width();</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>    <span class="keyword">const</span> GLuint dstY1 = mSize.height() - d.y();</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span> </div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>    glBlitFramebuffer(srcX0, srcY0, srcX1, srcY1, dstX0, dstY0, dstX1, dstY1, GL_COLOR_BUFFER_BIT, filter);</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span> </div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a3f7265ef927c8b0ab82728c5118c7bed">GLFramebuffer::popFramebuffer</a>();</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>}</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span> </div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span><span class="comment">// ------------------------------------------------------------------</span></div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span> </div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span><span class="keyword">static</span> <span class="keyword">const</span> uint16_t indices[] = {</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>    1, 0, 3, 3, 2, 1, 5, 4, 7, 7, 6, 5, 9, 8, 11, 11, 10, 9,</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>    13, 12, 15, 15, 14, 13, 17, 16, 19, 19, 18, 17, 21, 20, 23, 23, 22, 21,</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>    25, 24, 27, 27, 26, 25, 29, 28, 31, 31, 30, 29, 33, 32, 35, 35, 34, 33,</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>    37, 36, 39, 39, 38, 37, 41, 40, 43, 43, 42, 41, 45, 44, 47, 47, 46, 45,</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>    49, 48, 51, 51, 50, 49, 53, 52, 55, 55, 54, 53, 57, 56, 59, 59, 58, 57,</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>    61, 60, 63, 63, 62, 61, 65, 64, 67, 67, 66, 65, 69, 68, 71, 71, 70, 69,</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>    73, 72, 75, 75, 74, 73, 77, 76, 79, 79, 78, 77, 81, 80, 83, 83, 82, 81,</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>    85, 84, 87, 87, 86, 85, 89, 88, 91, 91, 90, 89, 93, 92, 95, 95, 94, 93,</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>    97, 96, 99, 99, 98, 97, 101, 100, 103, 103, 102, 101, 105, 104, 107, 107, 106, 105,</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>    109, 108, 111, 111, 110, 109, 113, 112, 115, 115, 114, 113, 117, 116, 119, 119, 118, 117,</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>    121, 120, 123, 123, 122, 121, 125, 124, 127, 127, 126, 125, 129, 128, 131, 131, 130, 129,</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>    133, 132, 135, 135, 134, 133, 137, 136, 139, 139, 138, 137, 141, 140, 143, 143, 142, 141,</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>    145, 144, 147, 147, 146, 145, 149, 148, 151, 151, 150, 149, 153, 152, 155, 155, 154, 153,</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>    157, 156, 159, 159, 158, 157, 161, 160, 163, 163, 162, 161, 165, 164, 167, 167, 166, 165,</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>    169, 168, 171, 171, 170, 169, 173, 172, 175, 175, 174, 173, 177, 176, 179, 179, 178, 177,</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>    181, 180, 183, 183, 182, 181, 185, 184, 187, 187, 186, 185, 189, 188, 191, 191, 190, 189,</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>    193, 192, 195, 195, 194, 193, 197, 196, 199, 199, 198, 197, 201, 200, 203, 203, 202, 201,</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>    205, 204, 207, 207, 206, 205, 209, 208, 211, 211, 210, 209, 213, 212, 215, 215, 214, 213,</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>    217, 216, 219, 219, 218, 217, 221, 220, 223, 223, 222, 221, 225, 224, 227, 227, 226, 225,</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>    229, 228, 231, 231, 230, 229, 233, 232, 235, 235, 234, 233, 237, 236, 239, 239, 238, 237,</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>    241, 240, 243, 243, 242, 241, 245, 244, 247, 247, 246, 245, 249, 248, 251, 251, 250, 249,</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>    253, 252, 255, 255, 254, 253, 257, 256, 259, 259, 258, 257, 261, 260, 263, 263, 262, 261,</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>    265, 264, 267, 267, 266, 265, 269, 268, 271, 271, 270, 269, 273, 272, 275, 275, 274, 273,</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>    277, 276, 279, 279, 278, 277, 281, 280, 283, 283, 282, 281, 285, 284, 287, 287, 286, 285,</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>    289, 288, 291, 291, 290, 289, 293, 292, 295, 295, 294, 293, 297, 296, 299, 299, 298, 297,</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>    301, 300, 303, 303, 302, 301, 305, 304, 307, 307, 306, 305, 309, 308, 311, 311, 310, 309,</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>    313, 312, 315, 315, 314, 313, 317, 316, 319, 319, 318, 317, 321, 320, 323, 323, 322, 321,</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>    325, 324, 327, 327, 326, 325, 329, 328, 331, 331, 330, 329, 333, 332, 335, 335, 334, 333,</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>    337, 336, 339, 339, 338, 337, 341, 340, 343, 343, 342, 341, 345, 344, 347, 347, 346, 345,</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>    349, 348, 351, 351, 350, 349, 353, 352, 355, 355, 354, 353, 357, 356, 359, 359, 358, 357,</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>    361, 360, 363, 363, 362, 361, 365, 364, 367, 367, 366, 365, 369, 368, 371, 371, 370, 369,</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>    373, 372, 375, 375, 374, 373, 377, 376, 379, 379, 378, 377, 381, 380, 383, 383, 382, 381,</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>    385, 384, 387, 387, 386, 385, 389, 388, 391, 391, 390, 389, 393, 392, 395, 395, 394, 393,</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>    397, 396, 399, 399, 398, 397, 401, 400, 403, 403, 402, 401, 405, 404, 407, 407, 406, 405,</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>    409, 408, 411, 411, 410, 409, 413, 412, 415, 415, 414, 413, 417, 416, 419, 419, 418, 417,</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>    421, 420, 423, 423, 422, 421, 425, 424, 427, 427, 426, 425, 429, 428, 431, 431, 430, 429,</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>    433, 432, 435, 435, 434, 433, 437, 436, 439, 439, 438, 437, 441, 440, 443, 443, 442, 441,</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>    445, 444, 447, 447, 446, 445, 449, 448, 451, 451, 450, 449, 453, 452, 455, 455, 454, 453,</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>    457, 456, 459, 459, 458, 457, 461, 460, 463, 463, 462, 461, 465, 464, 467, 467, 466, 465,</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>    469, 468, 471, 471, 470, 469, 473, 472, 475, 475, 474, 473, 477, 476, 479, 479, 478, 477,</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>    481, 480, 483, 483, 482, 481, 485, 484, 487, 487, 486, 485, 489, 488, 491, 491, 490, 489,</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>    493, 492, 495, 495, 494, 493, 497, 496, 499, 499, 498, 497, 501, 500, 503, 503, 502, 501,</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>    505, 504, 507, 507, 506, 505, 509, 508, 511, 511, 510, 509, 513, 512, 515, 515, 514, 513,</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>    517, 516, 519, 519, 518, 517, 521, 520, 523, 523, 522, 521, 525, 524, 527, 527, 526, 525,</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>    529, 528, 531, 531, 530, 529, 533, 532, 535, 535, 534, 533, 537, 536, 539, 539, 538, 537,</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>    541, 540, 543, 543, 542, 541, 545, 544, 547, 547, 546, 545, 549, 548, 551, 551, 550, 549,</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>    553, 552, 555, 555, 554, 553, 557, 556, 559, 559, 558, 557, 561, 560, 563, 563, 562, 561,</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>    565, 564, 567, 567, 566, 565, 569, 568, 571, 571, 570, 569, 573, 572, 575, 575, 574, 573,</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>    577, 576, 579, 579, 578, 577, 581, 580, 583, 583, 582, 581, 585, 584, 587, 587, 586, 585,</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>    589, 588, 591, 591, 590, 589, 593, 592, 595, 595, 594, 593, 597, 596, 599, 599, 598, 597,</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>    601, 600, 603, 603, 602, 601, 605, 604, 607, 607, 606, 605, 609, 608, 611, 611, 610, 609,</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>    613, 612, 615, 615, 614, 613, 617, 616, 619, 619, 618, 617, 621, 620, 623, 623, 622, 621,</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>    625, 624, 627, 627, 626, 625, 629, 628, 631, 631, 630, 629, 633, 632, 635, 635, 634, 633,</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>    637, 636, 639, 639, 638, 637, 641, 640, 643, 643, 642, 641, 645, 644, 647, 647, 646, 645,</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>    649, 648, 651, 651, 650, 649, 653, 652, 655, 655, 654, 653, 657, 656, 659, 659, 658, 657,</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>    661, 660, 663, 663, 662, 661, 665, 664, 667, 667, 666, 665, 669, 668, 671, 671, 670, 669,</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>    673, 672, 675, 675, 674, 673, 677, 676, 679, 679, 678, 677, 681, 680, 683, 683, 682, 681,</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>    685, 684, 687, 687, 686, 685, 689, 688, 691, 691, 690, 689, 693, 692, 695, 695, 694, 693,</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>    697, 696, 699, 699, 698, 697, 701, 700, 703, 703, 702, 701, 705, 704, 707, 707, 706, 705,</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>    709, 708, 711, 711, 710, 709, 713, 712, 715, 715, 714, 713, 717, 716, 719, 719, 718, 717,</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>    721, 720, 723, 723, 722, 721, 725, 724, 727, 727, 726, 725, 729, 728, 731, 731, 730, 729,</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>    733, 732, 735, 735, 734, 733, 737, 736, 739, 739, 738, 737, 741, 740, 743, 743, 742, 741,</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>    745, 744, 747, 747, 746, 745, 749, 748, 751, 751, 750, 749, 753, 752, 755, 755, 754, 753,</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>    757, 756, 759, 759, 758, 757, 761, 760, 763, 763, 762, 761, 765, 764, 767, 767, 766, 765,</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>    769, 768, 771, 771, 770, 769, 773, 772, 775, 775, 774, 773, 777, 776, 779, 779, 778, 777,</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>    781, 780, 783, 783, 782, 781, 785, 784, 787, 787, 786, 785, 789, 788, 791, 791, 790, 789,</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>    793, 792, 795, 795, 794, 793, 797, 796, 799, 799, 798, 797, 801, 800, 803, 803, 802, 801,</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>    805, 804, 807, 807, 806, 805, 809, 808, 811, 811, 810, 809, 813, 812, 815, 815, 814, 813,</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>    817, 816, 819, 819, 818, 817, 821, 820, 823, 823, 822, 821, 825, 824, 827, 827, 826, 825,</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>    829, 828, 831, 831, 830, 829, 833, 832, 835, 835, 834, 833, 837, 836, 839, 839, 838, 837,</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>    841, 840, 843, 843, 842, 841, 845, 844, 847, 847, 846, 845, 849, 848, 851, 851, 850, 849,</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>    853, 852, 855, 855, 854, 853, 857, 856, 859, 859, 858, 857, 861, 860, 863, 863, 862, 861,</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>    865, 864, 867, 867, 866, 865, 869, 868, 871, 871, 870, 869, 873, 872, 875, 875, 874, 873,</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>    877, 876, 879, 879, 878, 877, 881, 880, 883, 883, 882, 881, 885, 884, 887, 887, 886, 885,</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>    889, 888, 891, 891, 890, 889, 893, 892, 895, 895, 894, 893, 897, 896, 899, 899, 898, 897,</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>    901, 900, 903, 903, 902, 901, 905, 904, 907, 907, 906, 905, 909, 908, 911, 911, 910, 909,</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>    913, 912, 915, 915, 914, 913, 917, 916, 919, 919, 918, 917, 921, 920, 923, 923, 922, 921,</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>    925, 924, 927, 927, 926, 925, 929, 928, 931, 931, 930, 929, 933, 932, 935, 935, 934, 933,</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>    937, 936, 939, 939, 938, 937, 941, 940, 943, 943, 942, 941, 945, 944, 947, 947, 946, 945,</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>    949, 948, 951, 951, 950, 949, 953, 952, 955, 955, 954, 953, 957, 956, 959, 959, 958, 957,</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>    961, 960, 963, 963, 962, 961, 965, 964, 967, 967, 966, 965, 969, 968, 971, 971, 970, 969,</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>    973, 972, 975, 975, 974, 973, 977, 976, 979, 979, 978, 977, 981, 980, 983, 983, 982, 981,</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>    985, 984, 987, 987, 986, 985, 989, 988, 991, 991, 990, 989, 993, 992, 995, 995, 994, 993,</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>    997, 996, 999, 999, 998, 997, 1001, 1000, 1003, 1003, 1002, 1001, 1005, 1004, 1007, 1007, 1006, 1005,</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>    1009, 1008, 1011, 1011, 1010, 1009, 1013, 1012, 1015, 1015, 1014, 1013, 1017, 1016, 1019, 1019, 1018, 1017,</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>    1021, 1020, 1023, 1023, 1022, 1021, 1025, 1024, 1027, 1027, 1026, 1025, 1029, 1028, 1031, 1031, 1030, 1029,</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>    1033, 1032, 1035, 1035, 1034, 1033, 1037, 1036, 1039, 1039, 1038, 1037, 1041, 1040, 1043, 1043, 1042, 1041,</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>    1045, 1044, 1047, 1047, 1046, 1045, 1049, 1048, 1051, 1051, 1050, 1049, 1053, 1052, 1055, 1055, 1054, 1053,</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>    1057, 1056, 1059, 1059, 1058, 1057, 1061, 1060, 1063, 1063, 1062, 1061, 1065, 1064, 1067, 1067, 1066, 1065,</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>    1069, 1068, 1071, 1071, 1070, 1069, 1073, 1072, 1075, 1075, 1074, 1073, 1077, 1076, 1079, 1079, 1078, 1077,</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>    1081, 1080, 1083, 1083, 1082, 1081, 1085, 1084, 1087, 1087, 1086, 1085, 1089, 1088, 1091, 1091, 1090, 1089,</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>    1093, 1092, 1095, 1095, 1094, 1093, 1097, 1096, 1099, 1099, 1098, 1097, 1101, 1100, 1103, 1103, 1102, 1101,</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>    1105, 1104, 1107, 1107, 1106, 1105, 1109, 1108, 1111, 1111, 1110, 1109, 1113, 1112, 1115, 1115, 1114, 1113,</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>    1117, 1116, 1119, 1119, 1118, 1117, 1121, 1120, 1123, 1123, 1122, 1121, 1125, 1124, 1127, 1127, 1126, 1125,</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>    1129, 1128, 1131, 1131, 1130, 1129, 1133, 1132, 1135, 1135, 1134, 1133, 1137, 1136, 1139, 1139, 1138, 1137,</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>    1141, 1140, 1143, 1143, 1142, 1141, 1145, 1144, 1147, 1147, 1146, 1145, 1149, 1148, 1151, 1151, 1150, 1149,</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>    1153, 1152, 1155, 1155, 1154, 1153, 1157, 1156, 1159, 1159, 1158, 1157, 1161, 1160, 1163, 1163, 1162, 1161,</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>    1165, 1164, 1167, 1167, 1166, 1165, 1169, 1168, 1171, 1171, 1170, 1169, 1173, 1172, 1175, 1175, 1174, 1173,</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>    1177, 1176, 1179, 1179, 1178, 1177, 1181, 1180, 1183, 1183, 1182, 1181, 1185, 1184, 1187, 1187, 1186, 1185,</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>    1189, 1188, 1191, 1191, 1190, 1189, 1193, 1192, 1195, 1195, 1194, 1193, 1197, 1196, 1199, 1199, 1198, 1197,</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>    1201, 1200, 1203, 1203, 1202, 1201, 1205, 1204, 1207, 1207, 1206, 1205, 1209, 1208, 1211, 1211, 1210, 1209,</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>    1213, 1212, 1215, 1215, 1214, 1213, 1217, 1216, 1219, 1219, 1218, 1217, 1221, 1220, 1223, 1223, 1222, 1221,</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>    1225, 1224, 1227, 1227, 1226, 1225, 1229, 1228, 1231, 1231, 1230, 1229, 1233, 1232, 1235, 1235, 1234, 1233,</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>    1237, 1236, 1239, 1239, 1238, 1237, 1241, 1240, 1243, 1243, 1242, 1241, 1245, 1244, 1247, 1247, 1246, 1245,</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>    1249, 1248, 1251, 1251, 1250, 1249, 1253, 1252, 1255, 1255, 1254, 1253, 1257, 1256, 1259, 1259, 1258, 1257,</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>    1261, 1260, 1263, 1263, 1262, 1261, 1265, 1264, 1267, 1267, 1266, 1265, 1269, 1268, 1271, 1271, 1270, 1269,</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>    1273, 1272, 1275, 1275, 1274, 1273, 1277, 1276, 1279, 1279, 1278, 1277, 1281, 1280, 1283, 1283, 1282, 1281,</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>    1285, 1284, 1287, 1287, 1286, 1285, 1289, 1288, 1291, 1291, 1290, 1289, 1293, 1292, 1295, 1295, 1294, 1293,</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>    1297, 1296, 1299, 1299, 1298, 1297, 1301, 1300, 1303, 1303, 1302, 1301, 1305, 1304, 1307, 1307, 1306, 1305,</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>    1309, 1308, 1311, 1311, 1310, 1309, 1313, 1312, 1315, 1315, 1314, 1313, 1317, 1316, 1319, 1319, 1318, 1317,</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>    1321, 1320, 1323, 1323, 1322, 1321, 1325, 1324, 1327, 1327, 1326, 1325, 1329, 1328, 1331, 1331, 1330, 1329,</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>    1333, 1332, 1335, 1335, 1334, 1333, 1337, 1336, 1339, 1339, 1338, 1337, 1341, 1340, 1343, 1343, 1342, 1341,</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>    1345, 1344, 1347, 1347, 1346, 1345, 1349, 1348, 1351, 1351, 1350, 1349, 1353, 1352, 1355, 1355, 1354, 1353,</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>    1357, 1356, 1359, 1359, 1358, 1357, 1361, 1360, 1363, 1363, 1362, 1361, 1365, 1364, 1367, 1367, 1366, 1365,</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>    1369, 1368, 1371, 1371, 1370, 1369, 1373, 1372, 1375, 1375, 1374, 1373, 1377, 1376, 1379, 1379, 1378, 1377,</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>    1381, 1380, 1383, 1383, 1382, 1381, 1385, 1384, 1387, 1387, 1386, 1385, 1389, 1388, 1391, 1391, 1390, 1389,</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>    1393, 1392, 1395, 1395, 1394, 1393, 1397, 1396, 1399, 1399, 1398, 1397, 1401, 1400, 1403, 1403, 1402, 1401,</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>    1405, 1404, 1407, 1407, 1406, 1405, 1409, 1408, 1411, 1411, 1410, 1409, 1413, 1412, 1415, 1415, 1414, 1413,</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>    1417, 1416, 1419, 1419, 1418, 1417, 1421, 1420, 1423, 1423, 1422, 1421, 1425, 1424, 1427, 1427, 1426, 1425,</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>    1429, 1428, 1431, 1431, 1430, 1429, 1433, 1432, 1435, 1435, 1434, 1433, 1437, 1436, 1439, 1439, 1438, 1437,</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>    1441, 1440, 1443, 1443, 1442, 1441, 1445, 1444, 1447, 1447, 1446, 1445, 1449, 1448, 1451, 1451, 1450, 1449,</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>    1453, 1452, 1455, 1455, 1454, 1453, 1457, 1456, 1459, 1459, 1458, 1457, 1461, 1460, 1463, 1463, 1462, 1461,</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>    1465, 1464, 1467, 1467, 1466, 1465, 1469, 1468, 1471, 1471, 1470, 1469, 1473, 1472, 1475, 1475, 1474, 1473,</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>    1477, 1476, 1479, 1479, 1478, 1477, 1481, 1480, 1483, 1483, 1482, 1481, 1485, 1484, 1487, 1487, 1486, 1485,</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>    1489, 1488, 1491, 1491, 1490, 1489, 1493, 1492, 1495, 1495, 1494, 1493, 1497, 1496, 1499, 1499, 1498, 1497,</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>    1501, 1500, 1503, 1503, 1502, 1501, 1505, 1504, 1507, 1507, 1506, 1505, 1509, 1508, 1511, 1511, 1510, 1509,</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>    1513, 1512, 1515, 1515, 1514, 1513, 1517, 1516, 1519, 1519, 1518, 1517, 1521, 1520, 1523, 1523, 1522, 1521,</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>    1525, 1524, 1527, 1527, 1526, 1525, 1529, 1528, 1531, 1531, 1530, 1529, 1533, 1532, 1535, 1535, 1534, 1533,</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>    1537, 1536, 1539, 1539, 1538, 1537, 1541, 1540, 1543, 1543, 1542, 1541, 1545, 1544, 1547, 1547, 1546, 1545,</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>    1549, 1548, 1551, 1551, 1550, 1549, 1553, 1552, 1555, 1555, 1554, 1553, 1557, 1556, 1559, 1559, 1558, 1557,</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>    1561, 1560, 1563, 1563, 1562, 1561, 1565, 1564, 1567, 1567, 1566, 1565, 1569, 1568, 1571, 1571, 1570, 1569,</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>    1573, 1572, 1575, 1575, 1574, 1573, 1577, 1576, 1579, 1579, 1578, 1577, 1581, 1580, 1583, 1583, 1582, 1581,</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>    1585, 1584, 1587, 1587, 1586, 1585, 1589, 1588, 1591, 1591, 1590, 1589, 1593, 1592, 1595, 1595, 1594, 1593,</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>    1597, 1596, 1599, 1599, 1598, 1597, 1601, 1600, 1603, 1603, 1602, 1601, 1605, 1604, 1607, 1607, 1606, 1605,</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>    1609, 1608, 1611, 1611, 1610, 1609, 1613, 1612, 1615, 1615, 1614, 1613, 1617, 1616, 1619, 1619, 1618, 1617,</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>    1621, 1620, 1623, 1623, 1622, 1621, 1625, 1624, 1627, 1627, 1626, 1625, 1629, 1628, 1631, 1631, 1630, 1629,</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>    1633, 1632, 1635, 1635, 1634, 1633, 1637, 1636, 1639, 1639, 1638, 1637, 1641, 1640, 1643, 1643, 1642, 1641,</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>    1645, 1644, 1647, 1647, 1646, 1645, 1649, 1648, 1651, 1651, 1650, 1649, 1653, 1652, 1655, 1655, 1654, 1653,</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>    1657, 1656, 1659, 1659, 1658, 1657, 1661, 1660, 1663, 1663, 1662, 1661, 1665, 1664, 1667, 1667, 1666, 1665,</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>    1669, 1668, 1671, 1671, 1670, 1669, 1673, 1672, 1675, 1675, 1674, 1673, 1677, 1676, 1679, 1679, 1678, 1677,</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>    1681, 1680, 1683, 1683, 1682, 1681, 1685, 1684, 1687, 1687, 1686, 1685, 1689, 1688, 1691, 1691, 1690, 1689,</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>    1693, 1692, 1695, 1695, 1694, 1693, 1697, 1696, 1699, 1699, 1698, 1697, 1701, 1700, 1703, 1703, 1702, 1701,</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>    1705, 1704, 1707, 1707, 1706, 1705, 1709, 1708, 1711, 1711, 1710, 1709, 1713, 1712, 1715, 1715, 1714, 1713,</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>    1717, 1716, 1719, 1719, 1718, 1717, 1721, 1720, 1723, 1723, 1722, 1721, 1725, 1724, 1727, 1727, 1726, 1725,</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>    1729, 1728, 1731, 1731, 1730, 1729, 1733, 1732, 1735, 1735, 1734, 1733, 1737, 1736, 1739, 1739, 1738, 1737,</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>    1741, 1740, 1743, 1743, 1742, 1741, 1745, 1744, 1747, 1747, 1746, 1745, 1749, 1748, 1751, 1751, 1750, 1749,</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>    1753, 1752, 1755, 1755, 1754, 1753, 1757, 1756, 1759, 1759, 1758, 1757, 1761, 1760, 1763, 1763, 1762, 1761,</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>    1765, 1764, 1767, 1767, 1766, 1765, 1769, 1768, 1771, 1771, 1770, 1769, 1773, 1772, 1775, 1775, 1774, 1773,</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>    1777, 1776, 1779, 1779, 1778, 1777, 1781, 1780, 1783, 1783, 1782, 1781, 1785, 1784, 1787, 1787, 1786, 1785,</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>    1789, 1788, 1791, 1791, 1790, 1789, 1793, 1792, 1795, 1795, 1794, 1793, 1797, 1796, 1799, 1799, 1798, 1797,</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>    1801, 1800, 1803, 1803, 1802, 1801, 1805, 1804, 1807, 1807, 1806, 1805, 1809, 1808, 1811, 1811, 1810, 1809,</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>    1813, 1812, 1815, 1815, 1814, 1813, 1817, 1816, 1819, 1819, 1818, 1817, 1821, 1820, 1823, 1823, 1822, 1821,</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>    1825, 1824, 1827, 1827, 1826, 1825, 1829, 1828, 1831, 1831, 1830, 1829, 1833, 1832, 1835, 1835, 1834, 1833,</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>    1837, 1836, 1839, 1839, 1838, 1837, 1841, 1840, 1843, 1843, 1842, 1841, 1845, 1844, 1847, 1847, 1846, 1845,</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>    1849, 1848, 1851, 1851, 1850, 1849, 1853, 1852, 1855, 1855, 1854, 1853, 1857, 1856, 1859, 1859, 1858, 1857,</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>    1861, 1860, 1863, 1863, 1862, 1861, 1865, 1864, 1867, 1867, 1866, 1865, 1869, 1868, 1871, 1871, 1870, 1869,</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>    1873, 1872, 1875, 1875, 1874, 1873, 1877, 1876, 1879, 1879, 1878, 1877, 1881, 1880, 1883, 1883, 1882, 1881,</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>    1885, 1884, 1887, 1887, 1886, 1885, 1889, 1888, 1891, 1891, 1890, 1889, 1893, 1892, 1895, 1895, 1894, 1893,</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>    1897, 1896, 1899, 1899, 1898, 1897, 1901, 1900, 1903, 1903, 1902, 1901, 1905, 1904, 1907, 1907, 1906, 1905,</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>    1909, 1908, 1911, 1911, 1910, 1909, 1913, 1912, 1915, 1915, 1914, 1913, 1917, 1916, 1919, 1919, 1918, 1917,</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>    1921, 1920, 1923, 1923, 1922, 1921, 1925, 1924, 1927, 1927, 1926, 1925, 1929, 1928, 1931, 1931, 1930, 1929,</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>    1933, 1932, 1935, 1935, 1934, 1933, 1937, 1936, 1939, 1939, 1938, 1937, 1941, 1940, 1943, 1943, 1942, 1941,</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>    1945, 1944, 1947, 1947, 1946, 1945, 1949, 1948, 1951, 1951, 1950, 1949, 1953, 1952, 1955, 1955, 1954, 1953,</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>    1957, 1956, 1959, 1959, 1958, 1957, 1961, 1960, 1963, 1963, 1962, 1961, 1965, 1964, 1967, 1967, 1966, 1965,</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>    1969, 1968, 1971, 1971, 1970, 1969, 1973, 1972, 1975, 1975, 1974, 1973, 1977, 1976, 1979, 1979, 1978, 1977,</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>    1981, 1980, 1983, 1983, 1982, 1981, 1985, 1984, 1987, 1987, 1986, 1985, 1989, 1988, 1991, 1991, 1990, 1989,</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>    1993, 1992, 1995, 1995, 1994, 1993, 1997, 1996, 1999, 1999, 1998, 1997, 2001, 2000, 2003, 2003, 2002, 2001,</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>    2005, 2004, 2007, 2007, 2006, 2005, 2009, 2008, 2011, 2011, 2010, 2009, 2013, 2012, 2015, 2015, 2014, 2013,</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>    2017, 2016, 2019, 2019, 2018, 2017, 2021, 2020, 2023, 2023, 2022, 2021, 2025, 2024, 2027, 2027, 2026, 2025,</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>    2029, 2028, 2031, 2031, 2030, 2029, 2033, 2032, 2035, 2035, 2034, 2033, 2037, 2036, 2039, 2039, 2038, 2037,</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>    2041, 2040, 2043, 2043, 2042, 2041, 2045, 2044, 2047, 2047, 2046, 2045};</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span> </div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span><span class="comment">// Certain GPUs, especially mobile, require the data copied to the GPU to be aligned to a</span></div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span><span class="comment">// certain amount of bytes. For example, the Mali GPU requires data to be aligned to 8 bytes.</span></div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span><span class="comment">// This function helps ensure that the data is aligned.</span></div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"><a class="line" href="namespace_k_win.html#a589f408567ff14915728d5c320d281ac"> 1339</a></span>T <a class="code hl_function" href="namespace_k_win.html#a589f408567ff14915728d5c320d281ac">align</a>(T value, <span class="keywordtype">int</span> bytes)</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>{</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>    <span class="keywordflow">return</span> (value + bytes - 1) &amp; ~T(bytes - 1);</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>}</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span> </div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"><a class="line" href="class_k_win_1_1_index_buffer.html"> 1344</a></span><span class="keyword">class </span><a class="code hl_class" href="class_k_win_1_1_index_buffer.html">IndexBuffer</a></div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>{</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>    <a class="code hl_function" href="class_k_win_1_1_index_buffer.html#a776ebf8df0bfd76f2d95dc235f16cf46">IndexBuffer</a>();</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>    <a class="code hl_function" href="class_k_win_1_1_index_buffer.html#a847fe155dcbaf228494bac12f8ee353f">~IndexBuffer</a>();</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span> </div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_index_buffer.html#a9e577f6dfe0eb781aff163ed23bf4f42">accommodate</a>(<span class="keywordtype">int</span> count);</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_index_buffer.html#ad10693a06aaf98c0e36a14d2a912c3d1">bind</a>();</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span> </div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>    GLuint m_buffer;</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>    <span class="keywordtype">size_t</span> m_size;</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>    <span class="keywordtype">int</span> m_count;</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>};</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span> </div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"><a class="line" href="class_k_win_1_1_index_buffer.html#a776ebf8df0bfd76f2d95dc235f16cf46"> 1359</a></span><a class="code hl_function" href="class_k_win_1_1_index_buffer.html#a776ebf8df0bfd76f2d95dc235f16cf46">IndexBuffer::IndexBuffer</a>()</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>{</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>    <span class="comment">// The maximum number of quads we can render with 16 bit indices is 16,384.</span></div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>    <span class="comment">// But we start with 512 and grow the buffer as needed.</span></div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>    m_size = <span class="keyword">sizeof</span>(indices);</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>    m_count = m_size / (6 * <span class="keyword">sizeof</span>(uint16_t));</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span> </div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>    glGenBuffers(1, &amp;m_buffer);</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, m_buffer);</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>    glBufferData(GL_ELEMENT_ARRAY_BUFFER, <span class="keyword">sizeof</span>(indices), indices, GL_STATIC_DRAW);</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>}</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span> </div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"><a class="line" href="class_k_win_1_1_index_buffer.html#a847fe155dcbaf228494bac12f8ee353f"> 1371</a></span><a class="code hl_function" href="class_k_win_1_1_index_buffer.html#a847fe155dcbaf228494bac12f8ee353f">IndexBuffer::~IndexBuffer</a>()</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>{</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>    glDeleteBuffers(1, &amp;m_buffer);</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>}</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span> </div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"><a class="line" href="class_k_win_1_1_index_buffer.html#a9e577f6dfe0eb781aff163ed23bf4f42"> 1376</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_index_buffer.html#a9e577f6dfe0eb781aff163ed23bf4f42">IndexBuffer::accommodate</a>(<span class="keywordtype">int</span> count)</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>{</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>    <span class="comment">// Check if we need to grow the buffer.</span></div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>    <span class="keywordflow">if</span> (count &lt;= m_count) {</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>    }</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span> </div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>    <span class="keywordtype">size_t</span> size = 6 * <span class="keyword">sizeof</span>(uint16_t) * count;</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span> </div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>    <span class="comment">// Create a new buffer object</span></div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>    GLuint buffer;</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>    glGenBuffers(1, &amp;buffer);</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, buffer);</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>    glBufferData(GL_ELEMENT_ARRAY_BUFFER, size, <span class="keyword">nullptr</span>, GL_STATIC_DRAW);</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span> </div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>    <span class="comment">// Use the GPU to copy the data from the old object to the new object,</span></div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>    glBindBuffer(GL_COPY_READ_BUFFER, m_buffer);</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>    glCopyBufferSubData(GL_COPY_READ_BUFFER, GL_ELEMENT_ARRAY_BUFFER, 0, 0, m_size);</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>    glDeleteBuffers(1, &amp;m_buffer);</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>    glFlush(); <span class="comment">// Needed to work around what appears to be a CP DMA issue in r600g</span></div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span> </div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>    <span class="comment">// Map the new object and fill in the uninitialized section</span></div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>    <span class="keyword">const</span> GLbitfield access = GL_MAP_WRITE_BIT | GL_MAP_UNSYNCHRONIZED_BIT | GL_MAP_INVALIDATE_RANGE_BIT;</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>    uint16_t *map = (uint16_t *)glMapBufferRange(GL_ELEMENT_ARRAY_BUFFER, m_size, size - m_size, access);</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span> </div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>    <span class="keyword">const</span> uint16_t index[] = {1, 0, 3, 3, 2, 1};</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = m_count; i &lt; count; i++) {</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 6; j++) {</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>            *(map++) = i * 4 + index[j];</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>        }</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>    }</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span> </div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>    glUnmapBuffer(GL_ELEMENT_ARRAY_BUFFER);</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>    m_buffer = buffer;</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>    m_count = count;</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>    m_size = size;</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>}</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span> </div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"><a class="line" href="class_k_win_1_1_index_buffer.html#ad10693a06aaf98c0e36a14d2a912c3d1"> 1414</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_index_buffer.html#ad10693a06aaf98c0e36a14d2a912c3d1">IndexBuffer::bind</a>()</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>{</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, m_buffer);</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>}</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span> </div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span><span class="comment">// ------------------------------------------------------------------</span></div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span> </div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"><a class="line" href="class_k_win_1_1_bit_ref.html"> 1421</a></span><span class="keyword">class </span><a class="code hl_class" href="class_k_win_1_1_bit_ref.html">BitRef</a></div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>{</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"><a class="line" href="class_k_win_1_1_bit_ref.html#ae67ec2012a35a0f18f2c06cb8f58daea"> 1424</a></span>    <a class="code hl_function" href="class_k_win_1_1_bit_ref.html#ae67ec2012a35a0f18f2c06cb8f58daea">BitRef</a>(uint32_t &amp;bitfield, <span class="keywordtype">int</span> bit)</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>        : m_bitfield(bitfield)</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>        , m_mask(1 &lt;&lt; bit)</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>    {</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>    }</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span> </div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"><a class="line" href="class_k_win_1_1_bit_ref.html#a939084fc50522ef417f0123c5abef449"> 1430</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_bit_ref.html#a939084fc50522ef417f0123c5abef449">operator=</a>(<span class="keywordtype">bool</span> val)</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>    {</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>        <span class="keywordflow">if</span> (val) {</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>            m_bitfield |= m_mask;</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>            m_bitfield &amp;= ~m_mask;</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>        }</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>    }</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span> </div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"><a class="line" href="class_k_win_1_1_bit_ref.html#a9b64a081b1dbd31e20620d9881dd7d86"> 1439</a></span>    <span class="keyword">operator</span> bool()<span class="keyword"> const</span></div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>        <span class="keywordflow">return</span> m_bitfield &amp; m_mask;</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>    }</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span> </div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>    uint32_t &amp;m_bitfield;</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>    <span class="keywordtype">int</span> <span class="keyword">const</span> m_mask;</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>};</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span> </div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span><span class="comment">// ------------------------------------------------------------------</span></div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span> </div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"><a class="line" href="class_k_win_1_1_bitfield.html"> 1451</a></span><span class="keyword">class </span><a class="code hl_class" href="class_k_win_1_1_bitfield.html">Bitfield</a></div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>{</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"><a class="line" href="class_k_win_1_1_bitfield.html#aac27bc4b52c52d12530b6829dc256152"> 1454</a></span>    <a class="code hl_function" href="class_k_win_1_1_bitfield.html#aac27bc4b52c52d12530b6829dc256152">Bitfield</a>()</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>        : m_bitfield(0)</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>    {</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>    }</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"><a class="line" href="class_k_win_1_1_bitfield.html#ad3da91646d4da420f8f9580a3c9c9257"> 1458</a></span>    <a class="code hl_function" href="class_k_win_1_1_bitfield.html#ad3da91646d4da420f8f9580a3c9c9257">Bitfield</a>(uint32_t bits)</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>        : m_bitfield(bits)</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>    {</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>    }</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span> </div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"><a class="line" href="class_k_win_1_1_bitfield.html#a1de06491a59cdea2bbb1f6e1774bfd03"> 1463</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_bitfield.html#a1de06491a59cdea2bbb1f6e1774bfd03">set</a>(<span class="keywordtype">int</span> i)</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>    {</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>        m_bitfield |= (1 &lt;&lt; i);</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>    }</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"><a class="line" href="class_k_win_1_1_bitfield.html#accff70e9720f469d65aaf3eb98821fcc"> 1467</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_bitfield.html#accff70e9720f469d65aaf3eb98821fcc">clear</a>(<span class="keywordtype">int</span> i)</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>    {</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>        m_bitfield &amp;= ~(1 &lt;&lt; i);</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>    }</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span> </div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"><a class="line" href="class_k_win_1_1_bitfield.html#a30f96057f47bc535e5aed36e24b73a88"> 1472</a></span>    <a class="code hl_class" href="class_k_win_1_1_bit_ref.html">BitRef</a> <a class="code hl_function" href="class_k_win_1_1_bitfield.html#a30f96057f47bc535e5aed36e24b73a88">operator[]</a>(<span class="keywordtype">int</span> i)</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>    {</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="class_k_win_1_1_bit_ref.html">BitRef</a>(m_bitfield, i);</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>    }</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"><a class="line" href="class_k_win_1_1_bitfield.html#abd784e6f6e1f3cc07e3386c25a76596b"> 1476</a></span>    <span class="keyword">operator</span> uint32_t()<span class="keyword"> const</span></div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>        <span class="keywordflow">return</span> m_bitfield;</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>    }</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span> </div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>    uint32_t m_bitfield;</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>};</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span> </div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span><span class="comment">// ------------------------------------------------------------------</span></div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span> </div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"><a class="line" href="class_k_win_1_1_bitfield_iterator.html"> 1487</a></span><span class="keyword">class </span><a class="code hl_class" href="class_k_win_1_1_bitfield_iterator.html">BitfieldIterator</a></div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>{</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"><a class="line" href="class_k_win_1_1_bitfield_iterator.html#ab938766ee6a677543ed4fa8b7d43949b"> 1490</a></span>    <a class="code hl_function" href="class_k_win_1_1_bitfield_iterator.html#ab938766ee6a677543ed4fa8b7d43949b">BitfieldIterator</a>(uint32_t bitfield)</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>        : m_bitfield(bitfield)</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>    {</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>    }</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span> </div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"><a class="line" href="class_k_win_1_1_bitfield_iterator.html#a482111e707c3836fa42abdd612702116"> 1495</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_bitfield_iterator.html#a482111e707c3836fa42abdd612702116">hasNext</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>        <span class="keywordflow">return</span> m_bitfield != 0;</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>    }</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span> </div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"><a class="line" href="class_k_win_1_1_bitfield_iterator.html#a004d1cb146f730c8fa18f35be91064fa"> 1500</a></span>    <span class="keywordtype">int</span> <a class="code hl_function" href="class_k_win_1_1_bitfield_iterator.html#a004d1cb146f730c8fa18f35be91064fa">next</a>()</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>    {</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> bit = ffs(m_bitfield) - 1;</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>        m_bitfield ^= (1 &lt;&lt; bit);</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>        <span class="keywordflow">return</span> bit;</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>    }</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span> </div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>    uint32_t m_bitfield;</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>};</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span> </div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span><span class="comment">// ------------------------------------------------------------------</span></div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span> </div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"><a class="line" href="struct_k_win_1_1_vertex_attrib.html"> 1513</a></span><span class="keyword">struct </span><a class="code hl_struct" href="struct_k_win_1_1_vertex_attrib.html">VertexAttrib</a></div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>{</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"><a class="line" href="struct_k_win_1_1_vertex_attrib.html#af3dcc067d8df3459e60cb2e495d19bf8"> 1515</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="struct_k_win_1_1_vertex_attrib.html#af3dcc067d8df3459e60cb2e495d19bf8">size</a>;</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"><a class="line" href="struct_k_win_1_1_vertex_attrib.html#a8610c8d91839531a20223173d64f1932"> 1516</a></span>    GLenum <a class="code hl_variable" href="struct_k_win_1_1_vertex_attrib.html#a8610c8d91839531a20223173d64f1932">type</a>;</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"><a class="line" href="struct_k_win_1_1_vertex_attrib.html#acff5ecfe7a8465172bb21f5f9c385401"> 1517</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="struct_k_win_1_1_vertex_attrib.html#acff5ecfe7a8465172bb21f5f9c385401">offset</a>;</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>};</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span> </div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span><span class="comment">// ------------------------------------------------------------------</span></div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span> </div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"><a class="line" href="struct_k_win_1_1_buffer_fence.html"> 1522</a></span><span class="keyword">struct </span><a class="code hl_struct" href="struct_k_win_1_1_buffer_fence.html">BufferFence</a></div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>{</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"><a class="line" href="struct_k_win_1_1_buffer_fence.html#afa95d5161ddc23a0bf269285ae0f0f69"> 1524</a></span>    GLsync <a class="code hl_variable" href="struct_k_win_1_1_buffer_fence.html#afa95d5161ddc23a0bf269285ae0f0f69">sync</a>;</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"><a class="line" href="struct_k_win_1_1_buffer_fence.html#a6d9d515e3d8271f45285afb975ff8426"> 1525</a></span>    intptr_t <a class="code hl_variable" href="struct_k_win_1_1_buffer_fence.html#a6d9d515e3d8271f45285afb975ff8426">nextEnd</a>;</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span> </div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"><a class="line" href="struct_k_win_1_1_buffer_fence.html#a03b729a36a49b1bfe4cbbdc876747cb5"> 1527</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="struct_k_win_1_1_buffer_fence.html#a03b729a36a49b1bfe4cbbdc876747cb5">signaled</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>        GLint value;</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>        glGetSynciv(<a class="code hl_variable" href="struct_k_win_1_1_buffer_fence.html#afa95d5161ddc23a0bf269285ae0f0f69">sync</a>, GL_SYNC_STATUS, 1, <span class="keyword">nullptr</span>, &amp;value);</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>        <span class="keywordflow">return</span> value == GL_SIGNALED;</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>    }</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>};</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span> </div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span><span class="keyword">static</span> <span class="keywordtype">void</span> deleteAll(std::deque&lt;BufferFence&gt; &amp;fences)</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>{</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> BufferFence &amp;fence : fences) {</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>        glDeleteSync(fence.sync);</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>    }</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span> </div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>    fences.clear();</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>}</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span> </div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span><span class="comment">// ------------------------------------------------------------------</span></div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span> </div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span><span class="keyword">template</span>&lt;<span class="keywordtype">size_t</span> Count&gt;</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"><a class="line" href="struct_k_win_1_1_frame_sizes_array.html"> 1547</a></span><span class="keyword">struct </span><a class="code hl_struct" href="struct_k_win_1_1_frame_sizes_array.html">FrameSizesArray</a></div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>{</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"><a class="line" href="struct_k_win_1_1_frame_sizes_array.html#aa1339c6cbd651439cb84a1ad34196f3f"> 1550</a></span>    <a class="code hl_function" href="struct_k_win_1_1_frame_sizes_array.html#aa1339c6cbd651439cb84a1ad34196f3f">FrameSizesArray</a>()</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>    {</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>        m_array.fill(0);</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>    }</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span> </div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"><a class="line" href="struct_k_win_1_1_frame_sizes_array.html#a3ca0ab74c13e431d6ac3e748b3db244d"> 1555</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="struct_k_win_1_1_frame_sizes_array.html#a3ca0ab74c13e431d6ac3e748b3db244d">push</a>(<span class="keywordtype">size_t</span> size)</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>    {</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>        m_array[m_index] = size;</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>        m_index = (m_index + 1) % Count;</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>    }</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span> </div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"><a class="line" href="struct_k_win_1_1_frame_sizes_array.html#af6579924b889f1fc169015e887c104b3"> 1561</a></span>    <span class="keywordtype">size_t</span> <a class="code hl_function" href="struct_k_win_1_1_frame_sizes_array.html#af6579924b889f1fc169015e887c104b3">average</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>        <span class="keywordtype">size_t</span> sum = 0;</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> size : m_array) {</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>            sum += size;</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>        }</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>        <span class="keywordflow">return</span> sum / Count;</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>    }</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span> </div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>    std::array&lt;size_t, Count&gt; m_array;</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>    <span class="keywordtype">int</span> m_index = 0;</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>};</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span> </div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span><span class="comment">//*********************************</span></div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span><span class="comment">// GLVertexBufferPrivate</span></div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span><span class="comment">//*********************************</span></div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html"> 1578</a></span><span class="keyword">class </span><a class="code hl_class" href="class_k_win_1_1_g_l_vertex_buffer_private.html">GLVertexBufferPrivate</a></div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>{</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a1eb5d6ce51e7cd86f396abfbe09e5a3d"> 1581</a></span>    <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a1eb5d6ce51e7cd86f396abfbe09e5a3d">GLVertexBufferPrivate</a>(<a class="code hl_enumeration" href="class_k_win_1_1_g_l_vertex_buffer.html#aa8b304b72be4140ba69a72e2061699d3">GLVertexBuffer::UsageHint</a> usageHint)</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>        : <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3fb4b713fe4502245a13850fce8371ad">vertexCount</a>(0)</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>        , <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ab4dfaea3566f01f7acc019b486bd4a79">persistent</a>(false)</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>        , <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a4793c6d3553811c10a53b39a725698b3">useColor</a>(false)</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>        , <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a986c3aef1d726e6079c55ad74e78de03">color</a>(0, 0, 0, 255)</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>        , <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3d9fb2ed5b74733b571ad275b077e4e0">bufferSize</a>(0)</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>        , <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ada8e24099c6e3c043f33b2f79d6cb10b">bufferEnd</a>(0)</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>        , <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a13f54092b4db4bb7af28b2f28654399c">mappedSize</a>(0)</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>        , <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a76b821e485e7973feccfaff2acbc7acf">frameSize</a>(0)</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>        , <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a668ddff4d0a87a0dce29f7a00b02fc2b">nextOffset</a>(0)</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>        , <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a9ad0ba658e80d3e3362db998d177aea1">baseAddress</a>(0)</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>        , <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a2a90e2069f0af3fa5930510b3f8e61e8">map</a>(nullptr)</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>    {</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>        glGenBuffers(1, &amp;<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad3d493751413d52cfc34be759cb8d2d7">buffer</a>);</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span> </div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>        <span class="keywordflow">switch</span> (usageHint) {</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="class_k_win_1_1_g_l_vertex_buffer.html#aa8b304b72be4140ba69a72e2061699d3af08b2b530b3150ccbba92816705eb07c">GLVertexBuffer::Dynamic</a>:</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>            <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a13ba77d7d655084793855cd6f51f28c1">usage</a> = GL_DYNAMIC_DRAW;</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="class_k_win_1_1_g_l_vertex_buffer.html#aa8b304b72be4140ba69a72e2061699d3a8bdf6b4d70080826d3dd0112cd024d01">GLVertexBuffer::Static</a>:</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>            <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a13ba77d7d655084793855cd6f51f28c1">usage</a> = GL_STATIC_DRAW;</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>            <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a13ba77d7d655084793855cd6f51f28c1">usage</a> = GL_STREAM_DRAW;</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>        }</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>    }</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span> </div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aadd6229f10312486bba2a64515445074"> 1609</a></span>    <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aadd6229f10312486bba2a64515445074">~GLVertexBufferPrivate</a>()</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>    {</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>        deleteAll(<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3dd16a54ed6b9505fae896541e3335d5">fences</a>);</div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span> </div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad3d493751413d52cfc34be759cb8d2d7">buffer</a> != 0) {</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>            glDeleteBuffers(1, &amp;<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad3d493751413d52cfc34be759cb8d2d7">buffer</a>);</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>            <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a2a90e2069f0af3fa5930510b3f8e61e8">map</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>        }</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>    }</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span> </div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a074039c04cb8deaffa690dacf14941d3">interleaveArrays</a>(<span class="keywordtype">float</span> *array, <span class="keywordtype">int</span> dim, <span class="keyword">const</span> <span class="keywordtype">float</span> *vertices, <span class="keyword">const</span> <span class="keywordtype">float</span> *texcoords, <span class="keywordtype">int</span> count);</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a41da6e8535c61371d71ebeb2245975ab">bindArrays</a>();</div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#acaef53e8213a6c359c22a1e04ac8ac43">unbindArrays</a>();</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aff1d72e637d4438b12ced8af7f3ce1aa">reallocateBuffer</a>(<span class="keywordtype">size_t</span> size);</div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>    GLvoid *<a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#af2b2fe4bb6e6df2e71ae84d64ccbfc85">mapNextFreeRange</a>(<span class="keywordtype">size_t</span> size);</div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad793567affd9366f01302fe7e1493747">reallocatePersistentBuffer</a>(<span class="keywordtype">size_t</span> size);</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad0e6d68782fb05aee2ca7953a78b8a4b">awaitFence</a>(intptr_t offset);</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>    GLvoid *<a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#af586aac4ca835c7b16bf4282428512d6">getIdleRange</a>(<span class="keywordtype">size_t</span> size);</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span> </div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad3d493751413d52cfc34be759cb8d2d7"> 1628</a></span>    GLuint <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad3d493751413d52cfc34be759cb8d2d7">buffer</a>;</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a13ba77d7d655084793855cd6f51f28c1"> 1629</a></span>    GLenum <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a13ba77d7d655084793855cd6f51f28c1">usage</a>;</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a6542730846d81321aef29cb67c055eb5"> 1630</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a6542730846d81321aef29cb67c055eb5">stride</a>;</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3fb4b713fe4502245a13850fce8371ad"> 1631</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3fb4b713fe4502245a13850fce8371ad">vertexCount</a>;</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a813e7b125b1617905d4b5a69de8cfdc1"> 1632</a></span>    <span class="keyword">static</span> std::unique_ptr&lt;GLVertexBuffer&gt; <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a813e7b125b1617905d4b5a69de8cfdc1">streamingBuffer</a>;</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aa4c2787020cb4354ecb8c258ce21219d"> 1633</a></span>    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aa4c2787020cb4354ecb8c258ce21219d">haveBufferStorage</a>;</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a29590e13ac437ba3cbcb9dd9aedd400b"> 1634</a></span>    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a29590e13ac437ba3cbcb9dd9aedd400b">haveSyncFences</a>;</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a02363efecb9dcce366577e932a9b1165"> 1635</a></span>    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a02363efecb9dcce366577e932a9b1165">hasMapBufferRange</a>;</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aa79702bdf1a387ee035d63a85a09afe2"> 1636</a></span>    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aa79702bdf1a387ee035d63a85a09afe2">supportsIndexedQuads</a>;</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3ce2bb09ede7d57a2cb1cf4160b3fd9b"> 1637</a></span>    QByteArray <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3ce2bb09ede7d57a2cb1cf4160b3fd9b">dataStore</a>;</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ab4dfaea3566f01f7acc019b486bd4a79"> 1638</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ab4dfaea3566f01f7acc019b486bd4a79">persistent</a>;</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a4793c6d3553811c10a53b39a725698b3"> 1639</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a4793c6d3553811c10a53b39a725698b3">useColor</a>;</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a986c3aef1d726e6079c55ad74e78de03"> 1640</a></span>    QVector4D <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a986c3aef1d726e6079c55ad74e78de03">color</a>;</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3d9fb2ed5b74733b571ad275b077e4e0"> 1641</a></span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3d9fb2ed5b74733b571ad275b077e4e0">bufferSize</a>;</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ada8e24099c6e3c043f33b2f79d6cb10b"> 1642</a></span>    intptr_t <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ada8e24099c6e3c043f33b2f79d6cb10b">bufferEnd</a>;</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a13f54092b4db4bb7af28b2f28654399c"> 1643</a></span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a13f54092b4db4bb7af28b2f28654399c">mappedSize</a>;</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a76b821e485e7973feccfaff2acbc7acf"> 1644</a></span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a76b821e485e7973feccfaff2acbc7acf">frameSize</a>;</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a668ddff4d0a87a0dce29f7a00b02fc2b"> 1645</a></span>    intptr_t <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a668ddff4d0a87a0dce29f7a00b02fc2b">nextOffset</a>;</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a9ad0ba658e80d3e3362db998d177aea1"> 1646</a></span>    intptr_t <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a9ad0ba658e80d3e3362db998d177aea1">baseAddress</a>;</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a2a90e2069f0af3fa5930510b3f8e61e8"> 1647</a></span>    uint8_t *<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a2a90e2069f0af3fa5930510b3f8e61e8">map</a>;</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3dd16a54ed6b9505fae896541e3335d5"> 1648</a></span>    std::deque&lt;BufferFence&gt; <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3dd16a54ed6b9505fae896541e3335d5">fences</a>;</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a25d5b32e0df13ff5182a8c7187dc2e99"> 1649</a></span>    <a class="code hl_struct" href="struct_k_win_1_1_frame_sizes_array.html">FrameSizesArray&lt;4&gt;</a> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a25d5b32e0df13ff5182a8c7187dc2e99">frameSizes</a>;</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a0d4eef833340af380a2cf5b773f3d8c6"> 1650</a></span>    <a class="code hl_struct" href="struct_k_win_1_1_vertex_attrib.html">VertexAttrib</a> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a0d4eef833340af380a2cf5b773f3d8c6">attrib</a>[<a class="code hl_enumvalue" href="namespace_k_win.html#a4559cf19c26624e384566b9859843499a37d64d713833c316fb5048336ac99dce">VertexAttributeCount</a>];</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a568f4dc46e959d89695d246195335f9c"> 1651</a></span>    <a class="code hl_class" href="class_k_win_1_1_bitfield.html">Bitfield</a> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a568f4dc46e959d89695d246195335f9c">enabledArrays</a>;</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a131a777dc811058963ee1f52f7eee377"> 1652</a></span>    <span class="keyword">static</span> std::unique_ptr&lt;IndexBuffer&gt; <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a131a777dc811058963ee1f52f7eee377">s_indexBuffer</a>;</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>};</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span> </div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span><span class="keywordtype">bool</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a02363efecb9dcce366577e932a9b1165">GLVertexBufferPrivate::hasMapBufferRange</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span><span class="keywordtype">bool</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aa79702bdf1a387ee035d63a85a09afe2">GLVertexBufferPrivate::supportsIndexedQuads</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>std::unique_ptr&lt;GLVertexBuffer&gt; <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a813e7b125b1617905d4b5a69de8cfdc1">GLVertexBufferPrivate::streamingBuffer</a>;</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span><span class="keywordtype">bool</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aa4c2787020cb4354ecb8c258ce21219d">GLVertexBufferPrivate::haveBufferStorage</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span><span class="keywordtype">bool</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a29590e13ac437ba3cbcb9dd9aedd400b">GLVertexBufferPrivate::haveSyncFences</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>std::unique_ptr&lt;IndexBuffer&gt; <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a131a777dc811058963ee1f52f7eee377">GLVertexBufferPrivate::s_indexBuffer</a>;</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span> </div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a074039c04cb8deaffa690dacf14941d3"> 1662</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a074039c04cb8deaffa690dacf14941d3">GLVertexBufferPrivate::interleaveArrays</a>(<span class="keywordtype">float</span> *dst, <span class="keywordtype">int</span> dim,</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>                                             <span class="keyword">const</span> <span class="keywordtype">float</span> *vertices, <span class="keyword">const</span> <span class="keywordtype">float</span> *texcoords,</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>                                             <span class="keywordtype">int</span> count)</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>{</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>    <span class="keywordflow">if</span> (!texcoords) {</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>        memcpy((<span class="keywordtype">void</span> *)dst, vertices, dim * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) * count);</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>    }</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span> </div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>    <span class="keywordflow">switch</span> (dim) {</div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; i++) {</div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>            *(dst++) = *(vertices++);</div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>            *(dst++) = *(vertices++);</div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>            *(dst++) = *(texcoords++);</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>            *(dst++) = *(texcoords++);</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>        }</div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span> </div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>    <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; i++) {</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>            *(dst++) = *(vertices++);</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>            *(dst++) = *(vertices++);</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>            *(dst++) = *(vertices++);</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>            *(dst++) = *(texcoords++);</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>            *(dst++) = *(texcoords++);</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>        }</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span> </div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; i++) {</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; dim; j++) {</div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>                *(dst++) = *(vertices++);</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>            }</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span> </div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>            *(dst++) = *(texcoords++);</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>            *(dst++) = *(texcoords++);</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>        }</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>    }</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>}</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span> </div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a41da6e8535c61371d71ebeb2245975ab"> 1703</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a41da6e8535c61371d71ebeb2245975ab">GLVertexBufferPrivate::bindArrays</a>()</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>{</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a4793c6d3553811c10a53b39a725698b3">useColor</a>) {</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>        <a class="code hl_class" href="class_k_win_1_1_g_l_shader.html">GLShader</a> *shader = <a class="code hl_function" href="class_k_win_1_1_shader_manager.html#aaf9c40a0a4f2e72ad6e30fa967dd073c">ShaderManager::instance</a>()-&gt;<a class="code hl_function" href="class_k_win_1_1_shader_manager.html#a0117859b54b7230de57c064a7019902f">getBoundShader</a>();</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>        shader-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">setUniform</a>(<a class="code hl_enumvalue" href="class_k_win_1_1_g_l_shader.html#a5cd975ed881a6c02777c28ff85e3bf9ba2887c21e3dce079c11775ed702292b2b">GLShader::Color</a>, <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a986c3aef1d726e6079c55ad74e78de03">color</a>);</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>    }</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span> </div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>    glBindBuffer(GL_ARRAY_BUFFER, <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad3d493751413d52cfc34be759cb8d2d7">buffer</a>);</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span> </div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>    <a class="code hl_class" href="class_k_win_1_1_bitfield_iterator.html">BitfieldIterator</a> it(<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a568f4dc46e959d89695d246195335f9c">enabledArrays</a>);</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>    <span class="keywordflow">while</span> (it.<a class="code hl_function" href="class_k_win_1_1_bitfield_iterator.html#a482111e707c3836fa42abdd612702116">hasNext</a>()) {</div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> index = it.<a class="code hl_function" href="class_k_win_1_1_bitfield_iterator.html#a004d1cb146f730c8fa18f35be91064fa">next</a>();</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>        glVertexAttribPointer(index, <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a0d4eef833340af380a2cf5b773f3d8c6">attrib</a>[index].size, <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a0d4eef833340af380a2cf5b773f3d8c6">attrib</a>[index].<a class="code hl_variable" href="namespace_k_win.html#a3223e96fea9ab917c25be94e2434013a">type</a>, GL_FALSE, <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a6542730846d81321aef29cb67c055eb5">stride</a>,</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>                              (<span class="keyword">const</span> GLvoid *)(<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a9ad0ba658e80d3e3362db998d177aea1">baseAddress</a> + <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a0d4eef833340af380a2cf5b773f3d8c6">attrib</a>[index].offset));</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>        glEnableVertexAttribArray(index);</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>    }</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>}</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span> </div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#acaef53e8213a6c359c22a1e04ac8ac43"> 1721</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#acaef53e8213a6c359c22a1e04ac8ac43">GLVertexBufferPrivate::unbindArrays</a>()</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>{</div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>    <a class="code hl_class" href="class_k_win_1_1_bitfield_iterator.html">BitfieldIterator</a> it(<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a568f4dc46e959d89695d246195335f9c">enabledArrays</a>);</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>    <span class="keywordflow">while</span> (it.<a class="code hl_function" href="class_k_win_1_1_bitfield_iterator.html#a482111e707c3836fa42abdd612702116">hasNext</a>()) {</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>        glDisableVertexAttribArray(it.<a class="code hl_function" href="class_k_win_1_1_bitfield_iterator.html#a004d1cb146f730c8fa18f35be91064fa">next</a>());</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>    }</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>}</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span> </div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad793567affd9366f01302fe7e1493747"> 1729</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad793567affd9366f01302fe7e1493747">GLVertexBufferPrivate::reallocatePersistentBuffer</a>(<span class="keywordtype">size_t</span> size)</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>{</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad3d493751413d52cfc34be759cb8d2d7">buffer</a> != 0) {</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>        <span class="comment">// This also unmaps and unbinds the buffer</span></div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>        glDeleteBuffers(1, &amp;<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad3d493751413d52cfc34be759cb8d2d7">buffer</a>);</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>        <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad3d493751413d52cfc34be759cb8d2d7">buffer</a> = 0;</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span> </div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>        deleteAll(<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3dd16a54ed6b9505fae896541e3335d5">fences</a>);</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>    }</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span> </div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad3d493751413d52cfc34be759cb8d2d7">buffer</a> == 0) {</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>        glGenBuffers(1, &amp;<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad3d493751413d52cfc34be759cb8d2d7">buffer</a>);</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>    }</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span> </div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>    <span class="comment">// Round the size up to 64 kb</span></div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>    <span class="keywordtype">size_t</span> minSize = std::max&lt;size_t&gt;(<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a25d5b32e0df13ff5182a8c7187dc2e99">frameSizes</a>.<a class="code hl_function" href="struct_k_win_1_1_frame_sizes_array.html#af6579924b889f1fc169015e887c104b3">average</a>() * 3, 128 * 1024);</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>    <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3d9fb2ed5b74733b571ad275b077e4e0">bufferSize</a> = std::max(size, minSize);</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span> </div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>    <span class="keyword">const</span> GLbitfield storage = GL_DYNAMIC_STORAGE_BIT;</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>    <span class="keyword">const</span> GLbitfield access = GL_MAP_WRITE_BIT | GL_MAP_PERSISTENT_BIT | GL_MAP_COHERENT_BIT;</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span> </div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>    glBindBuffer(GL_ARRAY_BUFFER, <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad3d493751413d52cfc34be759cb8d2d7">buffer</a>);</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>    glBufferStorage(GL_ARRAY_BUFFER, <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3d9fb2ed5b74733b571ad275b077e4e0">bufferSize</a>, <span class="keyword">nullptr</span>, storage | access);</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span> </div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>    <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a2a90e2069f0af3fa5930510b3f8e61e8">map</a> = (uint8_t *)glMapBufferRange(GL_ARRAY_BUFFER, 0, <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3d9fb2ed5b74733b571ad275b077e4e0">bufferSize</a>, access);</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span> </div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>    <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a668ddff4d0a87a0dce29f7a00b02fc2b">nextOffset</a> = 0;</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>    <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ada8e24099c6e3c043f33b2f79d6cb10b">bufferEnd</a> = <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3d9fb2ed5b74733b571ad275b077e4e0">bufferSize</a>;</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>}</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span> </div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad0e6d68782fb05aee2ca7953a78b8a4b"> 1759</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad0e6d68782fb05aee2ca7953a78b8a4b">GLVertexBufferPrivate::awaitFence</a>(intptr_t end)</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>{</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>    <span class="comment">// Skip fences until we reach the end offset</span></div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>    <span class="keywordflow">while</span> (!<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3dd16a54ed6b9505fae896541e3335d5">fences</a>.empty() &amp;&amp; <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3dd16a54ed6b9505fae896541e3335d5">fences</a>.front().nextEnd &lt; end) {</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>        glDeleteSync(<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3dd16a54ed6b9505fae896541e3335d5">fences</a>.front().sync);</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>        <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3dd16a54ed6b9505fae896541e3335d5">fences</a>.pop_front();</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>    }</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span> </div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>    Q_ASSERT(!<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3dd16a54ed6b9505fae896541e3335d5">fences</a>.empty());</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span> </div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>    <span class="comment">// Wait on the next fence</span></div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>    <span class="keyword">const</span> <a class="code hl_struct" href="struct_k_win_1_1_buffer_fence.html">BufferFence</a> &amp;fence = <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3dd16a54ed6b9505fae896541e3335d5">fences</a>.front();</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span> </div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>    <span class="keywordflow">if</span> (!fence.<a class="code hl_function" href="struct_k_win_1_1_buffer_fence.html#a03b729a36a49b1bfe4cbbdc876747cb5">signaled</a>()) {</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>        qCDebug(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;Stalling on VBO fence&quot;</span>;</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>        <span class="keyword">const</span> GLenum ret = glClientWaitSync(fence.<a class="code hl_variable" href="struct_k_win_1_1_buffer_fence.html#afa95d5161ddc23a0bf269285ae0f0f69">sync</a>, GL_SYNC_FLUSH_COMMANDS_BIT, 1000000000);</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span> </div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>        <span class="keywordflow">if</span> (ret == GL_TIMEOUT_EXPIRED || ret == GL_WAIT_FAILED) {</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>            qCCritical(LIBKWINGLUTILS) &lt;&lt; <span class="stringliteral">&quot;Wait failed&quot;</span>;</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>        }</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>    }</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span> </div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>    glDeleteSync(fence.<a class="code hl_variable" href="struct_k_win_1_1_buffer_fence.html#afa95d5161ddc23a0bf269285ae0f0f69">sync</a>);</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span> </div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>    <span class="comment">// Update the end pointer</span></div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>    <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ada8e24099c6e3c043f33b2f79d6cb10b">bufferEnd</a> = fence.<a class="code hl_variable" href="struct_k_win_1_1_buffer_fence.html#a6d9d515e3d8271f45285afb975ff8426">nextEnd</a>;</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>    <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3dd16a54ed6b9505fae896541e3335d5">fences</a>.pop_front();</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span> </div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>}</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span> </div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#af586aac4ca835c7b16bf4282428512d6"> 1791</a></span>GLvoid *<a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#af586aac4ca835c7b16bf4282428512d6">GLVertexBufferPrivate::getIdleRange</a>(<span class="keywordtype">size_t</span> size)</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>{</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="kwinglutils_8cpp.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(size &gt; <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3d9fb2ed5b74733b571ad275b077e4e0">bufferSize</a>)) {</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>        <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad793567affd9366f01302fe7e1493747">reallocatePersistentBuffer</a>(size * 2);</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>    }</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span> </div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>    <span class="comment">// Handle wrap-around</span></div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="kwinglutils_8cpp.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a668ddff4d0a87a0dce29f7a00b02fc2b">nextOffset</a> + size &gt; <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3d9fb2ed5b74733b571ad275b077e4e0">bufferSize</a>)) {</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>        <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a668ddff4d0a87a0dce29f7a00b02fc2b">nextOffset</a> = 0;</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>        <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ada8e24099c6e3c043f33b2f79d6cb10b">bufferEnd</a> -= <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3d9fb2ed5b74733b571ad275b077e4e0">bufferSize</a>;</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span> </div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="struct_k_win_1_1_buffer_fence.html">BufferFence</a> &amp;fence : <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3dd16a54ed6b9505fae896541e3335d5">fences</a>) {</div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>            fence.nextEnd -= <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3d9fb2ed5b74733b571ad275b077e4e0">bufferSize</a>;</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>        }</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span> </div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>        <span class="comment">// Emit a fence now</span></div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>        <span class="keywordflow">if</span> (<span class="keyword">auto</span> sync = glFenceSync(GL_SYNC_GPU_COMMANDS_COMPLETE, 0)) {</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>            <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3dd16a54ed6b9505fae896541e3335d5">fences</a>.push_back(<a class="code hl_struct" href="struct_k_win_1_1_buffer_fence.html">BufferFence</a>{</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>                .<a class="code hl_variable" href="struct_k_win_1_1_buffer_fence.html#afa95d5161ddc23a0bf269285ae0f0f69">sync</a> = sync,</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>                .nextEnd = intptr_t(<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3d9fb2ed5b74733b571ad275b077e4e0">bufferSize</a>)});</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>        }</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>    }</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span> </div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="kwinglutils_8cpp.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a668ddff4d0a87a0dce29f7a00b02fc2b">nextOffset</a> + intptr_t(size) &gt; <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ada8e24099c6e3c043f33b2f79d6cb10b">bufferEnd</a>)) {</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad0e6d68782fb05aee2ca7953a78b8a4b">awaitFence</a>(<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a668ddff4d0a87a0dce29f7a00b02fc2b">nextOffset</a> + size)) {</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>        }</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>    }</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span> </div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a2a90e2069f0af3fa5930510b3f8e61e8">map</a> + <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a668ddff4d0a87a0dce29f7a00b02fc2b">nextOffset</a>;</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>}</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span> </div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aff1d72e637d4438b12ced8af7f3ce1aa"> 1823</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aff1d72e637d4438b12ced8af7f3ce1aa">GLVertexBufferPrivate::reallocateBuffer</a>(<span class="keywordtype">size_t</span> size)</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>{</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>    <span class="comment">// Round the size up to 4 Kb for streaming/dynamic buffers.</span></div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> minSize = 32768; <span class="comment">// Minimum size for streaming buffers</span></div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> alloc = <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a13ba77d7d655084793855cd6f51f28c1">usage</a> != GL_STATIC_DRAW ? std::max(size, minSize) : size;</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span> </div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>    glBufferData(GL_ARRAY_BUFFER, alloc, <span class="keyword">nullptr</span>, <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a13ba77d7d655084793855cd6f51f28c1">usage</a>);</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span> </div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>    <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3d9fb2ed5b74733b571ad275b077e4e0">bufferSize</a> = alloc;</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>}</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span> </div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer_private.html#af2b2fe4bb6e6df2e71ae84d64ccbfc85"> 1834</a></span>GLvoid *<a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#af2b2fe4bb6e6df2e71ae84d64ccbfc85">GLVertexBufferPrivate::mapNextFreeRange</a>(<span class="keywordtype">size_t</span> size)</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>{</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>    GLbitfield access = GL_MAP_WRITE_BIT | GL_MAP_INVALIDATE_RANGE_BIT | GL_MAP_UNSYNCHRONIZED_BIT;</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span> </div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a668ddff4d0a87a0dce29f7a00b02fc2b">nextOffset</a> + size) &gt; <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3d9fb2ed5b74733b571ad275b077e4e0">bufferSize</a>) {</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>        <span class="comment">// Reallocate the data store if it&#39;s too small.</span></div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>        <span class="keywordflow">if</span> (size &gt; <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3d9fb2ed5b74733b571ad275b077e4e0">bufferSize</a>) {</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>            <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aff1d72e637d4438b12ced8af7f3ce1aa">reallocateBuffer</a>(size);</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>            access |= GL_MAP_INVALIDATE_BUFFER_BIT;</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>            access ^= GL_MAP_UNSYNCHRONIZED_BIT;</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>        }</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span> </div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>        <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a668ddff4d0a87a0dce29f7a00b02fc2b">nextOffset</a> = 0;</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>    }</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span> </div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>    <span class="keywordflow">return</span> glMapBufferRange(GL_ARRAY_BUFFER, <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a668ddff4d0a87a0dce29f7a00b02fc2b">nextOffset</a>, size, access);</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>}</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span> </div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span><span class="comment">//*********************************</span></div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span><span class="comment">// GLVertexBuffer</span></div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span><span class="comment">//*********************************</span></div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span> </div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span><span class="keyword">const</span> <a class="code hl_struct" href="struct_k_win_1_1_g_l_vertex_attrib.html">GLVertexAttrib</a> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer.html#a416217526302804234d31c8b42ef74c7">GLVertexBuffer::GLVertex2DLayout</a>[2] = {</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>    {<a class="code hl_enumvalue" href="namespace_k_win.html#a4559cf19c26624e384566b9859843499a28ec5128ff65bc7e124bcea51873aa3a">VA_Position</a>, 2, GL_FLOAT, offsetof(<a class="code hl_struct" href="struct_k_win_1_1_g_l_vertex2_d.html">GLVertex2D</a>, position)},</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>    {<a class="code hl_enumvalue" href="namespace_k_win.html#a4559cf19c26624e384566b9859843499acb8706a051627d593d64635f4f9487cd">VA_TexCoord</a>, 2, GL_FLOAT, offsetof(GLVertex2D, texcoord)},</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>};</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span> </div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span><span class="keyword">const</span> GLVertexAttrib <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer.html#a8c2a0d8cff092ff7df950bdf98be02a9">GLVertexBuffer::GLVertex3DLayout</a>[2] = {</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>    {<a class="code hl_enumvalue" href="namespace_k_win.html#a4559cf19c26624e384566b9859843499a28ec5128ff65bc7e124bcea51873aa3a">VA_Position</a>, 3, GL_FLOAT, offsetof(GLVertex3D, position)},</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>    {<a class="code hl_enumvalue" href="namespace_k_win.html#a4559cf19c26624e384566b9859843499acb8706a051627d593d64635f4f9487cd">VA_TexCoord</a>, 2, GL_FLOAT, offsetof(GLVertex3D, texcoord)},</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>};</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span> </div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#a723e9f27a712b881f0bd048cba97e342"> 1867</a></span><a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a723e9f27a712b881f0bd048cba97e342">GLVertexBuffer::GLVertexBuffer</a>(<a class="code hl_enumeration" href="class_k_win_1_1_g_l_vertex_buffer.html#aa8b304b72be4140ba69a72e2061699d3">UsageHint</a> hint)</div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>    : d(std::make_unique&lt;<a class="code hl_class" href="class_k_win_1_1_g_l_vertex_buffer_private.html">GLVertexBufferPrivate</a>&gt;(hint))</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>{</div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>}</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span> </div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span><a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#af36620dd7745528f78413b808c0c64f1">GLVertexBuffer::~GLVertexBuffer</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span> </div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#a4ae8c8d69eb58f2c37347e0787166d89"> 1874</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a4ae8c8d69eb58f2c37347e0787166d89">GLVertexBuffer::setData</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keywordtype">size_t</span> size)</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>{</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>    GLvoid *ptr = <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#ae080745273a603df969fb4ef6e0552a5">map</a>(size);</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>    memcpy(ptr, data, size);</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a31338f49e5f7bcb61b8b733fd8cfb8f0">unmap</a>();</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>}</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span> </div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#a74ec2c9a2b319f19bb4adccd83234e00"> 1881</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a4ae8c8d69eb58f2c37347e0787166d89">GLVertexBuffer::setData</a>(<span class="keywordtype">int</span> vertexCount, <span class="keywordtype">int</span> dim, <span class="keyword">const</span> <span class="keywordtype">float</span> *vertices, <span class="keyword">const</span> <span class="keywordtype">float</span> *texcoords)</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>{</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>    <span class="keyword">const</span> <a class="code hl_struct" href="struct_k_win_1_1_g_l_vertex_attrib.html">GLVertexAttrib</a> layout[] = {</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>        {<a class="code hl_enumvalue" href="namespace_k_win.html#a4559cf19c26624e384566b9859843499a28ec5128ff65bc7e124bcea51873aa3a">VA_Position</a>, dim, GL_FLOAT, 0},</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>        {<a class="code hl_enumvalue" href="namespace_k_win.html#a4559cf19c26624e384566b9859843499acb8706a051627d593d64635f4f9487cd">VA_TexCoord</a>, 2, GL_FLOAT, int(dim * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>))}};</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span> </div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>    <span class="keywordtype">int</span> stride = (texcoords ? dim + 2 : dim) * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>);</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>    <span class="keywordtype">int</span> attribCount = texcoords ? 2 : 1;</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span> </div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a6fd8baaae3089a8b562a24ba2816275c">setAttribLayout</a>(layout, attribCount, stride);</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#af939add6737dda7815aceed301b17ba3">setVertexCount</a>(vertexCount);</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span> </div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>    GLvoid *ptr = <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#ae080745273a603df969fb4ef6e0552a5">map</a>(vertexCount * stride);</div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>    d-&gt;interleaveArrays((<span class="keywordtype">float</span> *)ptr, dim, vertices, texcoords, vertexCount);</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a31338f49e5f7bcb61b8b733fd8cfb8f0">unmap</a>();</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>}</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span> </div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#ae080745273a603df969fb4ef6e0552a5"> 1898</a></span>GLvoid *<a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#ae080745273a603df969fb4ef6e0552a5">GLVertexBuffer::map</a>(<span class="keywordtype">size_t</span> size)</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>{</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>    d-&gt;mappedSize = size;</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>    d-&gt;frameSize += size;</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span> </div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>    <span class="keywordflow">if</span> (d-&gt;persistent) {</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>        <span class="keywordflow">return</span> d-&gt;getIdleRange(size);</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>    }</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span> </div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>    glBindBuffer(GL_ARRAY_BUFFER, d-&gt;buffer);</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span> </div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>    <span class="keywordtype">bool</span> preferBufferSubData = <a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>()-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#af5a58f5986f30fc8a2e4c1770b46eaf4">preferBufferSubData</a>();</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span> </div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a02363efecb9dcce366577e932a9b1165">GLVertexBufferPrivate::hasMapBufferRange</a> &amp;&amp; !preferBufferSubData) {</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>        <span class="keywordflow">return</span> (GLvoid *)d-&gt;mapNextFreeRange(size);</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>    }</div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span> </div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>    <span class="comment">// If we can&#39;t map the buffer we allocate local memory to hold the</span></div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>    <span class="comment">// buffer data and return a pointer to it.  The data will be submitted</span></div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>    <span class="comment">// to the actual buffer object when the user calls unmap().</span></div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>    <span class="keywordflow">if</span> (<span class="keywordtype">size_t</span>(d-&gt;dataStore.size()) &lt; size) {</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>        d-&gt;dataStore.resize(size);</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>    }</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span> </div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>    <span class="keywordflow">return</span> (GLvoid *)d-&gt;dataStore.data();</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>}</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span> </div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#a31338f49e5f7bcb61b8b733fd8cfb8f0"> 1925</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a31338f49e5f7bcb61b8b733fd8cfb8f0">GLVertexBuffer::unmap</a>()</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>{</div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span>    <span class="keywordflow">if</span> (d-&gt;persistent) {</div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>        d-&gt;baseAddress = d-&gt;nextOffset;</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>        d-&gt;nextOffset += <a class="code hl_function" href="namespace_k_win.html#a589f408567ff14915728d5c320d281ac">align</a>(d-&gt;mappedSize, 8);</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>        d-&gt;mappedSize = 0;</div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>    }</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span> </div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>    <span class="keywordtype">bool</span> preferBufferSubData = <a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>()-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#af5a58f5986f30fc8a2e4c1770b46eaf4">preferBufferSubData</a>();</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span> </div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a02363efecb9dcce366577e932a9b1165">GLVertexBufferPrivate::hasMapBufferRange</a> &amp;&amp; !preferBufferSubData) {</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>        glUnmapBuffer(GL_ARRAY_BUFFER);</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span> </div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>        d-&gt;baseAddress = d-&gt;nextOffset;</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>        d-&gt;nextOffset += <a class="code hl_function" href="namespace_k_win.html#a589f408567ff14915728d5c320d281ac">align</a>(d-&gt;mappedSize, 8);</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>        <span class="comment">// Upload the data from local memory to the buffer object</span></div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>        <span class="keywordflow">if</span> (preferBufferSubData) {</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>            <span class="keywordflow">if</span> ((d-&gt;nextOffset + d-&gt;mappedSize) &gt; d-&gt;bufferSize) {</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>                d-&gt;reallocateBuffer(d-&gt;mappedSize);</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>                d-&gt;nextOffset = 0;</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>            }</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span> </div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>            glBufferSubData(GL_ARRAY_BUFFER, d-&gt;nextOffset, d-&gt;mappedSize, d-&gt;dataStore.constData());</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span> </div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>            d-&gt;baseAddress = d-&gt;nextOffset;</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>            d-&gt;nextOffset += <a class="code hl_function" href="namespace_k_win.html#a589f408567ff14915728d5c320d281ac">align</a>(d-&gt;mappedSize, 8);</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>            glBufferData(GL_ARRAY_BUFFER, d-&gt;mappedSize, d-&gt;dataStore.data(), d-&gt;usage);</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>            d-&gt;baseAddress = 0;</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>        }</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span> </div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>        <span class="comment">// Free the local memory buffer if it&#39;s unlikely to be used again</span></div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>        <span class="keywordflow">if</span> (d-&gt;usage == GL_STATIC_DRAW) {</div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>            d-&gt;dataStore = QByteArray();</div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span>        }</div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>    }</div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span> </div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span>    d-&gt;mappedSize = 0;</div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>}</div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span> </div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#af939add6737dda7815aceed301b17ba3"> 1967</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#af939add6737dda7815aceed301b17ba3">GLVertexBuffer::setVertexCount</a>(<span class="keywordtype">int</span> count)</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span>{</div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>    d-&gt;vertexCount = count;</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>}</div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span> </div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#a6fd8baaae3089a8b562a24ba2816275c"> 1972</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a6fd8baaae3089a8b562a24ba2816275c">GLVertexBuffer::setAttribLayout</a>(<span class="keyword">const</span> <a class="code hl_struct" href="struct_k_win_1_1_g_l_vertex_attrib.html">GLVertexAttrib</a> *attribs, <span class="keywordtype">int</span> count, <span class="keywordtype">int</span> stride)</div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>{</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>    <span class="comment">// Start by disabling all arrays</span></div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span>    d-&gt;enabledArrays = 0;</div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span> </div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; i++) {</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> index = attribs[i].<a class="code hl_variable" href="struct_k_win_1_1_g_l_vertex_attrib.html#ac43e9f13b02849ac96e2d9f0d853cdcf">index</a>;</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span> </div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span>        Q_ASSERT(index &gt;= 0 &amp;&amp; index &lt; <a class="code hl_enumvalue" href="namespace_k_win.html#a4559cf19c26624e384566b9859843499a37d64d713833c316fb5048336ac99dce">VertexAttributeCount</a>);</div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>        Q_ASSERT(!d-&gt;enabledArrays[index]);</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span> </div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>        d-&gt;attrib[index].size = attribs[i].<a class="code hl_variable" href="struct_k_win_1_1_g_l_vertex_attrib.html#a3ed2de708fcebada7c3bbd1c4c787153">size</a>;</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span>        d-&gt;attrib[index].type = attribs[i].<a class="code hl_variable" href="struct_k_win_1_1_g_l_vertex_attrib.html#a52f0f48f7f6eab23b89b739a0f12a76b">type</a>;</div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>        d-&gt;attrib[index].offset = attribs[i].<a class="code hl_variable" href="struct_k_win_1_1_g_l_vertex_attrib.html#a28e29841b810227f2a58151ef35f1e81">relativeOffset</a>;</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span> </div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>        d-&gt;enabledArrays[index] = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span>    }</div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span> </div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span>    d-&gt;stride = stride;</div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>}</div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span> </div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#a89f55da383c6fd166cca16c4d5e2b428"> 1993</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a89f55da383c6fd166cca16c4d5e2b428">GLVertexBuffer::render</a>(GLenum primitiveMode)</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span>{</div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a89f55da383c6fd166cca16c4d5e2b428">render</a>(<a class="code hl_function" href="namespace_k_win.html#a0655524c1f1ba8dbb2cf16a1e4b9bb97">infiniteRegion</a>(), primitiveMode, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>}</div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span> </div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#ad27485be17f787bbfa4366403e8304b3"> 1998</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a89f55da383c6fd166cca16c4d5e2b428">GLVertexBuffer::render</a>(<span class="keyword">const</span> QRegion &amp;region, GLenum primitiveMode, <span class="keywordtype">bool</span> hardwareClipping)</div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span>{</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>    d-&gt;bindArrays();</div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a1bdaa52f784a0ba2cb195f524f9d1902">draw</a>(region, primitiveMode, 0, d-&gt;vertexCount, hardwareClipping);</div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>    d-&gt;unbindArrays();</div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>}</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span> </div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#ac10ee171fa414f4af92501946f147ed6"> 2005</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#ac10ee171fa414f4af92501946f147ed6">GLVertexBuffer::bindArrays</a>()</div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>{</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>    d-&gt;bindArrays();</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>}</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span> </div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#aef97e5890dc7aaedde08cbdc7c862a07"> 2010</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#aef97e5890dc7aaedde08cbdc7c862a07">GLVertexBuffer::unbindArrays</a>()</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>{</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>    d-&gt;unbindArrays();</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>}</div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span> </div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#a1bdaa52f784a0ba2cb195f524f9d1902"> 2015</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a1bdaa52f784a0ba2cb195f524f9d1902">GLVertexBuffer::draw</a>(GLenum primitiveMode, <span class="keywordtype">int</span> first, <span class="keywordtype">int</span> count)</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>{</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span>    <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a1bdaa52f784a0ba2cb195f524f9d1902">draw</a>(<a class="code hl_function" href="namespace_k_win.html#a0655524c1f1ba8dbb2cf16a1e4b9bb97">infiniteRegion</a>(), primitiveMode, first, count, <span class="keyword">false</span>);</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>}</div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span> </div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#a18f3b62bfad4e4d25717dfe23e21390f"> 2020</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a1bdaa52f784a0ba2cb195f524f9d1902">GLVertexBuffer::draw</a>(<span class="keyword">const</span> QRegion &amp;region, GLenum primitiveMode, <span class="keywordtype">int</span> first, <span class="keywordtype">int</span> count, <span class="keywordtype">bool</span> hardwareClipping)</div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span>{</div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span>    <span class="keywordflow">if</span> (primitiveMode == GL_QUADS) {</div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a131a777dc811058963ee1f52f7eee377">GLVertexBufferPrivate::s_indexBuffer</a>) {</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>            <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a131a777dc811058963ee1f52f7eee377">GLVertexBufferPrivate::s_indexBuffer</a> = std::make_unique&lt;IndexBuffer&gt;();</div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>        }</div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span> </div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>        <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a131a777dc811058963ee1f52f7eee377">GLVertexBufferPrivate::s_indexBuffer</a>-&gt;bind();</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>        <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a131a777dc811058963ee1f52f7eee377">GLVertexBufferPrivate::s_indexBuffer</a>-&gt;accommodate(count / 4);</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span> </div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>        count = count * 6 / 4;</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span> </div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>        <span class="keywordflow">if</span> (!hardwareClipping) {</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span>            glDrawElementsBaseVertex(GL_TRIANGLES, count, GL_UNSIGNED_SHORT, <span class="keyword">nullptr</span>, first);</div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span>            <span class="comment">// Clip using scissoring</span></div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>            <span class="keyword">const</span> <a class="code hl_class" href="class_k_win_1_1_g_l_framebuffer.html">GLFramebuffer</a> *current = <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a17ecd994c7b3d3874fe969e548e5063c">GLFramebuffer::currentFramebuffer</a>();</div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> QRect &amp;r : region) {</div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>                glScissor(r.x(), current-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a01c4e5f822e4148e44ae7e03fc9620f9">size</a>().height() - (r.y() + r.height()), r.width(), r.height());</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span>                glDrawElementsBaseVertex(GL_TRIANGLES, count, GL_UNSIGNED_SHORT, <span class="keyword">nullptr</span>, first);</div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span>            }</div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span>        }</div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>    }</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span> </div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>    <span class="keywordflow">if</span> (!hardwareClipping) {</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>        glDrawArrays(primitiveMode, first, count);</div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span>        <span class="comment">// Clip using scissoring</span></div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span>        <span class="keyword">const</span> <a class="code hl_class" href="class_k_win_1_1_g_l_framebuffer.html">GLFramebuffer</a> *current = <a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a17ecd994c7b3d3874fe969e548e5063c">GLFramebuffer::currentFramebuffer</a>();</div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> QRect &amp;r : region) {</div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>            glScissor(r.x(), current-&gt;<a class="code hl_function" href="class_k_win_1_1_g_l_framebuffer.html#a01c4e5f822e4148e44ae7e03fc9620f9">size</a>().height() - (r.y() + r.height()), r.width(), r.height());</div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span>            glDrawArrays(primitiveMode, first, count);</div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span>        }</div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span>    }</div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span>}</div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span> </div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#a2849bcd242018f097fd9852d23b6bd33"> 2057</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a2849bcd242018f097fd9852d23b6bd33">GLVertexBuffer::supportsIndexedQuads</a>()</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span>{</div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aa79702bdf1a387ee035d63a85a09afe2">GLVertexBufferPrivate::supportsIndexedQuads</a>;</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span>}</div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span> </div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#ad10aba26deff8b046fa802a170b99e4e"> 2062</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#ad10aba26deff8b046fa802a170b99e4e">GLVertexBuffer::isUseColor</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span><span class="keyword"></span>{</div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span>    <span class="keywordflow">return</span> d-&gt;useColor;</div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>}</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span> </div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#af4d323bc7d2e3e55ed6e834ce06e37ca"> 2067</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#af4d323bc7d2e3e55ed6e834ce06e37ca">GLVertexBuffer::setUseColor</a>(<span class="keywordtype">bool</span> enable)</div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span>{</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>    d-&gt;useColor = enable;</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span>}</div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span> </div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#a8a9e6c37a01b9824deeb42a9e93030c0"> 2072</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a8a9e6c37a01b9824deeb42a9e93030c0">GLVertexBuffer::setColor</a>(<span class="keyword">const</span> QColor &amp;color, <span class="keywordtype">bool</span> enable)</div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span>{</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>    d-&gt;useColor = enable;</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>    d-&gt;color = QVector4D(color.redF(), color.greenF(), color.blueF(), color.alphaF());</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>}</div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span> </div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#a2e51e925e06dac9fc80941f0febda075"> 2078</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a2e51e925e06dac9fc80941f0febda075">GLVertexBuffer::reset</a>()</div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>{</div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>    d-&gt;useColor = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>    d-&gt;color = QVector4D(0, 0, 0, 1);</div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>    d-&gt;vertexCount = 0;</div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span>}</div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span> </div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#a1d7734f12b910b04ed06b0e345b594c5"> 2085</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a1d7734f12b910b04ed06b0e345b594c5">GLVertexBuffer::endOfFrame</a>()</div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span>{</div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span>    <span class="keywordflow">if</span> (!d-&gt;persistent) {</div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span>    }</div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span> </div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span>    <span class="comment">// Emit a fence if we have uploaded data</span></div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span>    <span class="keywordflow">if</span> (d-&gt;frameSize &gt; 0) {</div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span>        d-&gt;frameSizes.push(d-&gt;frameSize);</div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span>        d-&gt;frameSize = 0;</div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span> </div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span>        <span class="comment">// Force the buffer to be reallocated at the beginning of the next frame</span></div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span>        <span class="comment">// if the average frame size is greater than half the size of the buffer</span></div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="kwinglutils_8cpp.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(d-&gt;frameSizes.average() &gt; d-&gt;bufferSize / 2)) {</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span>            deleteAll(d-&gt;fences);</div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span>            glDeleteBuffers(1, &amp;d-&gt;buffer);</div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span> </div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span>            d-&gt;buffer = 0;</div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span>            d-&gt;bufferSize = 0;</div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span>            d-&gt;nextOffset = 0;</div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span>            d-&gt;map = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span>            <span class="keywordflow">if</span> (<span class="keyword">auto</span> sync = glFenceSync(GL_SYNC_GPU_COMMANDS_COMPLETE, 0)) {</div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span>                d-&gt;fences.push_back(<a class="code hl_struct" href="struct_k_win_1_1_buffer_fence.html">BufferFence</a>{</div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>                    .<a class="code hl_variable" href="struct_k_win_1_1_buffer_fence.html#afa95d5161ddc23a0bf269285ae0f0f69">sync</a> = sync,</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>                    .nextEnd = intptr_t(d-&gt;nextOffset + d-&gt;bufferSize)});</div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>            }</div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span>        }</div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span>    }</div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span>}</div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span> </div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#a7297748d72759c31e5026a10c89fb130"> 2116</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a7297748d72759c31e5026a10c89fb130">GLVertexBuffer::beginFrame</a>()</div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>{</div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>    <span class="keywordflow">if</span> (!d-&gt;persistent) {</div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>    }</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span> </div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>    <span class="comment">// Remove finished fences from the list and update the bufferEnd offset</span></div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span>    <span class="keywordflow">while</span> (d-&gt;fences.size() &gt; 1 &amp;&amp; d-&gt;fences.front().signaled()) {</div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>        <span class="keyword">const</span> <a class="code hl_struct" href="struct_k_win_1_1_buffer_fence.html">BufferFence</a> &amp;fence = d-&gt;fences.front();</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>        glDeleteSync(fence.<a class="code hl_variable" href="struct_k_win_1_1_buffer_fence.html#afa95d5161ddc23a0bf269285ae0f0f69">sync</a>);</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span> </div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>        d-&gt;bufferEnd = fence.<a class="code hl_variable" href="struct_k_win_1_1_buffer_fence.html#a6d9d515e3d8271f45285afb975ff8426">nextEnd</a>;</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>        d-&gt;fences.pop_front();</div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>    }</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>}</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span> </div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#a3c3c111e02755f03956d62be856f5362"> 2132</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a3c3c111e02755f03956d62be856f5362">GLVertexBuffer::initStatic</a>()</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>{</div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">GLPlatform::instance</a>()-&gt;isGLES()) {</div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span>        <span class="keywordtype">bool</span> haveBaseVertex = <a class="code hl_function" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">hasGLExtension</a>(QByteArrayLiteral(<span class="stringliteral">&quot;GL_OES_draw_elements_base_vertex&quot;</span>));</div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span>        <span class="keywordtype">bool</span> haveCopyBuffer = <a class="code hl_function" href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">hasGLVersion</a>(3, 0);</div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>        <span class="keywordtype">bool</span> haveMapBufferRange = <a class="code hl_function" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">hasGLExtension</a>(QByteArrayLiteral(<span class="stringliteral">&quot;GL_EXT_map_buffer_range&quot;</span>));</div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span> </div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>        <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a02363efecb9dcce366577e932a9b1165">GLVertexBufferPrivate::hasMapBufferRange</a> = haveMapBufferRange;</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>        <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aa79702bdf1a387ee035d63a85a09afe2">GLVertexBufferPrivate::supportsIndexedQuads</a> = haveBaseVertex &amp;&amp; haveCopyBuffer &amp;&amp; haveMapBufferRange;</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>        <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aa4c2787020cb4354ecb8c258ce21219d">GLVertexBufferPrivate::haveBufferStorage</a> = <a class="code hl_function" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">hasGLExtension</a>(<span class="stringliteral">&quot;GL_EXT_buffer_storage&quot;</span>);</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>        <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a29590e13ac437ba3cbcb9dd9aedd400b">GLVertexBufferPrivate::haveSyncFences</a> = <a class="code hl_function" href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">hasGLVersion</a>(3, 0);</div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>        <span class="keywordtype">bool</span> haveBaseVertex = <a class="code hl_function" href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">hasGLVersion</a>(3, 2) || <a class="code hl_function" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">hasGLExtension</a>(QByteArrayLiteral(<span class="stringliteral">&quot;GL_ARB_draw_elements_base_vertex&quot;</span>));</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>        <span class="keywordtype">bool</span> haveCopyBuffer = <a class="code hl_function" href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">hasGLVersion</a>(3, 1) || <a class="code hl_function" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">hasGLExtension</a>(QByteArrayLiteral(<span class="stringliteral">&quot;GL_ARB_copy_buffer&quot;</span>));</div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span>        <span class="keywordtype">bool</span> haveMapBufferRange = <a class="code hl_function" href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">hasGLVersion</a>(3, 0) || <a class="code hl_function" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">hasGLExtension</a>(QByteArrayLiteral(<span class="stringliteral">&quot;GL_ARB_map_buffer_range&quot;</span>));</div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span> </div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span>        <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a02363efecb9dcce366577e932a9b1165">GLVertexBufferPrivate::hasMapBufferRange</a> = haveMapBufferRange;</div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span>        <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aa79702bdf1a387ee035d63a85a09afe2">GLVertexBufferPrivate::supportsIndexedQuads</a> = haveBaseVertex &amp;&amp; haveCopyBuffer &amp;&amp; haveMapBufferRange;</div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span>        <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aa4c2787020cb4354ecb8c258ce21219d">GLVertexBufferPrivate::haveBufferStorage</a> = <a class="code hl_function" href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">hasGLVersion</a>(4, 4) || <a class="code hl_function" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">hasGLExtension</a>(<span class="stringliteral">&quot;GL_ARB_buffer_storage&quot;</span>);</div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>        <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a29590e13ac437ba3cbcb9dd9aedd400b">GLVertexBufferPrivate::haveSyncFences</a> = <a class="code hl_function" href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">hasGLVersion</a>(3, 2) || <a class="code hl_function" href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">hasGLExtension</a>(<span class="stringliteral">&quot;GL_ARB_sync&quot;</span>);</div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span>    }</div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span>    <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a131a777dc811058963ee1f52f7eee377">GLVertexBufferPrivate::s_indexBuffer</a>.reset();</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>    <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a813e7b125b1617905d4b5a69de8cfdc1">GLVertexBufferPrivate::streamingBuffer</a> = std::make_unique&lt;GLVertexBuffer&gt;(<a class="code hl_enumvalue" href="class_k_win_1_1_g_l_vertex_buffer.html#aa8b304b72be4140ba69a72e2061699d3adfa4ffbef0259d09af67200e193e7ea6">GLVertexBuffer::Stream</a>);</div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span> </div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aa4c2787020cb4354ecb8c258ce21219d">GLVertexBufferPrivate::haveBufferStorage</a> &amp;&amp; <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a29590e13ac437ba3cbcb9dd9aedd400b">GLVertexBufferPrivate::haveSyncFences</a>) {</div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>        <span class="keywordflow">if</span> (qgetenv(<span class="stringliteral">&quot;KWIN_PERSISTENT_VBO&quot;</span>) != QByteArrayLiteral(<span class="stringliteral">&quot;0&quot;</span>)) {</div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span>            <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a813e7b125b1617905d4b5a69de8cfdc1">GLVertexBufferPrivate::streamingBuffer</a>-&gt;d-&gt;persistent = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>        }</div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span>    }</div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span>}</div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span> </div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#a430a7471ca688a0cb7e34881563804e4"> 2163</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a430a7471ca688a0cb7e34881563804e4">GLVertexBuffer::cleanup</a>()</div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span>{</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>    <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a131a777dc811058963ee1f52f7eee377">GLVertexBufferPrivate::s_indexBuffer</a>.reset();</div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>    <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a02363efecb9dcce366577e932a9b1165">GLVertexBufferPrivate::hasMapBufferRange</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>    <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#aa79702bdf1a387ee035d63a85a09afe2">GLVertexBufferPrivate::supportsIndexedQuads</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>    <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a813e7b125b1617905d4b5a69de8cfdc1">GLVertexBufferPrivate::streamingBuffer</a>.reset();</div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>}</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span> </div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"><a class="line" href="class_k_win_1_1_g_l_vertex_buffer.html#a4f61e01fc150ca4d947bbf78ba2a9ab8"> 2171</a></span><a class="code hl_class" href="class_k_win_1_1_g_l_vertex_buffer.html">GLVertexBuffer</a> *<a class="code hl_function" href="class_k_win_1_1_g_l_vertex_buffer.html#a4f61e01fc150ca4d947bbf78ba2a9ab8">GLVertexBuffer::streamingBuffer</a>()</div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>{</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="class_k_win_1_1_g_l_vertex_buffer_private.html#a813e7b125b1617905d4b5a69de8cfdc1">GLVertexBufferPrivate::streamingBuffer</a>.get();</div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>}</div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span> </div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>} <span class="comment">// namespace</span></div>
<div class="ttc" id="aclass_k_win_1_1_bit_ref_html"><div class="ttname"><a href="class_k_win_1_1_bit_ref.html">KWin::BitRef</a></div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01421">kwinglutils.cpp:1422</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_bit_ref_html_a939084fc50522ef417f0123c5abef449"><div class="ttname"><a href="class_k_win_1_1_bit_ref.html#a939084fc50522ef417f0123c5abef449">KWin::BitRef::operator=</a></div><div class="ttdeci">void operator=(bool val)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01430">kwinglutils.cpp:1430</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_bit_ref_html_ae67ec2012a35a0f18f2c06cb8f58daea"><div class="ttname"><a href="class_k_win_1_1_bit_ref.html#ae67ec2012a35a0f18f2c06cb8f58daea">KWin::BitRef::BitRef</a></div><div class="ttdeci">BitRef(uint32_t &amp;bitfield, int bit)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01424">kwinglutils.cpp:1424</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_bitfield_html"><div class="ttname"><a href="class_k_win_1_1_bitfield.html">KWin::Bitfield</a></div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01451">kwinglutils.cpp:1452</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_bitfield_html_a1de06491a59cdea2bbb1f6e1774bfd03"><div class="ttname"><a href="class_k_win_1_1_bitfield.html#a1de06491a59cdea2bbb1f6e1774bfd03">KWin::Bitfield::set</a></div><div class="ttdeci">void set(int i)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01463">kwinglutils.cpp:1463</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_bitfield_html_a30f96057f47bc535e5aed36e24b73a88"><div class="ttname"><a href="class_k_win_1_1_bitfield.html#a30f96057f47bc535e5aed36e24b73a88">KWin::Bitfield::operator[]</a></div><div class="ttdeci">BitRef operator[](int i)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01472">kwinglutils.cpp:1472</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_bitfield_html_aac27bc4b52c52d12530b6829dc256152"><div class="ttname"><a href="class_k_win_1_1_bitfield.html#aac27bc4b52c52d12530b6829dc256152">KWin::Bitfield::Bitfield</a></div><div class="ttdeci">Bitfield()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01454">kwinglutils.cpp:1454</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_bitfield_html_accff70e9720f469d65aaf3eb98821fcc"><div class="ttname"><a href="class_k_win_1_1_bitfield.html#accff70e9720f469d65aaf3eb98821fcc">KWin::Bitfield::clear</a></div><div class="ttdeci">void clear(int i)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01467">kwinglutils.cpp:1467</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_bitfield_html_ad3da91646d4da420f8f9580a3c9c9257"><div class="ttname"><a href="class_k_win_1_1_bitfield.html#ad3da91646d4da420f8f9580a3c9c9257">KWin::Bitfield::Bitfield</a></div><div class="ttdeci">Bitfield(uint32_t bits)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01458">kwinglutils.cpp:1458</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_bitfield_iterator_html"><div class="ttname"><a href="class_k_win_1_1_bitfield_iterator.html">KWin::BitfieldIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01487">kwinglutils.cpp:1488</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_bitfield_iterator_html_a004d1cb146f730c8fa18f35be91064fa"><div class="ttname"><a href="class_k_win_1_1_bitfield_iterator.html#a004d1cb146f730c8fa18f35be91064fa">KWin::BitfieldIterator::next</a></div><div class="ttdeci">int next()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01500">kwinglutils.cpp:1500</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_bitfield_iterator_html_a482111e707c3836fa42abdd612702116"><div class="ttname"><a href="class_k_win_1_1_bitfield_iterator.html#a482111e707c3836fa42abdd612702116">KWin::BitfieldIterator::hasNext</a></div><div class="ttdeci">bool hasNext() const</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01495">kwinglutils.cpp:1495</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_bitfield_iterator_html_ab938766ee6a677543ed4fa8b7d43949b"><div class="ttname"><a href="class_k_win_1_1_bitfield_iterator.html#ab938766ee6a677543ed4fa8b7d43949b">KWin::BitfieldIterator::BitfieldIterator</a></div><div class="ttdeci">BitfieldIterator(uint32_t bitfield)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01490">kwinglutils.cpp:1490</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_framebuffer_html"><div class="ttname"><a href="class_k_win_1_1_g_l_framebuffer.html">KWin::GLFramebuffer</a></div><div class="ttdoc">OpenGL framebuffer object.</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00385">kwinglutils.h:386</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_framebuffer_html_a01c4e5f822e4148e44ae7e03fc9620f9"><div class="ttname"><a href="class_k_win_1_1_g_l_framebuffer.html#a01c4e5f822e4148e44ae7e03fc9620f9">KWin::GLFramebuffer::size</a></div><div class="ttdeci">QSize size() const</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00419">kwinglutils.h:419</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_framebuffer_html_a17ecd994c7b3d3874fe969e548e5063c"><div class="ttname"><a href="class_k_win_1_1_g_l_framebuffer.html#a17ecd994c7b3d3874fe969e548e5063c">KWin::GLFramebuffer::currentFramebuffer</a></div><div class="ttdeci">static GLFramebuffer * currentFramebuffer()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00964">kwinglutils.cpp:964</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_framebuffer_html_a19eafe9eb8d07ca817a1caf4cbbcdee0"><div class="ttname"><a href="class_k_win_1_1_g_l_framebuffer.html#a19eafe9eb8d07ca817a1caf4cbbcdee0">KWin::GLFramebuffer::initFBO</a></div><div class="ttdeci">void initFBO(GLTexture *colorAttachment)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01068">kwinglutils.cpp:1068</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_framebuffer_html_a3f7265ef927c8b0ab82728c5118c7bed"><div class="ttname"><a href="class_k_win_1_1_g_l_framebuffer.html#a3f7265ef927c8b0ab82728c5118c7bed">KWin::GLFramebuffer::popFramebuffer</a></div><div class="ttdeci">static GLFramebuffer * popFramebuffer()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00981">kwinglutils.cpp:981</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_framebuffer_html_a66bc7510d5b809ffad6cd41b0c507be2"><div class="ttname"><a href="class_k_win_1_1_g_l_framebuffer.html#a66bc7510d5b809ffad6cd41b0c507be2">KWin::GLFramebuffer::blitFromFramebuffer</a></div><div class="ttdeci">void blitFromFramebuffer(const QRect &amp;source=QRect(), const QRect &amp;destination=QRect(), GLenum filter=GL_LINEAR)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01130">kwinglutils.cpp:1130</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_framebuffer_html_a66c9d3c63c2e5d28cb8b79e2f252043a"><div class="ttname"><a href="class_k_win_1_1_g_l_framebuffer.html#a66c9d3c63c2e5d28cb8b79e2f252043a">KWin::GLFramebuffer::valid</a></div><div class="ttdeci">bool valid() const</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00423">kwinglutils.h:423</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_framebuffer_html_a7eb3049da73a065dcf8ff137fd9b5e3f"><div class="ttname"><a href="class_k_win_1_1_g_l_framebuffer.html#a7eb3049da73a065dcf8ff137fd9b5e3f">KWin::GLFramebuffer::pushFramebuffer</a></div><div class="ttdeci">static void pushFramebuffer(GLFramebuffer *fbo)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00969">kwinglutils.cpp:969</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_framebuffer_html_a7fadfe10acf795fbc7fab90e87e9d5d2"><div class="ttname"><a href="class_k_win_1_1_g_l_framebuffer.html#a7fadfe10acf795fbc7fab90e87e9d5d2">KWin::GLFramebuffer::initStatic</a></div><div class="ttdeci">static void initStatic()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00940">kwinglutils.cpp:940</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_framebuffer_html_a92f7e983e0f98f4f5911e37f70957189"><div class="ttname"><a href="class_k_win_1_1_g_l_framebuffer.html#a92f7e983e0f98f4f5911e37f70957189">KWin::GLFramebuffer::blitSupported</a></div><div class="ttdeci">static bool blitSupported()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00959">kwinglutils.cpp:959</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_framebuffer_html_a98b39eb0540dcd95a07b85ba9e327f4c"><div class="ttname"><a href="class_k_win_1_1_g_l_framebuffer.html#a98b39eb0540dcd95a07b85ba9e327f4c">KWin::GLFramebuffer::GLFramebuffer</a></div><div class="ttdeci">GLFramebuffer()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00993">kwinglutils.cpp:993</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_framebuffer_html_a9aee5a6576c020a3e599b21c62bddbbe"><div class="ttname"><a href="class_k_win_1_1_g_l_framebuffer.html#a9aee5a6576c020a3e599b21c62bddbbe">KWin::GLFramebuffer::handle</a></div><div class="ttdeci">GLuint handle() const</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00412">kwinglutils.h:412</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_framebuffer_html_a9ee9816ee58b022d460520c286437722"><div class="ttname"><a href="class_k_win_1_1_g_l_framebuffer.html#a9ee9816ee58b022d460520c286437722">KWin::GLFramebuffer::pushFramebuffers</a></div><div class="ttdeci">static void pushFramebuffers(QStack&lt; GLFramebuffer * &gt; fbos)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00975">kwinglutils.cpp:975</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_framebuffer_html_af1688ccbc82c13d2068ec4fa276d4aca"><div class="ttname"><a href="class_k_win_1_1_g_l_framebuffer.html#af1688ccbc82c13d2068ec4fa276d4aca">KWin::GLFramebuffer::~GLFramebuffer</a></div><div class="ttdeci">~GLFramebuffer()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01016">kwinglutils.cpp:1016</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_platform_html"><div class="ttname"><a href="class_k_win_1_1_g_l_platform.html">KWin::GLPlatform</a></div><div class="ttdef"><b>Definition:</b> <a href="kwinglplatform_8h_source.html#l00194">kwinglplatform.h:195</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_platform_html_a7009cb3becbc3d15e82f88fa54200a3f"><div class="ttname"><a href="class_k_win_1_1_g_l_platform.html#a7009cb3becbc3d15e82f88fa54200a3f">KWin::GLPlatform::instance</a></div><div class="ttdeci">static GLPlatform * instance()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglplatform_8h_source.html#l00495">kwinglplatform.h:495</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_platform_html_a8d0797861d55e41af8b99b32c1ae9ad5"><div class="ttname"><a href="class_k_win_1_1_g_l_platform.html#a8d0797861d55e41af8b99b32c1ae9ad5">KWin::GLPlatform::glslVersion</a></div><div class="ttdeci">qint64 glslVersion() const</div><div class="ttdef"><b>Definition:</b> <a href="kwinglplatform_8cpp_source.html#l01290">kwinglplatform.cpp:1290</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_platform_html_a910c82647e1ac621be7f6c022f48a103"><div class="ttname"><a href="class_k_win_1_1_g_l_platform.html#a910c82647e1ac621be7f6c022f48a103">KWin::GLPlatform::isGLES</a></div><div class="ttdeci">bool isGLES() const</div><div class="ttdef"><b>Definition:</b> <a href="kwinglplatform_8cpp_source.html#l01449">kwinglplatform.cpp:1449</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_platform_html_ad730001aeda0dd76ad351f7b9536d3d5"><div class="ttname"><a href="class_k_win_1_1_g_l_platform.html#ad730001aeda0dd76ad351f7b9536d3d5">KWin::GLPlatform::glVersion</a></div><div class="ttdeci">qint64 glVersion() const</div><div class="ttdef"><b>Definition:</b> <a href="kwinglplatform_8cpp_source.html#l01285">kwinglplatform.cpp:1285</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_platform_html_af5a58f5986f30fc8a2e4c1770b46eaf4"><div class="ttname"><a href="class_k_win_1_1_g_l_platform.html#af5a58f5986f30fc8a2e4c1770b46eaf4">KWin::GLPlatform::preferBufferSubData</a></div><div class="ttdeci">bool preferBufferSubData() const</div><div class="ttdef"><b>Definition:</b> <a href="kwinglplatform_8cpp_source.html#l01439">kwinglplatform.cpp:1439</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html">KWin::GLShader</a></div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00055">kwinglutils.h:56</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a0c91ed04128048e79e58fc0342c4b0cc"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a0c91ed04128048e79e58fc0342c4b0cc">KWin::GLShader::load</a></div><div class="ttdeci">bool load(const QByteArray &amp;vertexSource, const QByteArray &amp;fragmentSource)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00355">kwinglutils.cpp:355</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a3dc6432fcd49e25ad4342a01f2ed15e6ab059d1622f2548b5c7e0f5c8580ab8a2"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a3dc6432fcd49e25ad4342a01f2ed15e6ab059d1622f2548b5c7e0f5c8580ab8a2">KWin::GLShader::ExplicitLinking</a></div><div class="ttdeci">@ ExplicitLinking</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00061">kwinglutils.h:60</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a4859aa0497a1f22647f79e4edf50916f"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a4859aa0497a1f22647f79e4edf50916f">KWin::GLShader::~GLShader</a></div><div class="ttdeci">~GLShader()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00245">kwinglutils.cpp:245</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a4ca07b55f39418655f237df9b679faf8"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a4ca07b55f39418655f237df9b679faf8">KWin::GLShader::FloatUniform</a></div><div class="ttdeci">FloatUniform</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00122">kwinglutils.h:122</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a4ca07b55f39418655f237df9b679faf8a98ba339073d9d515269095b5a4570fbf"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a4ca07b55f39418655f237df9b679faf8a98ba339073d9d515269095b5a4570fbf">KWin::GLShader::Saturation</a></div><div class="ttdeci">@ Saturation</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00123">kwinglutils.h:123</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a5392a2d740b8025a9488c38e30fe4b92"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a5392a2d740b8025a9488c38e30fe4b92">KWin::GLShader::loadFromFiles</a></div><div class="ttdeci">bool loadFromFiles(const QString &amp;vertexfile, const QString &amp;fragmentfile)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00252">kwinglutils.cpp:252</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a53b3632c48af302767cc369a7a964563"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a53b3632c48af302767cc369a7a964563">KWin::GLShader::prepareSource</a></div><div class="ttdeci">const QByteArray prepareSource(GLenum shaderType, const QByteArray &amp;sourceCode) const</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00301">kwinglutils.cpp:301</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a5cd975ed881a6c02777c28ff85e3bf9b"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a5cd975ed881a6c02777c28ff85e3bf9b">KWin::GLShader::ColorUniform</a></div><div class="ttdeci">ColorUniform</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00134">kwinglutils.h:134</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a5cd975ed881a6c02777c28ff85e3bf9ba2887c21e3dce079c11775ed702292b2b"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a5cd975ed881a6c02777c28ff85e3bf9ba2887c21e3dce079c11775ed702292b2b">KWin::GLShader::Color</a></div><div class="ttdeci">@ Color</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00135">kwinglutils.h:135</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a5d2a9e7f60fb0e5080c7a6777656632c"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a5d2a9e7f60fb0e5080c7a6777656632c">KWin::GLShader::getUniformMatrix4x4</a></div><div class="ttdeci">QMatrix4x4 getUniformMatrix4x4(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00603">kwinglutils.cpp:603</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a660c0baf00684b1942f923ba7e310635"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a660c0baf00684b1942f923ba7e310635">KWin::GLShader::uniformLocation</a></div><div class="ttdeci">int uniformLocation(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00442">kwinglutils.cpp:442</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a6d59cea8f85957921c86729db6a84b9b"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a6d59cea8f85957921c86729db6a84b9b">KWin::GLShader::Vec4Uniform</a></div><div class="ttdeci">Vec4Uniform</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00117">kwinglutils.h:117</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a6d59cea8f85957921c86729db6a84b9ba16bd8d79e76c1c9c0584cf3e1e940d46"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a6d59cea8f85957921c86729db6a84b9ba16bd8d79e76c1c9c0584cf3e1e940d46">KWin::GLShader::ModulationConstant</a></div><div class="ttdeci">@ ModulationConstant</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00118">kwinglutils.h:118</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a722159dac6e0dc4c4dab9a7efaa59617"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a722159dac6e0dc4c4dab9a7efaa59617">KWin::GLShader::IntUniform</a></div><div class="ttdeci">IntUniform</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00127">kwinglutils.h:127</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a722159dac6e0dc4c4dab9a7efaa59617a2b24100551202b299609d20ad220c2de"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a722159dac6e0dc4c4dab9a7efaa59617a2b24100551202b299609d20ad220c2de">KWin::GLShader::TextureHeight</a></div><div class="ttdeci">@ TextureHeight</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00130">kwinglutils.h:130</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a722159dac6e0dc4c4dab9a7efaa59617a555f12e3924efa8b836ac779ca95cca1"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a722159dac6e0dc4c4dab9a7efaa59617a555f12e3924efa8b836ac779ca95cca1">KWin::GLShader::TextureWidth</a></div><div class="ttdeci">@ TextureWidth</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00129">kwinglutils.h:129</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a85be9c40fcc29294d994b7f320f31d39"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a85be9c40fcc29294d994b7f320f31d39">KWin::GLShader::setAttribute</a></div><div class="ttdeci">bool setAttribute(const char *name, float value)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00594">kwinglutils.cpp:594</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a887095b409a8fc8a3fc0080fbc5f4282"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a887095b409a8fc8a3fc0080fbc5f4282">KWin::GLShader::link</a></div><div class="ttdeci">bool link()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00271">kwinglutils.cpp:271</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a8ada3016c868b5b2c48ff2c15940c17a"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a8ada3016c868b5b2c48ff2c15940c17a">KWin::GLShader::resolveLocations</a></div><div class="ttdeci">void resolveLocations()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00415">kwinglutils.cpp:415</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a96bad8743855d33a234b3564319baf05"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a96bad8743855d33a234b3564319baf05">KWin::GLShader::bindAttributeLocation</a></div><div class="ttdeci">void bindAttributeLocation(const char *name, int index)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00393">kwinglutils.cpp:393</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a9c9d1d6b08c0bd51be06a3f4e4b75d2d"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a9c9d1d6b08c0bd51be06a3f4e4b75d2d">KWin::GLShader::Vec2Uniform</a></div><div class="ttdeci">Vec2Uniform</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00112">kwinglutils.h:112</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a9c9d1d6b08c0bd51be06a3f4e4b75d2da4b23e487b4e5cce6aff65b8d0fbc53e6"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a9c9d1d6b08c0bd51be06a3f4e4b75d2da4b23e487b4e5cce6aff65b8d0fbc53e6">KWin::GLShader::Offset</a></div><div class="ttdeci">@ Offset</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00113">kwinglutils.h:113</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_a9d22d9f09c2693766f08e4a93c8d4b16"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#a9d22d9f09c2693766f08e4a93c8d4b16">KWin::GLShader::bindFragDataLocation</a></div><div class="ttdeci">void bindFragDataLocation(const char *name, int index)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00398">kwinglutils.cpp:398</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_aa603e1dfe0d238f5e3e49cb21a58527e"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#aa603e1dfe0d238f5e3e49cb21a58527e">KWin::GLShader::compile</a></div><div class="ttdeci">bool compile(GLuint program, GLenum shaderType, const QByteArray &amp;sourceCode) const</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00316">kwinglutils.cpp:316</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_aad72b9ce7cfb9f76cad3ed605072c30c"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#aad72b9ce7cfb9f76cad3ed605072c30c">KWin::GLShader::unbind</a></div><div class="ttdeci">void unbind()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00410">kwinglutils.cpp:410</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_ab84b9566c32bfcfd2f4ad9f00523865e"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#ab84b9566c32bfcfd2f4ad9f00523865e">KWin::GLShader::GLShader</a></div><div class="ttdeci">GLShader(const QString &amp;vertexfile, const QString &amp;fragmentfile, unsigned int flags=NoFlags)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00236">kwinglutils.cpp:236</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_ad4cb92cd93a384c74a0e69609f142dbe"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#ad4cb92cd93a384c74a0e69609f142dbe">KWin::GLShader::attributeLocation</a></div><div class="ttdeci">int attributeLocation(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00588">kwinglutils.cpp:588</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_addc060b05ab7be82009d1944e1e77a31"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#addc060b05ab7be82009d1944e1e77a31">KWin::GLShader::MatrixUniform</a></div><div class="ttdeci">MatrixUniform</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00102">kwinglutils.h:102</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_addc060b05ab7be82009d1944e1e77a31a0c37fd30c2dc85c080966275c0c446ed"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#addc060b05ab7be82009d1944e1e77a31a0c37fd30c2dc85c080966275c0c446ed">KWin::GLShader::ScreenTransformation</a></div><div class="ttdeci">@ ScreenTransformation</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00108">kwinglutils.h:108</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_addc060b05ab7be82009d1944e1e77a31a3173e7e6d1b61ea65146329f85accb2e"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#addc060b05ab7be82009d1944e1e77a31a3173e7e6d1b61ea65146329f85accb2e">KWin::GLShader::ModelViewMatrix</a></div><div class="ttdeci">@ ModelViewMatrix</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00105">kwinglutils.h:105</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_addc060b05ab7be82009d1944e1e77a31aa2b7e4fb767ddbdfaf3f2cf5374b2de1"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#addc060b05ab7be82009d1944e1e77a31aa2b7e4fb767ddbdfaf3f2cf5374b2de1">KWin::GLShader::ModelViewProjectionMatrix</a></div><div class="ttdeci">@ ModelViewProjectionMatrix</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00106">kwinglutils.h:106</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_addc060b05ab7be82009d1944e1e77a31ac7b5f47a9a889ca259405fa0718d1808"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#addc060b05ab7be82009d1944e1e77a31ac7b5f47a9a889ca259405fa0718d1808">KWin::GLShader::ProjectionMatrix</a></div><div class="ttdeci">@ ProjectionMatrix</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00104">kwinglutils.h:104</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_addc060b05ab7be82009d1944e1e77a31ae4d0131bbf42ae0c9a43a86227cfedf2"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#addc060b05ab7be82009d1944e1e77a31ae4d0131bbf42ae0c9a43a86227cfedf2">KWin::GLShader::WindowTransformation</a></div><div class="ttdeci">@ WindowTransformation</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00107">kwinglutils.h:107</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_addc060b05ab7be82009d1944e1e77a31aee52173b65eb07cc2b2da5522fda8e9a"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#addc060b05ab7be82009d1944e1e77a31aee52173b65eb07cc2b2da5522fda8e9a">KWin::GLShader::TextureMatrix</a></div><div class="ttdeci">@ TextureMatrix</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00103">kwinglutils.h:103</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_ae87d13e503040008ccf350ff9002186a"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#ae87d13e503040008ccf350ff9002186a">KWin::GLShader::bind</a></div><div class="ttdeci">void bind()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00405">kwinglutils.cpp:405</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_shader_html_af1856d3aa2773faf2a63a23cea07db9a"><div class="ttname"><a href="class_k_win_1_1_g_l_shader.html#af1856d3aa2773faf2a63a23cea07db9a">KWin::GLShader::setUniform</a></div><div class="ttdeci">bool setUniform(const char *name, float value)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00490">kwinglutils.cpp:490</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_texture_html"><div class="ttname"><a href="class_k_win_1_1_g_l_texture.html">KWin::GLTexture</a></div><div class="ttdef"><b>Definition:</b> <a href="kwingltexture_8h_source.html#l00039">kwingltexture.h:40</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_texture_html_a360a391fa414aca738ddd07dee9c4cbd"><div class="ttname"><a href="class_k_win_1_1_g_l_texture.html#a360a391fa414aca738ddd07dee9c4cbd">KWin::GLTexture::texture</a></div><div class="ttdeci">GLuint texture() const</div><div class="ttdef"><b>Definition:</b> <a href="kwingltexture_8cpp_source.html#l00548">kwingltexture.cpp:548</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_texture_html_a4732e9350196f128470ca6a56dd89de9"><div class="ttname"><a href="class_k_win_1_1_g_l_texture.html#a4732e9350196f128470ca6a56dd89de9">KWin::GLTexture::isNull</a></div><div class="ttdeci">bool isNull() const</div><div class="ttdef"><b>Definition:</b> <a href="kwingltexture_8cpp_source.html#l00343">kwingltexture.cpp:343</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_texture_html_ae095181b76e95834bfba13b60cdcb1a2"><div class="ttname"><a href="class_k_win_1_1_g_l_texture.html#ae095181b76e95834bfba13b60cdcb1a2">KWin::GLTexture::target</a></div><div class="ttdeci">GLenum target() const</div><div class="ttdef"><b>Definition:</b> <a href="kwingltexture_8cpp_source.html#l00554">kwingltexture.cpp:554</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_texture_private_html_aa5d4fc91f094ca3a0b3755cbc9a1ac68"><div class="ttname"><a href="class_k_win_1_1_g_l_texture_private.html#aa5d4fc91f094ca3a0b3755cbc9a1ac68">KWin::GLTexturePrivate::initStatic</a></div><div class="ttdeci">static void initStatic()</div><div class="ttdef"><b>Definition:</b> <a href="kwingltexture_8cpp_source.html#l00306">kwingltexture.cpp:306</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html">KWin::GLVertexBuffer</a></div><div class="ttdoc">Vertex Buffer Object.</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00524">kwinglutils.h:525</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_a1bdaa52f784a0ba2cb195f524f9d1902"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#a1bdaa52f784a0ba2cb195f524f9d1902">KWin::GLVertexBuffer::draw</a></div><div class="ttdeci">void draw(GLenum primitiveMode, int first, int count)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l02015">kwinglutils.cpp:2015</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_a1d7734f12b910b04ed06b0e345b594c5"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#a1d7734f12b910b04ed06b0e345b594c5">KWin::GLVertexBuffer::endOfFrame</a></div><div class="ttdeci">void endOfFrame()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l02085">kwinglutils.cpp:2085</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_a2849bcd242018f097fd9852d23b6bd33"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#a2849bcd242018f097fd9852d23b6bd33">KWin::GLVertexBuffer::supportsIndexedQuads</a></div><div class="ttdeci">static bool supportsIndexedQuads()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l02057">kwinglutils.cpp:2057</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_a2e51e925e06dac9fc80941f0febda075"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#a2e51e925e06dac9fc80941f0febda075">KWin::GLVertexBuffer::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l02078">kwinglutils.cpp:2078</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_a31338f49e5f7bcb61b8b733fd8cfb8f0"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#a31338f49e5f7bcb61b8b733fd8cfb8f0">KWin::GLVertexBuffer::unmap</a></div><div class="ttdeci">void unmap()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01925">kwinglutils.cpp:1925</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_a3c3c111e02755f03956d62be856f5362"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#a3c3c111e02755f03956d62be856f5362">KWin::GLVertexBuffer::initStatic</a></div><div class="ttdeci">static void initStatic()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l02132">kwinglutils.cpp:2132</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_a416217526302804234d31c8b42ef74c7"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#a416217526302804234d31c8b42ef74c7">KWin::GLVertexBuffer::GLVertex2DLayout</a></div><div class="ttdeci">static const GLVertexAttrib GLVertex2DLayout[2]</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00713">kwinglutils.h:713</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_a430a7471ca688a0cb7e34881563804e4"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#a430a7471ca688a0cb7e34881563804e4">KWin::GLVertexBuffer::cleanup</a></div><div class="ttdeci">static void cleanup()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l02163">kwinglutils.cpp:2163</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_a4ae8c8d69eb58f2c37347e0787166d89"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#a4ae8c8d69eb58f2c37347e0787166d89">KWin::GLVertexBuffer::setData</a></div><div class="ttdeci">void setData(const void *data, size_t sizeInBytes)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01874">kwinglutils.cpp:1874</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_a4f61e01fc150ca4d947bbf78ba2a9ab8"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#a4f61e01fc150ca4d947bbf78ba2a9ab8">KWin::GLVertexBuffer::streamingBuffer</a></div><div class="ttdeci">static GLVertexBuffer * streamingBuffer()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l02171">kwinglutils.cpp:2171</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_a6fd8baaae3089a8b562a24ba2816275c"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#a6fd8baaae3089a8b562a24ba2816275c">KWin::GLVertexBuffer::setAttribLayout</a></div><div class="ttdeci">void setAttribLayout(const GLVertexAttrib *attribs, int count, int stride)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01972">kwinglutils.cpp:1972</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_a723e9f27a712b881f0bd048cba97e342"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#a723e9f27a712b881f0bd048cba97e342">KWin::GLVertexBuffer::GLVertexBuffer</a></div><div class="ttdeci">GLVertexBuffer(UsageHint hint)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01867">kwinglutils.cpp:1867</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_a7297748d72759c31e5026a10c89fb130"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#a7297748d72759c31e5026a10c89fb130">KWin::GLVertexBuffer::beginFrame</a></div><div class="ttdeci">void beginFrame()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l02116">kwinglutils.cpp:2116</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_a89f55da383c6fd166cca16c4d5e2b428"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#a89f55da383c6fd166cca16c4d5e2b428">KWin::GLVertexBuffer::render</a></div><div class="ttdeci">void render(GLenum primitiveMode)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01993">kwinglutils.cpp:1993</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_a8a9e6c37a01b9824deeb42a9e93030c0"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#a8a9e6c37a01b9824deeb42a9e93030c0">KWin::GLVertexBuffer::setColor</a></div><div class="ttdeci">void setColor(const QColor &amp;color, bool enableColor=true)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l02072">kwinglutils.cpp:2072</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_a8c2a0d8cff092ff7df950bdf98be02a9"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#a8c2a0d8cff092ff7df950bdf98be02a9">KWin::GLVertexBuffer::GLVertex3DLayout</a></div><div class="ttdeci">static const GLVertexAttrib GLVertex3DLayout[2]</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00714">kwinglutils.h:714</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_aa8b304b72be4140ba69a72e2061699d3"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#aa8b304b72be4140ba69a72e2061699d3">KWin::GLVertexBuffer::UsageHint</a></div><div class="ttdeci">UsageHint</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00530">kwinglutils.h:530</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_aa8b304b72be4140ba69a72e2061699d3a8bdf6b4d70080826d3dd0112cd024d01"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#aa8b304b72be4140ba69a72e2061699d3a8bdf6b4d70080826d3dd0112cd024d01">KWin::GLVertexBuffer::Static</a></div><div class="ttdeci">@ Static</div><div class="ttdoc">No changes to data.</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00532">kwinglutils.h:532</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_aa8b304b72be4140ba69a72e2061699d3adfa4ffbef0259d09af67200e193e7ea6"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#aa8b304b72be4140ba69a72e2061699d3adfa4ffbef0259d09af67200e193e7ea6">KWin::GLVertexBuffer::Stream</a></div><div class="ttdeci">@ Stream</div><div class="ttdoc">Data only used once for rendering, updated very frequently.</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00534">kwinglutils.h:533</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_aa8b304b72be4140ba69a72e2061699d3af08b2b530b3150ccbba92816705eb07c"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#aa8b304b72be4140ba69a72e2061699d3af08b2b530b3150ccbba92816705eb07c">KWin::GLVertexBuffer::Dynamic</a></div><div class="ttdeci">@ Dynamic</div><div class="ttdoc">frequent changes, but used several times for rendering</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00531">kwinglutils.h:531</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_ac10ee171fa414f4af92501946f147ed6"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#ac10ee171fa414f4af92501946f147ed6">KWin::GLVertexBuffer::bindArrays</a></div><div class="ttdeci">void bindArrays()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l02005">kwinglutils.cpp:2005</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_ad10aba26deff8b046fa802a170b99e4e"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#ad10aba26deff8b046fa802a170b99e4e">KWin::GLVertexBuffer::isUseColor</a></div><div class="ttdeci">bool isUseColor() const</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l02062">kwinglutils.cpp:2062</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_ae080745273a603df969fb4ef6e0552a5"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#ae080745273a603df969fb4ef6e0552a5">KWin::GLVertexBuffer::map</a></div><div class="ttdeci">GLvoid * map(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01898">kwinglutils.cpp:1898</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_aef97e5890dc7aaedde08cbdc7c862a07"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#aef97e5890dc7aaedde08cbdc7c862a07">KWin::GLVertexBuffer::unbindArrays</a></div><div class="ttdeci">void unbindArrays()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l02010">kwinglutils.cpp:2010</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_af36620dd7745528f78413b808c0c64f1"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#af36620dd7745528f78413b808c0c64f1">KWin::GLVertexBuffer::~GLVertexBuffer</a></div><div class="ttdeci">~GLVertexBuffer()</div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_af4d323bc7d2e3e55ed6e834ce06e37ca"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#af4d323bc7d2e3e55ed6e834ce06e37ca">KWin::GLVertexBuffer::setUseColor</a></div><div class="ttdeci">void setUseColor(bool enable)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l02067">kwinglutils.cpp:2067</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_html_af939add6737dda7815aceed301b17ba3"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer.html#af939add6737dda7815aceed301b17ba3">KWin::GLVertexBuffer::setVertexCount</a></div><div class="ttdeci">void setVertexCount(int count)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01967">kwinglutils.cpp:1967</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html">KWin::GLVertexBufferPrivate</a></div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01578">kwinglutils.cpp:1579</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a02363efecb9dcce366577e932a9b1165"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a02363efecb9dcce366577e932a9b1165">KWin::GLVertexBufferPrivate::hasMapBufferRange</a></div><div class="ttdeci">static bool hasMapBufferRange</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01635">kwinglutils.cpp:1635</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a074039c04cb8deaffa690dacf14941d3"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a074039c04cb8deaffa690dacf14941d3">KWin::GLVertexBufferPrivate::interleaveArrays</a></div><div class="ttdeci">void interleaveArrays(float *array, int dim, const float *vertices, const float *texcoords, int count)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01662">kwinglutils.cpp:1662</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a0d4eef833340af380a2cf5b773f3d8c6"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a0d4eef833340af380a2cf5b773f3d8c6">KWin::GLVertexBufferPrivate::attrib</a></div><div class="ttdeci">VertexAttrib attrib[VertexAttributeCount]</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01650">kwinglutils.cpp:1650</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a131a777dc811058963ee1f52f7eee377"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a131a777dc811058963ee1f52f7eee377">KWin::GLVertexBufferPrivate::s_indexBuffer</a></div><div class="ttdeci">static std::unique_ptr&lt; IndexBuffer &gt; s_indexBuffer</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01652">kwinglutils.cpp:1652</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a13ba77d7d655084793855cd6f51f28c1"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a13ba77d7d655084793855cd6f51f28c1">KWin::GLVertexBufferPrivate::usage</a></div><div class="ttdeci">GLenum usage</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01629">kwinglutils.cpp:1629</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a13f54092b4db4bb7af28b2f28654399c"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a13f54092b4db4bb7af28b2f28654399c">KWin::GLVertexBufferPrivate::mappedSize</a></div><div class="ttdeci">size_t mappedSize</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01643">kwinglutils.cpp:1643</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a1eb5d6ce51e7cd86f396abfbe09e5a3d"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a1eb5d6ce51e7cd86f396abfbe09e5a3d">KWin::GLVertexBufferPrivate::GLVertexBufferPrivate</a></div><div class="ttdeci">GLVertexBufferPrivate(GLVertexBuffer::UsageHint usageHint)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01581">kwinglutils.cpp:1581</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a25d5b32e0df13ff5182a8c7187dc2e99"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a25d5b32e0df13ff5182a8c7187dc2e99">KWin::GLVertexBufferPrivate::frameSizes</a></div><div class="ttdeci">FrameSizesArray&lt; 4 &gt; frameSizes</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01649">kwinglutils.cpp:1649</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a29590e13ac437ba3cbcb9dd9aedd400b"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a29590e13ac437ba3cbcb9dd9aedd400b">KWin::GLVertexBufferPrivate::haveSyncFences</a></div><div class="ttdeci">static bool haveSyncFences</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01634">kwinglutils.cpp:1634</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a2a90e2069f0af3fa5930510b3f8e61e8"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a2a90e2069f0af3fa5930510b3f8e61e8">KWin::GLVertexBufferPrivate::map</a></div><div class="ttdeci">uint8_t * map</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01647">kwinglutils.cpp:1647</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a3ce2bb09ede7d57a2cb1cf4160b3fd9b"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3ce2bb09ede7d57a2cb1cf4160b3fd9b">KWin::GLVertexBufferPrivate::dataStore</a></div><div class="ttdeci">QByteArray dataStore</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01637">kwinglutils.cpp:1637</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a3d9fb2ed5b74733b571ad275b077e4e0"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3d9fb2ed5b74733b571ad275b077e4e0">KWin::GLVertexBufferPrivate::bufferSize</a></div><div class="ttdeci">size_t bufferSize</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01641">kwinglutils.cpp:1641</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a3dd16a54ed6b9505fae896541e3335d5"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3dd16a54ed6b9505fae896541e3335d5">KWin::GLVertexBufferPrivate::fences</a></div><div class="ttdeci">std::deque&lt; BufferFence &gt; fences</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01648">kwinglutils.cpp:1648</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a3fb4b713fe4502245a13850fce8371ad"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a3fb4b713fe4502245a13850fce8371ad">KWin::GLVertexBufferPrivate::vertexCount</a></div><div class="ttdeci">int vertexCount</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01631">kwinglutils.cpp:1631</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a41da6e8535c61371d71ebeb2245975ab"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a41da6e8535c61371d71ebeb2245975ab">KWin::GLVertexBufferPrivate::bindArrays</a></div><div class="ttdeci">void bindArrays()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01703">kwinglutils.cpp:1703</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a4793c6d3553811c10a53b39a725698b3"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a4793c6d3553811c10a53b39a725698b3">KWin::GLVertexBufferPrivate::useColor</a></div><div class="ttdeci">bool useColor</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01639">kwinglutils.cpp:1639</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a568f4dc46e959d89695d246195335f9c"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a568f4dc46e959d89695d246195335f9c">KWin::GLVertexBufferPrivate::enabledArrays</a></div><div class="ttdeci">Bitfield enabledArrays</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01651">kwinglutils.cpp:1651</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a6542730846d81321aef29cb67c055eb5"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a6542730846d81321aef29cb67c055eb5">KWin::GLVertexBufferPrivate::stride</a></div><div class="ttdeci">int stride</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01630">kwinglutils.cpp:1630</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a668ddff4d0a87a0dce29f7a00b02fc2b"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a668ddff4d0a87a0dce29f7a00b02fc2b">KWin::GLVertexBufferPrivate::nextOffset</a></div><div class="ttdeci">intptr_t nextOffset</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01645">kwinglutils.cpp:1645</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a76b821e485e7973feccfaff2acbc7acf"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a76b821e485e7973feccfaff2acbc7acf">KWin::GLVertexBufferPrivate::frameSize</a></div><div class="ttdeci">size_t frameSize</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01644">kwinglutils.cpp:1644</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a813e7b125b1617905d4b5a69de8cfdc1"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a813e7b125b1617905d4b5a69de8cfdc1">KWin::GLVertexBufferPrivate::streamingBuffer</a></div><div class="ttdeci">static std::unique_ptr&lt; GLVertexBuffer &gt; streamingBuffer</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01632">kwinglutils.cpp:1632</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a986c3aef1d726e6079c55ad74e78de03"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a986c3aef1d726e6079c55ad74e78de03">KWin::GLVertexBufferPrivate::color</a></div><div class="ttdeci">QVector4D color</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01640">kwinglutils.cpp:1640</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_a9ad0ba658e80d3e3362db998d177aea1"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#a9ad0ba658e80d3e3362db998d177aea1">KWin::GLVertexBufferPrivate::baseAddress</a></div><div class="ttdeci">intptr_t baseAddress</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01646">kwinglutils.cpp:1646</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_aa4c2787020cb4354ecb8c258ce21219d"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#aa4c2787020cb4354ecb8c258ce21219d">KWin::GLVertexBufferPrivate::haveBufferStorage</a></div><div class="ttdeci">static bool haveBufferStorage</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01633">kwinglutils.cpp:1633</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_aa79702bdf1a387ee035d63a85a09afe2"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#aa79702bdf1a387ee035d63a85a09afe2">KWin::GLVertexBufferPrivate::supportsIndexedQuads</a></div><div class="ttdeci">static bool supportsIndexedQuads</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01636">kwinglutils.cpp:1636</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_aadd6229f10312486bba2a64515445074"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#aadd6229f10312486bba2a64515445074">KWin::GLVertexBufferPrivate::~GLVertexBufferPrivate</a></div><div class="ttdeci">~GLVertexBufferPrivate()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01609">kwinglutils.cpp:1609</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_ab4dfaea3566f01f7acc019b486bd4a79"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#ab4dfaea3566f01f7acc019b486bd4a79">KWin::GLVertexBufferPrivate::persistent</a></div><div class="ttdeci">bool persistent</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01638">kwinglutils.cpp:1638</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_acaef53e8213a6c359c22a1e04ac8ac43"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#acaef53e8213a6c359c22a1e04ac8ac43">KWin::GLVertexBufferPrivate::unbindArrays</a></div><div class="ttdeci">void unbindArrays()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01721">kwinglutils.cpp:1721</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_ad0e6d68782fb05aee2ca7953a78b8a4b"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad0e6d68782fb05aee2ca7953a78b8a4b">KWin::GLVertexBufferPrivate::awaitFence</a></div><div class="ttdeci">bool awaitFence(intptr_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01759">kwinglutils.cpp:1759</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_ad3d493751413d52cfc34be759cb8d2d7"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad3d493751413d52cfc34be759cb8d2d7">KWin::GLVertexBufferPrivate::buffer</a></div><div class="ttdeci">GLuint buffer</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01628">kwinglutils.cpp:1628</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_ad793567affd9366f01302fe7e1493747"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#ad793567affd9366f01302fe7e1493747">KWin::GLVertexBufferPrivate::reallocatePersistentBuffer</a></div><div class="ttdeci">void reallocatePersistentBuffer(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01729">kwinglutils.cpp:1729</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_ada8e24099c6e3c043f33b2f79d6cb10b"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#ada8e24099c6e3c043f33b2f79d6cb10b">KWin::GLVertexBufferPrivate::bufferEnd</a></div><div class="ttdeci">intptr_t bufferEnd</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01642">kwinglutils.cpp:1642</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_af2b2fe4bb6e6df2e71ae84d64ccbfc85"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#af2b2fe4bb6e6df2e71ae84d64ccbfc85">KWin::GLVertexBufferPrivate::mapNextFreeRange</a></div><div class="ttdeci">GLvoid * mapNextFreeRange(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01834">kwinglutils.cpp:1834</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_af586aac4ca835c7b16bf4282428512d6"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#af586aac4ca835c7b16bf4282428512d6">KWin::GLVertexBufferPrivate::getIdleRange</a></div><div class="ttdeci">GLvoid * getIdleRange(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01791">kwinglutils.cpp:1791</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_g_l_vertex_buffer_private_html_aff1d72e637d4438b12ced8af7f3ce1aa"><div class="ttname"><a href="class_k_win_1_1_g_l_vertex_buffer_private.html#aff1d72e637d4438b12ced8af7f3ce1aa">KWin::GLVertexBufferPrivate::reallocateBuffer</a></div><div class="ttdeci">void reallocateBuffer(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01823">kwinglutils.cpp:1823</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_index_buffer_html"><div class="ttname"><a href="class_k_win_1_1_index_buffer.html">KWin::IndexBuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01344">kwinglutils.cpp:1345</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_index_buffer_html_a776ebf8df0bfd76f2d95dc235f16cf46"><div class="ttname"><a href="class_k_win_1_1_index_buffer.html#a776ebf8df0bfd76f2d95dc235f16cf46">KWin::IndexBuffer::IndexBuffer</a></div><div class="ttdeci">IndexBuffer()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01359">kwinglutils.cpp:1359</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_index_buffer_html_a847fe155dcbaf228494bac12f8ee353f"><div class="ttname"><a href="class_k_win_1_1_index_buffer.html#a847fe155dcbaf228494bac12f8ee353f">KWin::IndexBuffer::~IndexBuffer</a></div><div class="ttdeci">~IndexBuffer()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01371">kwinglutils.cpp:1371</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_index_buffer_html_a9e577f6dfe0eb781aff163ed23bf4f42"><div class="ttname"><a href="class_k_win_1_1_index_buffer.html#a9e577f6dfe0eb781aff163ed23bf4f42">KWin::IndexBuffer::accommodate</a></div><div class="ttdeci">void accommodate(int count)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01376">kwinglutils.cpp:1376</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_index_buffer_html_ad10693a06aaf98c0e36a14d2a912c3d1"><div class="ttname"><a href="class_k_win_1_1_index_buffer.html#ad10693a06aaf98c0e36a14d2a912c3d1">KWin::IndexBuffer::bind</a></div><div class="ttdeci">void bind()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01414">kwinglutils.cpp:1414</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_shader_manager_html"><div class="ttname"><a href="class_k_win_1_1_shader_manager.html">KWin::ShaderManager</a></div><div class="ttdoc">Manager for Shaders.</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00192">kwinglutils.h:193</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_shader_manager_html_a0117859b54b7230de57c064a7019902f"><div class="ttname"><a href="class_k_win_1_1_shader_manager.html#a0117859b54b7230de57c064a7019902f">KWin::ShaderManager::getBoundShader</a></div><div class="ttdeci">GLShader * getBoundShader() const</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00869">kwinglutils.cpp:869</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_shader_manager_html_a31b30265685d667445d604b31c3faaf2"><div class="ttname"><a href="class_k_win_1_1_shader_manager.html#a31b30265685d667445d604b31c3faaf2">KWin::ShaderManager::isShaderBound</a></div><div class="ttdeci">bool isShaderBound() const</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00878">kwinglutils.cpp:878</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_shader_manager_html_a3a336f77b008451717f7dbcfd3081ab0"><div class="ttname"><a href="class_k_win_1_1_shader_manager.html#a3a336f77b008451717f7dbcfd3081ab0">KWin::ShaderManager::generateShaderFromFile</a></div><div class="ttdeci">std::unique_ptr&lt; GLShader &gt; generateShaderFromFile(ShaderTraits traits, const QString &amp;vertexFile=QString(), const QString &amp;fragmentFile=QString())</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00833">kwinglutils.cpp:833</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_shader_manager_html_a50a3b6c752c3165cb35f42c1810782a6"><div class="ttname"><a href="class_k_win_1_1_shader_manager.html#a50a3b6c752c3165cb35f42c1810782a6">KWin::ShaderManager::shader</a></div><div class="ttdeci">GLShader * shader(ShaderTraits traits)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00860">kwinglutils.cpp:860</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_shader_manager_html_a51d84e1d8c0d651b4968afdb3fba96c6"><div class="ttname"><a href="class_k_win_1_1_shader_manager.html#a51d84e1d8c0d651b4968afdb3fba96c6">KWin::ShaderManager::popShader</a></div><div class="ttdeci">void popShader()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00899">kwinglutils.cpp:899</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_shader_manager_html_aaf9c40a0a4f2e72ad6e30fa967dd073c"><div class="ttname"><a href="class_k_win_1_1_shader_manager.html#aaf9c40a0a4f2e72ad6e30fa967dd073c">KWin::ShaderManager::instance</a></div><div class="ttdeci">static ShaderManager * instance()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00625">kwinglutils.cpp:625</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_shader_manager_html_ac458739dd73007f91cccfa95126e751b"><div class="ttname"><a href="class_k_win_1_1_shader_manager.html#ac458739dd73007f91cccfa95126e751b">KWin::ShaderManager::~ShaderManager</a></div><div class="ttdeci">~ShaderManager()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00642">kwinglutils.cpp:642</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_shader_manager_html_ac6aa576fa0612765a6f1ef565dd355e3"><div class="ttname"><a href="class_k_win_1_1_shader_manager.html#ac6aa576fa0612765a6f1ef565dd355e3">KWin::ShaderManager::generateCustomShader</a></div><div class="ttdeci">std::unique_ptr&lt; GLShader &gt; generateCustomShader(ShaderTraits traits, const QByteArray &amp;vertexSource=QByteArray(), const QByteArray &amp;fragmentSource=QByteArray())</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00786">kwinglutils.cpp:786</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_shader_manager_html_ad1641f0d1dc0c4139a3a7ce2a2d5bf68"><div class="ttname"><a href="class_k_win_1_1_shader_manager.html#ad1641f0d1dc0c4139a3a7ce2a2d5bf68">KWin::ShaderManager::loadShaderFromCode</a></div><div class="ttdeci">std::unique_ptr&lt; GLShader &gt; loadShaderFromCode(const QByteArray &amp;vertexSource, const QByteArray &amp;fragmentSource)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00925">kwinglutils.cpp:925</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_shader_manager_html_ad3a987dca8efdd872067e944fe95f106"><div class="ttname"><a href="class_k_win_1_1_shader_manager.html#ad3a987dca8efdd872067e944fe95f106">KWin::ShaderManager::cleanup</a></div><div class="ttdeci">static void cleanup()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00633">kwinglutils.cpp:633</a></div></div>
<div class="ttc" id="aclass_k_win_1_1_shader_manager_html_aedd0dd423df032415b439a08c6f70fed"><div class="ttname"><a href="class_k_win_1_1_shader_manager.html#aedd0dd423df032415b439a08c6f70fed">KWin::ShaderManager::pushShader</a></div><div class="ttdeci">GLShader * pushShader(ShaderTraits traits)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00883">kwinglutils.cpp:883</a></div></div>
<div class="ttc" id="akwineffects_8h_html"><div class="ttname"><a href="kwineffects_8h.html">kwineffects.h</a></div></div>
<div class="ttc" id="akwinglplatform_8h_html"><div class="ttname"><a href="kwinglplatform_8h.html">kwinglplatform.h</a></div></div>
<div class="ttc" id="akwingltexture__p_8h_html"><div class="ttname"><a href="kwingltexture__p_8h.html">kwingltexture_p.h</a></div></div>
<div class="ttc" id="akwinglutils_8cpp_html_ac6c45889010c1bd68631771b64f18101"><div class="ttname"><a href="kwinglutils_8cpp.html#ac6c45889010c1bd68631771b64f18101">unlikely</a></div><div class="ttdeci">#define unlikely(x)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00041">kwinglutils.cpp:41</a></div></div>
<div class="ttc" id="akwinglutils_8h_html"><div class="ttname"><a href="kwinglutils_8h.html">kwinglutils.h</a></div></div>
<div class="ttc" id="alogging__p_8h_html"><div class="ttname"><a href="logging__p_8h.html">logging_p.h</a></div></div>
<div class="ttc" id="anamespace_k_win_html"><div class="ttname"><a href="namespace_k_win.html">KWin</a></div><div class="ttdef"><b>Definition:</b> <a href="colortemperature_8h_source.html#l00012">colortemperature.h:13</a></div></div>
<div class="ttc" id="anamespace_k_win_html_a0248d00008818b2fc621c7a04283a6a8"><div class="ttname"><a href="namespace_k_win.html#a0248d00008818b2fc621c7a04283a6a8">KWin::cleanupGL</a></div><div class="ttdeci">void cleanupGL()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00156">kwinglutils.cpp:156</a></div></div>
<div class="ttc" id="anamespace_k_win_html_a0655524c1f1ba8dbb2cf16a1e4b9bb97"><div class="ttname"><a href="namespace_k_win.html#a0655524c1f1ba8dbb2cf16a1e4b9bb97">KWin::infiniteRegion</a></div><div class="ttdeci">KWIN_EXPORT QRect infiniteRegion()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglobals_8h_source.html#l00256">kwinglobals.h:256</a></div></div>
<div class="ttc" id="anamespace_k_win_html_a1a835bd09f64ab02e1dcc305149e52c0aad342f061e5658653454947703274e65"><div class="ttname"><a href="namespace_k_win.html#a1a835bd09f64ab02e1dcc305149e52c0aad342f061e5658653454947703274e65">KWin::TextureNPOT</a></div><div class="ttdeci">@ TextureNPOT</div><div class="ttdef"><b>Definition:</b> <a href="kwinglplatform_8h_source.html#l00062">kwinglplatform.h:62</a></div></div>
<div class="ttc" id="anamespace_k_win_html_a1a835bd09f64ab02e1dcc305149e52c0adbc4e01328e25c40ce2753a86d8151fb"><div class="ttname"><a href="namespace_k_win.html#a1a835bd09f64ab02e1dcc305149e52c0adbc4e01328e25c40ce2753a86d8151fb">KWin::GLSL</a></div><div class="ttdeci">@ GLSL</div><div class="ttdef"><b>Definition:</b> <a href="kwinglplatform_8h_source.html#l00044">kwinglplatform.h:44</a></div></div>
<div class="ttc" id="anamespace_k_win_html_a2e8b03336885017c7f43b1732adaa4e1"><div class="ttname"><a href="namespace_k_win.html#a2e8b03336885017c7f43b1732adaa4e1">KWin::glGetnUniformfv</a></div><div class="ttdeci">glGetnUniformfv_func glGetnUniformfv</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils__funcs_8cpp_source.html#l00029">kwinglutils_funcs.cpp:29</a></div></div>
<div class="ttc" id="anamespace_k_win_html_a2f3f6214a4ee208fa2ca5146e2f5dfb4"><div class="ttname"><a href="namespace_k_win.html#a2f3f6214a4ee208fa2ca5146e2f5dfb4">KWin::glResolveFunctions</a></div><div class="ttdeci">void glResolveFunctions(const std::function&lt; resolveFuncPtr(const char *)&gt; &amp;resolveFunction)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils__funcs_8cpp_source.html#l00031">kwinglutils_funcs.cpp:31</a></div></div>
<div class="ttc" id="anamespace_k_win_html_a3223e96fea9ab917c25be94e2434013a"><div class="ttname"><a href="namespace_k_win.html#a3223e96fea9ab917c25be94e2434013a">KWin::type</a></div><div class="ttdeci">Session::Type type</div><div class="ttdef"><b>Definition:</b> <a href="session_8cpp_source.html#l00017">session.cpp:17</a></div></div>
<div class="ttc" id="anamespace_k_win_html_a37f41802e32d865e1ea72146ac49976d"><div class="ttname"><a href="namespace_k_win.html#a37f41802e32d865e1ea72146ac49976d">KWin::resolveFuncPtr</a></div><div class="ttdeci">void(* resolveFuncPtr)()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00041">kwinglutils.h:41</a></div></div>
<div class="ttc" id="anamespace_k_win_html_a4559cf19c26624e384566b9859843499a28ec5128ff65bc7e124bcea51873aa3a"><div class="ttname"><a href="namespace_k_win.html#a4559cf19c26624e384566b9859843499a28ec5128ff65bc7e124bcea51873aa3a">KWin::VA_Position</a></div><div class="ttdeci">@ VA_Position</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00491">kwinglutils.h:491</a></div></div>
<div class="ttc" id="anamespace_k_win_html_a4559cf19c26624e384566b9859843499a37d64d713833c316fb5048336ac99dce"><div class="ttname"><a href="namespace_k_win.html#a4559cf19c26624e384566b9859843499a37d64d713833c316fb5048336ac99dce">KWin::VertexAttributeCount</a></div><div class="ttdeci">@ VertexAttributeCount</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00493">kwinglutils.h:493</a></div></div>
<div class="ttc" id="anamespace_k_win_html_a4559cf19c26624e384566b9859843499acb8706a051627d593d64635f4f9487cd"><div class="ttname"><a href="namespace_k_win.html#a4559cf19c26624e384566b9859843499acb8706a051627d593d64635f4f9487cd">KWin::VA_TexCoord</a></div><div class="ttdeci">@ VA_TexCoord</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00492">kwinglutils.h:492</a></div></div>
<div class="ttc" id="anamespace_k_win_html_a589f408567ff14915728d5c320d281ac"><div class="ttname"><a href="namespace_k_win.html#a589f408567ff14915728d5c320d281ac">KWin::align</a></div><div class="ttdeci">T align(T value, int bytes)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01339">kwinglutils.cpp:1339</a></div></div>
<div class="ttc" id="anamespace_k_win_html_a5ea35b6d898ef92e1904522c66efa184a21b19a78d7fe5620d542c70f4e1ad07e"><div class="ttname"><a href="namespace_k_win.html#a5ea35b6d898ef92e1904522c66efa184a21b19a78d7fe5620d542c70f4e1ad07e">KWin::ShaderTrait::AdjustSaturation</a></div><div class="ttdeci">@ AdjustSaturation</div></div>
<div class="ttc" id="anamespace_k_win_html_a5ea35b6d898ef92e1904522c66efa184a7974630d5c51a3472fbe51739f285185"><div class="ttname"><a href="namespace_k_win.html#a5ea35b6d898ef92e1904522c66efa184a7974630d5c51a3472fbe51739f285185">KWin::ShaderTrait::UniformColor</a></div><div class="ttdeci">@ UniformColor</div></div>
<div class="ttc" id="anamespace_k_win_html_a5ea35b6d898ef92e1904522c66efa184a85736ea5bc8da56c443818dfff6ef91f"><div class="ttname"><a href="namespace_k_win.html#a5ea35b6d898ef92e1904522c66efa184a85736ea5bc8da56c443818dfff6ef91f">KWin::ShaderTrait::MapTexture</a></div><div class="ttdeci">@ MapTexture</div></div>
<div class="ttc" id="anamespace_k_win_html_a5ea35b6d898ef92e1904522c66efa184ac870e2fca2609e8077de9470fbb9ab43"><div class="ttname"><a href="namespace_k_win.html#a5ea35b6d898ef92e1904522c66efa184ac870e2fca2609e8077de9470fbb9ab43">KWin::ShaderTrait::Modulate</a></div><div class="ttdeci">@ Modulate</div></div>
<div class="ttc" id="anamespace_k_win_html_a6533ff118367a4134acc9eceba330339"><div class="ttname"><a href="namespace_k_win.html#a6533ff118367a4134acc9eceba330339">KWin::openGLExtensions</a></div><div class="ttdeci">QList&lt; QByteArray &gt; openGLExtensions()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00177">kwinglutils.cpp:177</a></div></div>
<div class="ttc" id="anamespace_k_win_html_a756d2782a9973b04b9e7bca06f7d2ac7"><div class="ttname"><a href="namespace_k_win.html#a756d2782a9973b04b9e7bca06f7d2ac7">KWin::hasGLExtension</a></div><div class="ttdeci">bool hasGLExtension(const QByteArray &amp;extension)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00172">kwinglutils.cpp:172</a></div></div>
<div class="ttc" id="anamespace_k_win_html_a8ee4963427035f19f3113135353e274b"><div class="ttname"><a href="namespace_k_win.html#a8ee4963427035f19f3113135353e274b">KWin::kVersionNumber</a></div><div class="ttdeci">qint64 kVersionNumber(qint64 major, qint64 minor, qint64 patch=0)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglplatform_8h_source.html#l00024">kwinglplatform.h:24</a></div></div>
<div class="ttc" id="anamespace_k_win_html_ab036729b3392de77d132698721c6d02d"><div class="ttname"><a href="namespace_k_win.html#ab036729b3392de77d132698721c6d02d">KWin::hasGLVersion</a></div><div class="ttdeci">bool hasGLVersion(int major, int minor, int release)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00167">kwinglutils.cpp:167</a></div></div>
<div class="ttc" id="anamespace_k_win_html_abec06cdd3e590929a8ad5afa9b33495e"><div class="ttname"><a href="namespace_k_win.html#abec06cdd3e590929a8ad5afa9b33495e">KWin::initGL</a></div><div class="ttdeci">void initGL(const std::function&lt; resolveFuncPtr(const char *)&gt; &amp;resolveFunction)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00131">kwinglutils.cpp:131</a></div></div>
<div class="ttc" id="anamespace_k_win_html_ad2440ea2da1e281ea9a91cfe53d4d687"><div class="ttname"><a href="namespace_k_win.html#ad2440ea2da1e281ea9a91cfe53d4d687">KWin::checkGLError</a></div><div class="ttdeci">bool checkGLError(const char *txt)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l00204">kwinglutils.cpp:204</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_buffer_fence_html"><div class="ttname"><a href="struct_k_win_1_1_buffer_fence.html">KWin::BufferFence</a></div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01522">kwinglutils.cpp:1523</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_buffer_fence_html_a03b729a36a49b1bfe4cbbdc876747cb5"><div class="ttname"><a href="struct_k_win_1_1_buffer_fence.html#a03b729a36a49b1bfe4cbbdc876747cb5">KWin::BufferFence::signaled</a></div><div class="ttdeci">bool signaled() const</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01527">kwinglutils.cpp:1527</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_buffer_fence_html_a6d9d515e3d8271f45285afb975ff8426"><div class="ttname"><a href="struct_k_win_1_1_buffer_fence.html#a6d9d515e3d8271f45285afb975ff8426">KWin::BufferFence::nextEnd</a></div><div class="ttdeci">intptr_t nextEnd</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01525">kwinglutils.cpp:1525</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_buffer_fence_html_afa95d5161ddc23a0bf269285ae0f0f69"><div class="ttname"><a href="struct_k_win_1_1_buffer_fence.html#afa95d5161ddc23a0bf269285ae0f0f69">KWin::BufferFence::sync</a></div><div class="ttdeci">GLsync sync</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01524">kwinglutils.cpp:1524</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_frame_sizes_array_html"><div class="ttname"><a href="struct_k_win_1_1_frame_sizes_array.html">KWin::FrameSizesArray</a></div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01547">kwinglutils.cpp:1548</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_frame_sizes_array_html_a3ca0ab74c13e431d6ac3e748b3db244d"><div class="ttname"><a href="struct_k_win_1_1_frame_sizes_array.html#a3ca0ab74c13e431d6ac3e748b3db244d">KWin::FrameSizesArray::push</a></div><div class="ttdeci">void push(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01555">kwinglutils.cpp:1555</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_frame_sizes_array_html_aa1339c6cbd651439cb84a1ad34196f3f"><div class="ttname"><a href="struct_k_win_1_1_frame_sizes_array.html#aa1339c6cbd651439cb84a1ad34196f3f">KWin::FrameSizesArray::FrameSizesArray</a></div><div class="ttdeci">FrameSizesArray()</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01550">kwinglutils.cpp:1550</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_frame_sizes_array_html_af6579924b889f1fc169015e887c104b3"><div class="ttname"><a href="struct_k_win_1_1_frame_sizes_array.html#af6579924b889f1fc169015e887c104b3">KWin::FrameSizesArray::average</a></div><div class="ttdeci">size_t average() const</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01561">kwinglutils.cpp:1561</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_g_l_vertex2_d_html"><div class="ttname"><a href="struct_k_win_1_1_g_l_vertex2_d.html">KWin::GLVertex2D</a></div><div class="ttdef"><b>Definition:</b> <a href="kwineffects_8h_source.html#l02791">kwineffects.h:2792</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_g_l_vertex_attrib_html"><div class="ttname"><a href="struct_k_win_1_1_g_l_vertex_attrib.html">KWin::GLVertexAttrib</a></div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00503">kwinglutils.h:504</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_g_l_vertex_attrib_html_a28e29841b810227f2a58151ef35f1e81"><div class="ttname"><a href="struct_k_win_1_1_g_l_vertex_attrib.html#a28e29841b810227f2a58151ef35f1e81">KWin::GLVertexAttrib::relativeOffset</a></div><div class="ttdeci">int relativeOffset</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00508">kwinglutils.h:508</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_g_l_vertex_attrib_html_a3ed2de708fcebada7c3bbd1c4c787153"><div class="ttname"><a href="struct_k_win_1_1_g_l_vertex_attrib.html#a3ed2de708fcebada7c3bbd1c4c787153">KWin::GLVertexAttrib::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00506">kwinglutils.h:506</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_g_l_vertex_attrib_html_a52f0f48f7f6eab23b89b739a0f12a76b"><div class="ttname"><a href="struct_k_win_1_1_g_l_vertex_attrib.html#a52f0f48f7f6eab23b89b739a0f12a76b">KWin::GLVertexAttrib::type</a></div><div class="ttdeci">GLenum type</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00507">kwinglutils.h:507</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_g_l_vertex_attrib_html_ac43e9f13b02849ac96e2d9f0d853cdcf"><div class="ttname"><a href="struct_k_win_1_1_g_l_vertex_attrib.html#ac43e9f13b02849ac96e2d9f0d853cdcf">KWin::GLVertexAttrib::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8h_source.html#l00505">kwinglutils.h:505</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_vertex_attrib_html"><div class="ttname"><a href="struct_k_win_1_1_vertex_attrib.html">KWin::VertexAttrib</a></div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01513">kwinglutils.cpp:1514</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_vertex_attrib_html_a8610c8d91839531a20223173d64f1932"><div class="ttname"><a href="struct_k_win_1_1_vertex_attrib.html#a8610c8d91839531a20223173d64f1932">KWin::VertexAttrib::type</a></div><div class="ttdeci">GLenum type</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01516">kwinglutils.cpp:1516</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_vertex_attrib_html_acff5ecfe7a8465172bb21f5f9c385401"><div class="ttname"><a href="struct_k_win_1_1_vertex_attrib.html#acff5ecfe7a8465172bb21f5f9c385401">KWin::VertexAttrib::offset</a></div><div class="ttdeci">int offset</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01517">kwinglutils.cpp:1517</a></div></div>
<div class="ttc" id="astruct_k_win_1_1_vertex_attrib_html_af3dcc067d8df3459e60cb2e495d19bf8"><div class="ttname"><a href="struct_k_win_1_1_vertex_attrib.html#af3dcc067d8df3459e60cb2e495d19bf8">KWin::VertexAttrib::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="kwinglutils_8cpp_source.html#l01515">kwinglutils.cpp:1515</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Feb 22 2023 22:13:37 for KWin by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
